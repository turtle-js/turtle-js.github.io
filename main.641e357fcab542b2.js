(self.webpackChunkturtle_js=self.webpackChunkturtle_js||[]).push([[179],{3213:(Ve,ve,K)=>{"use strict";K.d(ve,{K:()=>ue});var p=K(8256);let ue=(()=>{class re{download(L,V){const q=new Blob([L],{type:"text/javascript"}),ie=document.createElement("a"),A=URL.createObjectURL(q);ie.href=A,ie.download=V,document.body.appendChild(ie),ie.click(),setTimeout(function(){document.body.removeChild(ie),window.URL.revokeObjectURL(A)},0)}downloadWithWM(L,V){const q=`/*\n * Edited using TurtleJS\n * https://turtle-js.github.io\n */\n\n${L.trimStart()}`;this.download(q,V)}}return re.\u0275fac=function(L){return new(L||re)},re.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})()},7635:(Ve,ve,K)=>{"use strict";K.d(ve,{n:()=>ue});var p=K(8256);let ue=(()=>{class re{constructor(){}loadAny(L){let V=localStorage.getItem(L);return V&&"null"!=V?V.trim().match(/^[\[\{]/)?JSON.parse(V):Number(V)?Number(V):V:null}loadString(L){let V=localStorage.getItem(L);return V&&"null"!=V?V:null}loadBool(L){let V=localStorage.getItem(L);return V?.match(/^(?:true|false)$/)?"true"==V:null}loadNumber(L){let V=localStorage.getItem(L);return Number(V)?Number(V):null}save(L,V){try{let q;return q="string"==typeof V?V:JSON.stringify(V),localStorage.setItem(L,q),!0}catch(q){return console.error(q),!1}}}return re.\u0275fac=function(L){return new(L||re)},re.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})()},8193:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>TurtleService});var simple_turtle__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7910),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1135),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8256),_local_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7635),_download_download_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3213);let TurtleService=(()=>{class _TurtleService{constructor(Ve,ve){this.lss=Ve,this.downloadService=ve,this._gridSize=this.lss.loadNumber("turtle-grid-size")??0,this._gridSizeSubject=new rxjs__WEBPACK_IMPORTED_MODULE_1__.X(this._gridSize),this.gridSize=this._gridSizeSubject.asObservable(),this._drawingSpeed=this.lss.loadNumber("turtle-drawing-speed")??1,this._drawingSpeedSubject=new rxjs__WEBPACK_IMPORTED_MODULE_1__.X(this._drawingSpeed),this.drawingSpeed=this._drawingSpeedSubject.asObservable(),this._currentCode=this._getCodeToLoad(),this._currentCodeSubject=new rxjs__WEBPACK_IMPORTED_MODULE_1__.X(this._currentCode),this.currentCode=this._currentCodeSubject.asObservable(),this._isCodeRunning=!1,this._isCodeRunningSubject=new rxjs__WEBPACK_IMPORTED_MODULE_1__.X(this._isCodeRunning),this.isCodeRunning=this._isCodeRunningSubject.asObservable()}_getCodeToLoad(){return this.lss.loadString("turtle-codemirror")||_TurtleService._defaultCode}create(Ve,ve,K){this.turtle=new simple_turtle__WEBPACK_IMPORTED_MODULE_0__.l8(Ve,K),this.gridTurtle=new simple_turtle__WEBPACK_IMPORTED_MODULE_0__.l8(ve,K)}setCode(Ve){this._currentCode=Ve,this._currentCodeSubject.next(Ve)}changeGridSize(){switch(this._gridSize){case 0:this._gridSize=50;break;case 50:this._gridSize=25;break;case 25:this._gridSize=10;break;case 10:this._gridSize=0}this._gridSizeSubject.next(this._gridSize),this.lss.save("turtle-grid-size",this._gridSize),this._drawCorrectGrid()}changeDrawingSpeed(){switch(this._drawingSpeed){case 1:this._drawingSpeed=50;break;case 50:this._drawingSpeed=200;break;case 200:this._drawingSpeed=500;break;case 500:this._drawingSpeed=1}this._drawingSpeedSubject.next(this._drawingSpeed),this.turtle.setSpeed(this._drawingSpeed),this.lss.save("turtle-drawing-speed",this._drawingSpeed)}_drawCorrectGrid(){this.gridTurtle.instantReset(),this._gridSize&&this.gridTurtle.drawGrid(this._gridSize)}resetCanvas(){this._drawCorrectGrid(),this.turtle.instantReset(),this.turtle.setSpeed(this._drawingSpeed)}runCodeTimeout(){this._isCodeRunning||(this._isCodeRunning=!0,this._isCodeRunningSubject.next(this._isCodeRunning),this.resetCanvas(),setTimeout(()=>{this._runCode(),this._isCodeRunning=!1,this._isCodeRunningSubject.next(this._isCodeRunning),this._saveCodeToLS()},0))}_runCode(){try{eval(this._currentCode)}catch(Ve){console.error(Ve.toString())}}_saveCodeToLS(){this.lss.save("turtle-codemirror",this._currentCode)}downloadCode(){this.downloadService.downloadWithWM(this._currentCode,"turtle code.js")}}return _TurtleService._defaultCode="\nfunction drawShape(sides, steps) {\n    const angle = 360 / sides\n    for (let i = 0; i < sides; i++) {\n        forward(steps)\n        right(angle)\n    }\n}\n\nconst steps = 50\ndrawShape(3, steps)\ndrawShape(4, steps)\ndrawShape(5, steps)\ndrawShape(6, steps)\ndrawShape(8, steps)\ndrawShape(10, steps)\ndrawShape(12, steps)\n",_TurtleService.\u0275fac=function Ve(ve){return new(ve||_TurtleService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.LFG(_local_storage_local_storage_service__WEBPACK_IMPORTED_MODULE_3__.n),_angular_core__WEBPACK_IMPORTED_MODULE_2__.LFG(_download_download_service__WEBPACK_IMPORTED_MODULE_4__.K))},_TurtleService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yz7({token:_TurtleService,factory:_TurtleService.\u0275fac,providedIn:"root"}),_TurtleService})()},8893:(Ve,ve,K)=>{"use strict";var p=K(8256);let ue=null;function re(){return ue}const q=new p.OlP("DocumentToken");let ie=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=p.Yz7({token:s,factory:function(){return function A(){return(0,p.LFG)(N)}()},providedIn:"platform"}),s})();const k=new p.OlP("Location Initialized");let N=(()=>{class s extends ie{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(i){const u=re().getGlobalEventTarget(this._doc,"window");return u.addEventListener("popstate",i,!1),()=>u.removeEventListener("popstate",i)}onHashChange(i){const u=re().getGlobalEventTarget(this._doc,"window");return u.addEventListener("hashchange",i,!1),()=>u.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,u,v){Z()?this._history.pushState(i,u,v):this.location.hash=v}replaceState(i,u,v){Z()?this._history.replaceState(i,u,v):this.location.hash=v}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(q))},s.\u0275prov=p.Yz7({token:s,factory:function(){return function Q(){return new N((0,p.LFG)(q))}()},providedIn:"platform"}),s})();function Z(){return!!window.history.pushState}function B(s,a){if(0==s.length)return a;if(0==a.length)return s;let i=0;return s.endsWith("/")&&i++,a.startsWith("/")&&i++,2==i?s+a.substring(1):1==i?s+a:s+"/"+a}function se(s){const a=s.match(/#|\?|$/),i=a&&a.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function z(s){return s&&"?"!==s[0]?"?"+s:s}let H=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=p.Yz7({token:s,factory:function(){return(0,p.f3M)(X)},providedIn:"root"}),s})();const ne=new p.OlP("appBaseHref");let X=(()=>{class s extends H{constructor(i,u){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=u??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return B(this._baseHref,i)}path(i=!1){const u=this._platformLocation.pathname+z(this._platformLocation.search),v=this._platformLocation.hash;return v&&i?`${u}${v}`:u}pushState(i,u,v,w){const x=this.prepareExternalUrl(v+z(w));this._platformLocation.pushState(i,u,x)}replaceState(i,u,v,w){const x=this.prepareExternalUrl(v+z(w));this._platformLocation.replaceState(i,u,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(ie),p.LFG(ne,8))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),G=(()=>{class s extends H{constructor(i,u){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=u&&(this._baseHref=u)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let u=this._platformLocation.hash;return null==u&&(u="#"),u.length>0?u.substring(1):u}prepareExternalUrl(i){const u=B(this._baseHref,i);return u.length>0?"#"+u:u}pushState(i,u,v,w){let x=this.prepareExternalUrl(v+z(w));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.pushState(i,u,x)}replaceState(i,u,v,w){let x=this.prepareExternalUrl(v+z(w));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.replaceState(i,u,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(ie),p.LFG(ne,8))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),W=(()=>{class s{constructor(i){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const u=this._locationStrategy.getBaseHref();this._baseHref=se(pe(u)),this._locationStrategy.onPopState(v=>{this._subject.emit({url:this.path(!0),pop:!0,state:v.state,type:v.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,u=""){return this.path()==this.normalize(i+z(u))}normalize(i){return s.stripTrailingSlash(function I(s,a){return s&&a.startsWith(s)?a.substring(s.length):a}(this._baseHref,pe(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,u="",v=null){this._locationStrategy.pushState(v,"",i,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+z(u)),v)}replaceState(i,u="",v=null){this._locationStrategy.replaceState(v,"",i,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+z(u)),v)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(u=>{this._notifyUrlChangeListeners(u.url,u.state)})),()=>{const u=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(u,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",u){this._urlChangeListeners.forEach(v=>v(i,u))}subscribe(i,u,v){return this._subject.subscribe({next:i,error:u,complete:v})}}return s.normalizeQueryParams=z,s.joinWithSlash=B,s.stripTrailingSlash=se,s.\u0275fac=function(i){return new(i||s)(p.LFG(H))},s.\u0275prov=p.Yz7({token:s,factory:function(){return function te(){return new W((0,p.LFG)(H))}()},providedIn:"root"}),s})();function pe(s){return s.replace(/\/index.html$/,"")}let bi=(()=>{class s{constructor(i,u,v,w){this._iterableDiffers=i,this._keyValueDiffers=u,this._ngEl=v,this._renderer=w,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(u=>this._toggleClass(u.key,u.currentValue)),i.forEachChangedItem(u=>this._toggleClass(u.key,u.currentValue)),i.forEachRemovedItem(u=>{u.previousValue&&this._toggleClass(u.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(u=>{if("string"!=typeof u.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(u.item)}`);this._toggleClass(u.item,!0)}),i.forEachRemovedItem(u=>this._toggleClass(u.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(u=>this._toggleClass(u,!0)):Object.keys(i).forEach(u=>this._toggleClass(u,!!i[u])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(u=>this._toggleClass(u,!1)):Object.keys(i).forEach(u=>this._toggleClass(u,!1)))}_toggleClass(i,u){(i=i.trim())&&i.split(/\s+/g).forEach(v=>{u?this._renderer.addClass(this._ngEl.nativeElement,v):this._renderer.removeClass(this._ngEl.nativeElement,v)})}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},s.\u0275dir=p.lG2({type:s,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),s})(),Oe=(()=>{class s{constructor(i,u){this._viewContainer=i,this._context=new Fr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=u}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Ws("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Ws("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,u){return!0}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(p.s_b),p.Y36(p.Rgc))},s.\u0275dir=p.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),s})();class Fr{constructor(){this.$implicit=null,this.ngIf=null}}function Ws(s,a){if(a&&!a.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,p.AaK)(a)}'.`)}class qs{createSubscription(a,i){return a.subscribe({next:i,error:u=>{throw u}})}dispose(a){a.unsubscribe()}}class Zr{createSubscription(a,i){return a.then(i,u=>{throw u})}dispose(a){}}const Lf=new Zr,Pf=new qs;let Lr=(()=>{class s{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,u=>this._updateLatestValue(i,u))}_selectStrategy(i){if((0,p.QGY)(i))return Lf;if((0,p.F4k)(i))return Pf;throw function Jn(s,a){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,u){i===this._obj&&(this._latestValue=u,this._ref.markForCheck())}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(p.sBO,16))},s.\u0275pipe=p.Yjl({name:"async",type:s,pure:!1,standalone:!0}),s})(),Xi=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({}),s})();let Yl=(()=>{class s{}return s.\u0275prov=(0,p.Yz7)({token:s,providedIn:"root",factory:()=>new Nn((0,p.LFG)(q),window)}),s})();class Nn{constructor(a,i){this.document=a,this.window=i,this.offset=()=>[0,0]}setOffset(a){this.offset=Array.isArray(a)?()=>a:a}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(a){this.supportsScrolling()&&this.window.scrollTo(a[0],a[1])}scrollToAnchor(a){if(!this.supportsScrolling())return;const i=function Hf(s,a){const i=s.getElementById(a)||s.getElementsByName(a)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const u=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let v=u.currentNode;for(;v;){const w=v.shadowRoot;if(w){const x=w.getElementById(a)||w.querySelector(`[name="${a}"]`);if(x)return x}v=u.nextNode()}}return null}(this.document,a);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(a){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=a)}}scrollToElement(a){const i=a.getBoundingClientRect(),u=i.left+this.window.pageXOffset,v=i.top+this.window.pageYOffset,w=this.offset();this.window.scrollTo(u-w[0],v-w[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const a=$a(this.window.history)||$a(Object.getPrototypeOf(this.window.history));return!(!a||!a.writable&&!a.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $a(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class xi extends class Xl extends class V{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function L(s){ue||(ue=s)}(new xi)}onAndCancel(a,i,u){return a.addEventListener(i,u,!1),()=>{a.removeEventListener(i,u,!1)}}dispatchEvent(a,i){a.dispatchEvent(i)}remove(a){a.parentNode&&a.parentNode.removeChild(a)}createElement(a,i){return(i=i||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,i){return"window"===i?window:"document"===i?a:"body"===i?a.body:null}getBaseHref(a){const i=function Jl(){return ss=ss||document.querySelector("base"),ss?ss.getAttribute("href"):null}();return null==i?null:function Js(s){no=no||document.createElement("a"),no.setAttribute("href",s);const a=no.pathname;return"/"===a.charAt(0)?a:`/${a}`}(i)}resetBaseElement(){ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return function Or(s,a){a=encodeURIComponent(a);for(const i of s.split(";")){const u=i.indexOf("="),[v,w]=-1==u?[i,""]:[i.slice(0,u),i.slice(u+1)];if(v.trim()===a)return decodeURIComponent(w)}return null}(document.cookie,a)}}let no,ss=null;const Za=new p.OlP("TRANSITION_ID"),Br=[{provide:p.ip1,useFactory:function ea(s,a,i){return()=>{i.get(p.CZH).donePromise.then(()=>{const u=re(),v=a.querySelectorAll(`style[ng-transition="${s}"]`);for(let w=0;w<v.length;w++)u.remove(v[w])})}},deps:[Za,q,p.zs3],multi:!0}];let eu=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const as=new p.OlP("EventManagerPlugins");let bn=(()=>{class s{constructor(i,u){this._zone=u,this._eventNameToPlugin=new Map,i.forEach(v=>v.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,u,v){return this._findPluginFor(u).addEventListener(i,u,v)}addGlobalEventListener(i,u,v){return this._findPluginFor(u).addGlobalEventListener(i,u,v)}getZone(){return this._zone}_findPluginFor(i){const u=this._eventNameToPlugin.get(i);if(u)return u;const v=this._plugins;for(let w=0;w<v.length;w++){const x=v[w];if(x.supports(i))return this._eventNameToPlugin.set(i,x),x}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(as),p.LFG(p.R0b))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();class li{constructor(a){this._doc=a}addGlobalEventListener(a,i,u){const v=re().getGlobalEventTarget(this._doc,a);if(!v)throw new Error(`Unsupported event target ${v} for event ${i}`);return this.addEventListener(v,i,u)}}let Gt=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const u=new Set;i.forEach(v=>{this._stylesSet.has(v)||(this._stylesSet.add(v),u.add(v))}),this.onStylesAdded(u)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})(),ta=(()=>{class s extends Gt{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,u,v){i.forEach(w=>{const x=this._doc.createElement("style");x.textContent=w,v.push(u.appendChild(x))})}addHost(i){const u=[];this._addStylesToHost(this._stylesSet,i,u),this._hostNodes.set(i,u)}removeHost(i){const u=this._hostNodes.get(i);u&&u.forEach(uc),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((u,v)=>{this._addStylesToHost(i,v,u)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(uc))}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(q))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();function uc(s){re().remove(s)}const tu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ti=/%COMP%/g;function Qr(s,a,i){for(let u=0;u<a.length;u++){let v=a[u];Array.isArray(v)?Qr(s,v,i):(v=v.replace(Ti,s),i.push(v))}return i}function ro(s){return a=>{if("__ngUnwrap__"===a)return s;!1===s(a)&&(a.preventDefault(),a.returnValue=!1)}}let cr=(()=>{class s{constructor(i,u,v){this.eventManager=i,this.sharedStylesHost=u,this.appId=v,this.rendererByCompId=new Map,this.defaultRenderer=new ui(i)}createRenderer(i,u){if(!i||!u)return this.defaultRenderer;switch(u.encapsulation){case p.ifc.Emulated:{let v=this.rendererByCompId.get(u.id);return v||(v=new oa(this.eventManager,this.sharedStylesHost,u,this.appId),this.rendererByCompId.set(u.id,v)),v.applyToHost(i),v}case 1:case p.ifc.ShadowDom:return new cc(this.eventManager,this.sharedStylesHost,i,u);default:if(!this.rendererByCompId.has(u.id)){const v=Qr(u.id,u.styles,[]);this.sharedStylesHost.addStyles(v),this.rendererByCompId.set(u.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(bn),p.LFG(ta),p.LFG(p.AFp))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();class ui{constructor(a){this.eventManager=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(a,i){return i?document.createElementNS(tu[i]||i,a):document.createElement(a)}createComment(a){return document.createComment(a)}createText(a){return document.createTextNode(a)}appendChild(a,i){(ia(a)?a.content:a).appendChild(i)}insertBefore(a,i,u){a&&(ia(a)?a.content:a).insertBefore(i,u)}removeChild(a,i){a&&a.removeChild(i)}selectRootElement(a,i){let u="string"==typeof a?document.querySelector(a):a;if(!u)throw new Error(`The selector "${a}" did not match any elements`);return i||(u.textContent=""),u}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,i,u,v){if(v){i=v+":"+i;const w=tu[v];w?a.setAttributeNS(w,i,u):a.setAttribute(i,u)}else a.setAttribute(i,u)}removeAttribute(a,i,u){if(u){const v=tu[u];v?a.removeAttributeNS(v,i):a.removeAttribute(`${u}:${i}`)}else a.removeAttribute(i)}addClass(a,i){a.classList.add(i)}removeClass(a,i){a.classList.remove(i)}setStyle(a,i,u,v){v&(p.JOm.DashCase|p.JOm.Important)?a.style.setProperty(i,u,v&p.JOm.Important?"important":""):a.style[i]=u}removeStyle(a,i,u){u&p.JOm.DashCase?a.style.removeProperty(i):a.style[i]=""}setProperty(a,i,u){a[i]=u}setValue(a,i){a.nodeValue=i}listen(a,i,u){return"string"==typeof a?this.eventManager.addGlobalEventListener(a,i,ro(u)):this.eventManager.addEventListener(a,i,ro(u))}}function ia(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class oa extends ui{constructor(a,i,u,v){super(a),this.component=u;const w=Qr(v+"-"+u.id,u.styles,[]);i.addStyles(w),this.contentAttr=function na(s){return"_ngcontent-%COMP%".replace(Ti,s)}(v+"-"+u.id),this.hostAttr=function ra(s){return"_nghost-%COMP%".replace(Ti,s)}(v+"-"+u.id)}applyToHost(a){super.setAttribute(a,this.hostAttr,"")}createElement(a,i){const u=super.createElement(a,i);return super.setAttribute(u,this.contentAttr,""),u}}class cc extends ui{constructor(a,i,u,v){super(a),this.sharedStylesHost=i,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Qr(v.id,v.styles,[]);for(let x=0;x<w.length;x++){const P=document.createElement("style");P.textContent=w[x],this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(a,i){return super.appendChild(this.nodeOrShadowRoot(a),i)}insertBefore(a,i,u){return super.insertBefore(this.nodeOrShadowRoot(a),i,u)}removeChild(a,i){return super.removeChild(this.nodeOrShadowRoot(a),i)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}}let fc=(()=>{class s extends li{constructor(i){super(i)}supports(i){return!0}addEventListener(i,u,v){return i.addEventListener(u,v,!1),()=>this.removeEventListener(i,u,v)}removeEventListener(i,u,v){return i.removeEventListener(u,v)}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(q))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const Xa=["alt","control","meta","shift"],Ja={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},el={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let nu=(()=>{class s extends li{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,u,v){const w=s.parseEventName(u),x=s.eventCallback(w.fullKey,v,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>re().onAndCancel(i,w.domEventName,x))}static parseEventName(i){const u=i.toLowerCase().split("."),v=u.shift();if(0===u.length||"keydown"!==v&&"keyup"!==v)return null;const w=s._normalizeKey(u.pop());let x="",P=u.indexOf("code");if(P>-1&&(u.splice(P,1),x="code."),Xa.forEach(_e=>{const Pe=u.indexOf(_e);Pe>-1&&(u.splice(Pe,1),x+=_e+".")}),x+=w,0!=u.length||0===w.length)return null;const oe={};return oe.domEventName=v,oe.fullKey=x,oe}static matchEventFullKeyCode(i,u){let v=Ja[i.key]||i.key,w="";return u.indexOf("code.")>-1&&(v=i.code,w="code."),!(null==v||!v)&&(v=v.toLowerCase()," "===v?v="space":"."===v&&(v="dot"),Xa.forEach(x=>{x!==v&&(0,el[x])(i)&&(w+=x+".")}),w+=v,w===u)}static eventCallback(i,u,v){return w=>{s.matchEventFullKeyCode(w,i)&&v.runGuarded(()=>u(w))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(q))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();const nl=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function Ai(){xi.makeCurrent()},multi:!0},{provide:q,useFactory:function tl(){return(0,p.RDi)(document),document},deps:[]}]),sa=new p.OlP(""),xo=[{provide:p.rWj,useClass:class Ka{addToWindow(a){p.dqk.getAngularTestability=(u,v=!0)=>{const w=a.findTestabilityInTree(u,v);if(null==w)throw new Error("Could not find testability for element.");return w},p.dqk.getAllAngularTestabilities=()=>a.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>a.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(u=>{const v=p.dqk.getAllAngularTestabilities();let w=v.length,x=!1;const P=function(oe){x=x||oe,w--,0==w&&u(x)};v.forEach(function(oe){oe.whenStable(P)})})}findTestabilityInTree(a,i,u){return null==i?null:a.getTestability(i)??(u?re().isShadowRoot(i)?this.findTestabilityInTree(a,i.host,!0):this.findTestabilityInTree(a,i.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],tr=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function iu(){return new p.qLn},deps:[]},{provide:as,useClass:fc,multi:!0,deps:[q,p.R0b,p.Lbi]},{provide:as,useClass:nu,multi:!0,deps:[q]},{provide:cr,useClass:cr,deps:[bn,ta,p.AFp]},{provide:p.FYo,useExisting:cr},{provide:Gt,useExisting:ta},{provide:ta,useClass:ta,deps:[q]},{provide:bn,useClass:bn,deps:[as,p.R0b]},{provide:class Uf{},useClass:eu,deps:[]},[]];let qf=(()=>{class s{constructor(i){}static withServerTransition(i){return{ngModule:s,providers:[{provide:p.AFp,useValue:i.appId},{provide:Za,useExisting:p.AFp},Br]}}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(sa,12))},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({providers:[...tr,...xo],imports:[Xi,p.hGG]}),s})(),Xr=(()=>{class s{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(q))},s.\u0275prov=p.Yz7({token:s,factory:function(i){let u=null;return u=i?new i:function aa(){return new Xr((0,p.LFG)(q))}(),u},providedIn:"root"}),s})();typeof window<"u"&&window;var vn=K(2076),Ao=K(7669);function nt(...s){const a=(0,Ao.yG)(s);return(0,vn.D)(s,a)}var Cr=K(1135);const ol=(0,K(3888).d)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});var Li=K(9751);const{isArray:Sn}=Array,{getPrototypeOf:ps,prototype:wr,keys:Qf}=Object;function gc(s){if(1===s.length){const a=s[0];if(Sn(a))return{args:a,keys:null};if(function dr(s){return s&&"object"==typeof s&&ps(s)===wr}(a)){const i=Qf(a);return{args:i.map(u=>a[u]),keys:i}}}return{args:s,keys:null}}var Wt=K(4671),We=K(4004);const{isArray:hr}=Array;function fi(s){return(0,We.U)(a=>function Hr(s,a){return hr(a)?s(...a):s(a)}(s,a))}function ou(s,a){return s.reduce((i,u,v)=>(i[u]=a[v],i),{})}var Rn=K(5403),Xf=K(9672);function Jf(...s){const a=(0,Ao.yG)(s),i=(0,Ao.jO)(s),{args:u,keys:v}=gc(s);if(0===u.length)return(0,vn.D)([],a);const w=new Li.y(function sl(s,a,i=Wt.y){return u=>{An(a,()=>{const{length:v}=s,w=new Array(v);let x=v,P=v;for(let oe=0;oe<v;oe++)An(a,()=>{const _e=(0,vn.D)(s[oe],a);let Pe=!1;_e.subscribe((0,Rn.x)(u,Se=>{w[oe]=Se,Pe||(Pe=!0,P--),P||u.next(i(w.slice()))},()=>{--x||u.complete()}))},u)},u)}}(u,a,v?x=>ou(v,x):Wt.y));return i?w.pipe(fi(i)):w}function An(s,a,i){s?(0,Xf.f)(i,s,a):a()}var so=K(8189);function Pi(...s){return function ao(){return(0,so.J)(1)}()((0,vn.D)(s,(0,Ao.yG)(s)))}var gs=K(8421);function su(s){return new Li.y(a=>{(0,gs.Xf)(s()).subscribe(a)})}var ed=K(9635),vs=K(576);function Oo(s,a){const i=(0,vs.m)(s)?s:()=>s,u=v=>v.error(i());return new Li.y(a?v=>a.schedule(u,0,v):u)}var lo=K(515),vc=K(727),Vn=K(4482);function ms(){return(0,Vn.e)((s,a)=>{let i=null;s._refCount++;const u=(0,Rn.x)(a,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(i=null);const v=s._connection,w=i;i=null,v&&(!w||v===w)&&v.unsubscribe(),a.unsubscribe()});s.subscribe(u),u.closed||(i=s.connect())})}class td extends Li.y{constructor(a,i){super(),this.source=a,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,(0,Vn.A)(a)&&(this.lift=a.lift)}_subscribe(a){return this.getSubject().subscribe(a)}getSubject(){const a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:a}=this;this._subject=this._connection=null,a?.unsubscribe()}connect(){let a=this._connection;if(!a){a=this._connection=new vc.w0;const i=this.getSubject();a.add(this.source.subscribe((0,Rn.x)(i,void 0,()=>{this._teardown(),i.complete()},u=>{this._teardown(),i.error(u)},()=>this._teardown()))),a.closed&&(this._connection=null,a=vc.w0.EMPTY)}return a}refCount(){return ms()(this)}}var Dr=K(7579);function br(s,a){return(0,Vn.e)((i,u)=>{let v=null,w=0,x=!1;const P=()=>x&&!v&&u.complete();i.subscribe((0,Rn.x)(u,oe=>{v?.unsubscribe();let _e=0;const Pe=w++;(0,gs.Xf)(s(oe,Pe)).subscribe(v=(0,Rn.x)(u,Se=>u.next(a?a(oe,Se,Pe,_e++):Se),()=>{v=null,P()}))},()=>{x=!0,P()}))})}function uo(s){return s<=0?()=>lo.E:(0,Vn.e)((a,i)=>{let u=0;a.subscribe((0,Rn.x)(i,v=>{++u<=s&&(i.next(v),s<=u&&i.complete())}))})}function Ni(s,a){return(0,Vn.e)((i,u)=>{let v=0;i.subscribe((0,Rn.x)(u,w=>s.call(a,w,v++)&&u.next(w)))})}var mn=K(5577);function Fo(s){return(0,Vn.e)((a,i)=>{let u=!1;a.subscribe((0,Rn.x)(i,v=>{u=!0,i.next(v)},()=>{u||i.next(s),i.complete()}))})}function Ri(s=ko){return(0,Vn.e)((a,i)=>{let u=!1;a.subscribe((0,Rn.x)(i,v=>{u=!0,i.next(v)},()=>u?i.complete():i.error(s())))})}function ko(){return new ol}function di(s,a){const i=arguments.length>=2;return u=>u.pipe(s?Ni((v,w)=>s(v,w,u)):Wt.y,uo(1),i?Fo(a):Ri(()=>new ol))}function Nt(s,a){return(0,vs.m)(a)?(0,mn.z)(s,a,1):(0,mn.z)(s,1)}function Bn(s,a,i){const u=(0,vs.m)(s)||a||i?{next:s,error:a,complete:i}:s;return u?(0,Vn.e)((v,w)=>{var x;null===(x=u.subscribe)||void 0===x||x.call(u);let P=!0;v.subscribe((0,Rn.x)(w,oe=>{var _e;null===(_e=u.next)||void 0===_e||_e.call(u,oe),w.next(oe)},()=>{var oe;P=!1,null===(oe=u.complete)||void 0===oe||oe.call(u),w.complete()},oe=>{var _e;P=!1,null===(_e=u.error)||void 0===_e||_e.call(u,oe),w.error(oe)},()=>{var oe,_e;P&&(null===(oe=u.unsubscribe)||void 0===oe||oe.call(u)),null===(_e=u.finalize)||void 0===_e||_e.call(u)}))}):Wt.y}function hi(s){return(0,Vn.e)((a,i)=>{let w,u=null,v=!1;u=a.subscribe((0,Rn.x)(i,void 0,void 0,x=>{w=(0,gs.Xf)(s(x,hi(s)(a))),u?(u.unsubscribe(),u=null,w.subscribe(i)):v=!0})),v&&(u.unsubscribe(),u=null,w.subscribe(i))})}function En(s,a,i,u,v){return(w,x)=>{let P=i,oe=a,_e=0;w.subscribe((0,Rn.x)(x,Pe=>{const Se=_e++;oe=P?s(oe,Pe,Se):(P=!0,Pe),u&&x.next(oe)},v&&(()=>{P&&x.next(oe),x.complete()})))}}function Vi(s,a){return(0,Vn.e)(En(s,a,arguments.length>=2,!0))}function al(s){return s<=0?()=>lo.E:(0,Vn.e)((a,i)=>{let u=[];a.subscribe((0,Rn.x)(i,v=>{u.push(v),s<u.length&&u.shift()},()=>{for(const v of u)i.next(v);i.complete()},void 0,()=>{u=null}))})}function au(s,a){const i=arguments.length>=2;return u=>u.pipe(s?Ni((v,w)=>s(v,w,u)):Wt.y,al(1),i?Fo(a):Ri(()=>new ol))}function pi(s){return(0,Vn.e)((a,i)=>{try{a.subscribe(i)}finally{i.add(s)}})}const Ct="primary",gi=Symbol("RouteTitle");class yc{constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const i=this.params[a];return Array.isArray(i)?i[0]:i}return null}getAll(a){if(this.has(a)){const i=this.params[a];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Ur(s){return new yc(s)}function ys(s,a,i){const u=i.path.split("/");if(u.length>s.length||"full"===i.pathMatch&&(a.hasChildren()||u.length<s.length))return null;const v={};for(let w=0;w<u.length;w++){const x=u[w],P=s[w];if(x.startsWith(":"))v[x.substring(1)]=P;else if(x!==P.path)return null}return{consumed:s.slice(0,u.length),posParams:v}}function jr(s,a){const i=s?Object.keys(s):void 0,u=a?Object.keys(a):void 0;if(!i||!u||i.length!=u.length)return!1;let v;for(let w=0;w<i.length;w++)if(v=i[w],!_s(s[v],a[v]))return!1;return!0}function _s(s,a){if(Array.isArray(s)&&Array.isArray(a)){if(s.length!==a.length)return!1;const i=[...s].sort(),u=[...a].sort();return i.every((v,w)=>u[w]===v)}return s===a}function _c(s){return Array.prototype.concat.apply([],s)}function zr(s){return s.length>0?s[s.length-1]:null}function In(s,a){for(const i in s)s.hasOwnProperty(i)&&a(s[i],i)}function fo(s){return(0,p.CqO)(s)?s:(0,p.QGY)(s)?(0,vn.D)(Promise.resolve(s)):nt(s)}const ll={exact:function ws(s,a,i){if(!an(s.segments,a.segments)||!uu(s.segments,a.segments,i)||s.numberOfChildren!==a.numberOfChildren)return!1;for(const u in a.children)if(!s.children[u]||!ws(s.children[u],a.children[u],i))return!1;return!0},subset:Po},Cs={exact:function rd(s,a){return jr(s,a)},subset:function Bi(s,a){return Object.keys(a).length<=Object.keys(s).length&&Object.keys(a).every(i=>_s(s[i],a[i]))},ignored:()=>!0};function lu(s,a,i){return ll[i.paths](s.root,a.root,i.matrixParams)&&Cs[i.queryParams](s.queryParams,a.queryParams)&&!("exact"===i.fragment&&s.fragment!==a.fragment)}function Po(s,a,i){return No(s,a,a.segments,i)}function No(s,a,i,u){if(s.segments.length>i.length){const v=s.segments.slice(0,i.length);return!(!an(v,i)||a.hasChildren()||!uu(v,i,u))}if(s.segments.length===i.length){if(!an(s.segments,i)||!uu(s.segments,i,u))return!1;for(const v in a.children)if(!s.children[v]||!Po(s.children[v],a.children[v],u))return!1;return!0}{const v=i.slice(0,s.segments.length),w=i.slice(s.segments.length);return!!(an(s.segments,v)&&uu(s.segments,v,u)&&s.children[Ct])&&No(s.children[Ct],a,w,u)}}function uu(s,a,i){return a.every((u,v)=>Cs[i](s[v].parameters,u.parameters))}class Hi{constructor(a,i,u){this.root=a,this.queryParams=i,this.fragment=u}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ur(this.queryParams)),this._queryParamMap}toString(){return od.serialize(this)}}class Et{constructor(a,i){this.segments=a,this.children=i,this.parent=null,In(i,(u,v)=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ya(this)}}class Ro{constructor(a,i){this.path=a,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Ur(this.parameters)),this._parameterMap}toString(){return Ca(this)}}function an(s,a){return s.length===a.length&&s.every((i,u)=>i.path===a[u].path)}let ul=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=p.Yz7({token:s,factory:function(){return new po},providedIn:"root"}),s})();class po{parse(a){const i=new cu(a);return new Hi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(a){const i=`/${_a(a.root,!0)}`,u=function Ui(s){const a=Object.keys(s).map(i=>{const u=s[i];return Array.isArray(u)?u.map(v=>`${bs(i)}=${bs(v)}`).join("&"):`${bs(i)}=${bs(u)}`}).filter(i=>!!i);return a.length?`?${a.join("&")}`:""}(a.queryParams);return`${i}${u}${"string"==typeof a.fragment?`#${function Cc(s){return encodeURI(s)}(a.fragment)}`:""}`}}const od=new po;function ya(s){return s.segments.map(a=>Ca(a)).join("/")}function _a(s,a){if(!s.hasChildren())return ya(s);if(a){const i=s.children[Ct]?_a(s.children[Ct],!1):"",u=[];return In(s.children,(v,w)=>{w!==Ct&&u.push(`${w}:${_a(v,!1)}`)}),u.length>0?`${i}(${u.join("//")})`:i}{const i=function ma(s,a){let i=[];return In(s.children,(u,v)=>{v===Ct&&(i=i.concat(a(u,v)))}),In(s.children,(u,v)=>{v!==Ct&&(i=i.concat(a(u,v)))}),i}(s,(u,v)=>v===Ct?[_a(s.children[Ct],!1)]:[`${v}:${_a(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Ct]?`${ya(s)}/${i[0]}`:`${ya(s)}/(${i.join("//")})`}}function Ds(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bs(s){return Ds(s).replace(/%3B/gi,";")}function cl(s){return Ds(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $r(s){return decodeURIComponent(s)}function Vo(s){return $r(s.replace(/\+/g,"%20"))}function Ca(s){return`${cl(s.path)}${function wa(s){return Object.keys(s).map(a=>`;${cl(a)}=${cl(s[a])}`).join("")}(s.parameters)}`}const sd=/^[^\/()?;=#]+/;function fl(s){const a=s.match(sd);return a?a[0]:""}const Sr=/^[^=?&#]+/,wc=/^[^&#]+/;class cu{constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(a.length>0||Object.keys(i).length>0)&&(u[Ct]=new Et(a,i)),u}parseSegment(){const a=fl(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(a),new Ro($r(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const i=fl(this.remaining);if(!i)return;this.capture(i);let u="";if(this.consumeOptional("=")){const v=fl(this.remaining);v&&(u=v,this.capture(u))}a[$r(i)]=$r(u)}parseQueryParam(a){const i=function Ss(s){const a=s.match(Sr);return a?a[0]:""}(this.remaining);if(!i)return;this.capture(i);let u="";if(this.consumeOptional("=")){const x=function ad(s){const a=s.match(wc);return a?a[0]:""}(this.remaining);x&&(u=x,this.capture(u))}const v=Vo(i),w=Vo(u);if(a.hasOwnProperty(v)){let x=a[v];Array.isArray(x)||(x=[x],a[v]=x),x.push(w)}else a[v]=w}parseParens(a){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=fl(this.remaining),v=this.remaining[u.length];if("/"!==v&&")"!==v&&";"!==v)throw new p.vHH(4010,!1);let w;u.indexOf(":")>-1?(w=u.slice(0,u.indexOf(":")),this.capture(w),this.capture(":")):a&&(w=Ct);const x=this.parseChildren();i[w]=1===Object.keys(x).length?x[Ct]:new Et([],x),this.consumeOptional("//")}return i}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new p.vHH(4011,!1)}}function Bo(s){return s.segments.length>0?new Et([],{[Ct]:s}):s}function Da(s){const a={};for(const u of Object.keys(s.children)){const w=Da(s.children[u]);(w.segments.length>0||w.hasChildren())&&(a[u]=w)}return function Dc(s){if(1===s.numberOfChildren&&s.children[Ct]){const a=s.children[Ct];return new Et(s.segments.concat(a.segments),a.children)}return s}(new Et(s.segments,a))}function vi(s){return s instanceof Hi}function hl(s,a,i,u,v){if(0===i.length)return Ho(a.root,a.root,a.root,u,v);const w=function Sc(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new pl(!0,0,s);let a=0,i=!1;const u=s.reduce((v,w,x)=>{if("object"==typeof w&&null!=w){if(w.outlets){const P={};return In(w.outlets,(oe,_e)=>{P[_e]="string"==typeof oe?oe.split("/"):oe}),[...v,{outlets:P}]}if(w.segmentPath)return[...v,w.segmentPath]}return"string"!=typeof w?[...v,w]:0===x?(w.split("/").forEach((P,oe)=>{0==oe&&"."===P||(0==oe&&""===P?i=!0:".."===P?a++:""!=P&&v.push(P))}),v):[...v,w]},[]);return new pl(i,a,u)}(i);return w.toRoot()?Ho(a.root,a.root,new Et([],{}),u,v):function x(oe){const _e=function gl(s,a,i,u){if(s.isAbsolute)return new ba(a.root,!0,0);if(-1===u)return new ba(i,i===a.root,0);return function vl(s,a,i){let u=s,v=a,w=i;for(;w>v;){if(w-=v,u=u.parent,!u)throw new p.vHH(4005,!1);v=u.segments.length}return new ba(u,!1,v-w)}(i,u+(Gn(s.commands[0])?0:1),s.numberOfDoubleDots)}(w,a,s.snapshot?._urlSegment,oe),Pe=_e.processChildren?Es(_e.segmentGroup,_e.index,w.commands):du(_e.segmentGroup,_e.index,w.commands);return Ho(a.root,_e.segmentGroup,Pe,u,v)}(s.snapshot?._lastPathIndex)}function Gn(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function ji(s){return"object"==typeof s&&null!=s&&s.outlets}function Ho(s,a,i,u,v){let x,w={};u&&In(u,(oe,_e)=>{w[_e]=Array.isArray(oe)?oe.map(Pe=>`${Pe}`):`${oe}`}),x=s===a?i:Uo(s,a,i);const P=Bo(Da(x));return new Hi(P,w,v)}function Uo(s,a,i){const u={};return In(s.children,(v,w)=>{u[w]=v===a?i:Uo(v,a,i)}),new Et(s.segments,u)}class pl{constructor(a,i,u){if(this.isAbsolute=a,this.numberOfDoubleDots=i,this.commands=u,a&&u.length>0&&Gn(u[0]))throw new p.vHH(4003,!1);const v=u.find(ji);if(v&&v!==zr(u))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ba{constructor(a,i,u){this.segmentGroup=a,this.processChildren=i,this.index=u}}function du(s,a,i){if(s||(s=new Et([],{})),0===s.segments.length&&s.hasChildren())return Es(s,a,i);const u=function hu(s,a,i){let u=0,v=a;const w={match:!1,pathIndex:0,commandIndex:0};for(;v<s.segments.length;){if(u>=i.length)return w;const x=s.segments[v],P=i[u];if(ji(P))break;const oe=`${P}`,_e=u<i.length-1?i[u+1]:null;if(v>0&&void 0===oe)break;if(oe&&_e&&"object"==typeof _e&&void 0===_e.outlets){if(!ml(oe,_e,x))return w;u+=2}else{if(!ml(oe,{},x))return w;u++}v++}return{match:!0,pathIndex:v,commandIndex:u}}(s,a,i),v=i.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const w=new Et(s.segments.slice(0,u.pathIndex),{});return w.children[Ct]=new Et(s.segments.slice(u.pathIndex),s.children),Es(w,0,v)}return u.match&&0===v.length?new Et(s.segments,{}):u.match&&!s.hasChildren()?jo(s,a,i):u.match?Es(s,0,v):jo(s,a,i)}function Es(s,a,i){if(0===i.length)return new Et(s.segments,{});{const u=function ud(s){return ji(s[0])?s[0].outlets:{[Ct]:s}}(i),v={};return In(u,(w,x)=>{"string"==typeof w&&(w=[w]),null!==w&&(v[x]=du(s.children[x],a,w))}),In(s.children,(w,x)=>{void 0===u[x]&&(v[x]=w)}),new Et(s.segments,v)}}function jo(s,a,i){const u=s.segments.slice(0,a);let v=0;for(;v<i.length;){const w=i[v];if(ji(w)){const oe=Sa(w.outlets);return new Et(u,oe)}if(0===v&&Gn(i[0])){u.push(new Ro(s.segments[a].path,Mc(i[0]))),v++;continue}const x=ji(w)?w.outlets[Ct]:`${w}`,P=v<i.length-1?i[v+1]:null;x&&P&&Gn(P)?(u.push(new Ro(x,Mc(P))),v+=2):(u.push(new Ro(x,{})),v++)}return new Et(u,{})}function Sa(s){const a={};return In(s,(i,u)=>{"string"==typeof i&&(i=[i]),null!==i&&(a[u]=jo(new Et([],{}),0,i))}),a}function Mc(s){const a={};return In(s,(i,u)=>a[u]=`${i}`),a}function ml(s,a,i){return s==i.path&&jr(a,i.parameters)}class Gr{constructor(a,i){this.id=a,this.url=i}}class pu extends Gr{constructor(a,i,u="imperative",v=null){super(a,i),this.type=0,this.navigationTrigger=u,this.restoredState=v}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends Gr{constructor(a,i,u){super(a,i),this.urlAfterRedirects=u,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yl extends Gr{constructor(a,i,u,v){super(a,i),this.reason=u,this.code=v,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ln extends Gr{constructor(a,i,u,v){super(a,i),this.error=u,this.target=v,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cd extends Gr{constructor(a,i,u,v){super(a,i),this.urlAfterRedirects=u,this.state=v,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fd extends Gr{constructor(a,i,u,v){super(a,i),this.urlAfterRedirects=u,this.state=v,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _l extends Gr{constructor(a,i,u,v,w){super(a,i),this.urlAfterRedirects=u,this.state=v,this.shouldActivate=w,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cl extends Gr{constructor(a,i,u,v){super(a,i),this.urlAfterRedirects=u,this.state=v,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xc extends Gr{constructor(a,i,u,v){super(a,i),this.urlAfterRedirects=u,this.state=v,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dd{constructor(a){this.route=a,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tc{constructor(a){this.route=a,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ms{constructor(a){this.snapshot=a,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ac{constructor(a){this.snapshot=a,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gu{constructor(a){this.snapshot=a,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lh{constructor(a){this.snapshot=a,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(a,i,u){this.routerEvent=a,this.position=i,this.anchor=u,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rt{constructor(a){this._root=a}get root(){return this._root.value}parent(a){const i=this.pathFromRoot(a);return i.length>1?i[i.length-2]:null}children(a){const i=wl(a,this._root);return i?i.children.map(u=>u.value):[]}firstChild(a){const i=wl(a,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(a){const i=Ts(a,this._root);return i.length<2?[]:i[i.length-2].children.map(v=>v.value).filter(v=>v!==a)}pathFromRoot(a){return Ts(a,this._root).map(i=>i.value)}}function wl(s,a){if(s===a.value)return a;for(const i of a.children){const u=wl(s,i);if(u)return u}return null}function Ts(s,a){if(s===a.value)return[a];for(const i of a.children){const u=Ts(s,i);if(u.length)return u.unshift(a),u}return[]}class Er{constructor(a,i){this.value=a,this.children=i}toString(){return`TreeNode(${this.value})`}}function Hn(s){const a={};return s&&s.children.forEach(i=>a[i.value.outlet]=i),a}class As extends Rt{constructor(a,i){super(a),this.snapshot=i,Ma(this,a)}toString(){return this.snapshot.toString()}}function Is(s,a){const i=function hd(s,a){const x=new Os([],{},{},"",{},Ct,a,null,s.root,-1,{});return new vo("",new Er(x,[]))}(s,a),u=new Cr.X([new Ro("",{})]),v=new Cr.X({}),w=new Cr.X({}),x=new Cr.X({}),P=new Cr.X(""),oe=new go(u,v,x,P,w,Ct,a,i.root);return oe.snapshot=i.root,new As(new Er(oe,[]),i)}class go{constructor(a,i,u,v,w,x,P,oe){this.url=a,this.params=i,this.queryParams=u,this.fragment=v,this.data=w,this.outlet=x,this.component=P,this.title=this.data?.pipe((0,We.U)(_e=>_e[gi]))??nt(void 0),this._futureSnapshot=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(a=>Ur(a)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(a=>Ur(a)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ea(s,a="emptyOnly"){const i=s.pathFromRoot;let u=0;if("always"!==a)for(u=i.length-1;u>=1;){const v=i[u],w=i[u-1];if(v.routeConfig&&""===v.routeConfig.path)u--;else{if(w.component)break;u--}}return function mu(s){return s.reduce((a,i)=>({params:{...a.params,...i.params},data:{...a.data,...i.data},resolve:{...i.data,...a.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(u))}class Os{constructor(a,i,u,v,w,x,P,oe,_e,Pe,Se,ot){this.url=a,this.params=i,this.queryParams=u,this.fragment=v,this.data=w,this.outlet=x,this.component=P,this.title=this.data?.[gi],this.routeConfig=oe,this._urlSegment=_e,this._lastPathIndex=Pe,this._correctedLastPathIndex=ot??Pe,this._resolve=Se}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ur(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ur(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vo extends Rt{constructor(a,i){super(i),this.url=a,Ma(this,i)}toString(){return xa(this._root)}}function Ma(s,a){a.value._routerState=s,a.children.forEach(i=>Ma(s,i))}function xa(s){const a=s.children.length>0?` { ${s.children.map(xa).join(", ")} } `:"";return`${s.value}${a}`}function xt(s){if(s.snapshot){const a=s.snapshot,i=s._futureSnapshot;s.snapshot=i,jr(a.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),a.fragment!==i.fragment&&s.fragment.next(i.fragment),jr(a.params,i.params)||s.params.next(i.params),function Lo(s,a){if(s.length!==a.length)return!1;for(let i=0;i<s.length;++i)if(!jr(s[i],a[i]))return!1;return!0}(a.url,i.url)||s.url.next(i.url),jr(a.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function Dl(s,a){const i=jr(s.params,a.params)&&function id(s,a){return an(s,a)&&s.every((i,u)=>jr(i.parameters,a[u].parameters))}(s.url,a.url);return i&&!(!s.parent!=!a.parent)&&(!s.parent||Dl(s.parent,a.parent))}function Mr(s,a,i){if(i&&s.shouldReuseRoute(a.value,i.value.snapshot)){const u=i.value;u._futureSnapshot=a.value;const v=function zo(s,a,i){return a.children.map(u=>{for(const v of i.children)if(s.shouldReuseRoute(u.value,v.value.snapshot))return Mr(s,u,v);return Mr(s,u)})}(s,a,i);return new Er(u,v)}{if(s.shouldAttach(a.value)){const w=s.retrieve(a.value);if(null!==w){const x=w.route;return x.value._futureSnapshot=a.value,x.children=a.children.map(P=>Mr(s,P)),x}}const u=function Ta(s){return new go(new Cr.X(s.url),new Cr.X(s.params),new Cr.X(s.queryParams),new Cr.X(s.fragment),new Cr.X(s.data),s.outlet,s.component,s)}(a.value),v=a.children.map(w=>Mr(s,w));return new Er(u,v)}}const Aa="ngNavigationCancelingError";function en(s,a){const{redirectTo:i,navigationBehaviorOptions:u}=vi(a)?{redirectTo:a,navigationBehaviorOptions:void 0}:a,v=Ic(!1,0,a);return v.url=i,v.navigationBehaviorOptions=u,v}function Ic(s,a,i){const u=new Error("NavigationCancelingError: "+(s||""));return u[Aa]=!0,u.cancellationCode=a,i&&(u.url=i),u}function _u(s){return $o(s)&&vi(s.url)}function $o(s){return s&&s[Aa]}class bl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new n,this.attachRef=null}}let n=(()=>{class s{constructor(){this.contexts=new Map}onChildOutletCreated(i,u){const v=this.getOrCreateContext(i);v.outlet=u,this.contexts.set(i,v)}onChildOutletDestroyed(i){const u=this.getContext(i);u&&(u.outlet=null,u.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let u=this.getContext(i);return u||(u=new bl,this.contexts.set(i,u)),u}getContext(i){return this.contexts.get(i)||null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const o=!1;let f=(()=>{class s{constructor(i,u,v,w,x){this.parentContexts=i,this.location=u,this.changeDetector=w,this.environmentInjector=x,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=v||Ct,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,o);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,o);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,o);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,u){this.activated=i,this._activatedRoute=u,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,u){if(this.isActivated)throw new p.vHH(4013,o);this._activatedRoute=i;const v=this.location,x=i._futureSnapshot.component,P=this.parentContexts.getOrCreateContext(this.name).children,oe=new c(i,P,v.injector);if(u&&function h(s){return!!s.resolveComponentFactory}(u)){const _e=u.resolveComponentFactory(x);this.activated=v.createComponent(_e,v.length,oe)}else this.activated=v.createComponent(x,{index:v.length,injector:oe,environmentInjector:u??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(n),p.Y36(p.s_b),p.$8M("name"),p.Y36(p.sBO),p.Y36(p.lqb))},s.\u0275dir=p.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),s})();class c{constructor(a,i,u){this.route=a,this.childContexts=i,this.parent=u}get(a,i){return a===go?this.route:a===n?this.childContexts:this.parent.get(a,i)}}let y=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(i,u){1&i&&p._UZ(0,"router-outlet")},dependencies:[f],encapsulation:2}),s})();function C(s,a){return s.providers&&!s._injector&&(s._injector=(0,p.MMx)(s.providers,a,`Route: ${s.path}`)),s._injector??a}function De(s){const a=s.children&&s.children.map(De),i=a?{...s,children:a}:{...s};return!i.component&&!i.loadComponent&&(a||i.loadChildren)&&i.outlet&&i.outlet!==Ct&&(i.component=y),i}function Me(s){return s.outlet||Ct}function ke(s,a){const i=s.filter(u=>Me(u)===a);return i.push(...s.filter(u=>Me(u)!==a)),i}function Ne(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let a=s.parent;a;a=a.parent){const i=a.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class He{constructor(a,i,u,v){this.routeReuseStrategy=a,this.futureState=i,this.currState=u,this.forwardEvent=v}activate(a){const i=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,u,a),xt(this.futureState.root),this.activateChildRoutes(i,u,a)}deactivateChildRoutes(a,i,u){const v=Hn(i);a.children.forEach(w=>{const x=w.value.outlet;this.deactivateRoutes(w,v[x],u),delete v[x]}),In(v,(w,x)=>{this.deactivateRouteAndItsChildren(w,u)})}deactivateRoutes(a,i,u){const v=a.value,w=i?i.value:null;if(v===w)if(v.component){const x=u.getContext(v.outlet);x&&this.deactivateChildRoutes(a,i,x.children)}else this.deactivateChildRoutes(a,i,u);else w&&this.deactivateRouteAndItsChildren(i,u)}deactivateRouteAndItsChildren(a,i){a.value.component&&this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,i):this.deactivateRouteAndOutlet(a,i)}detachAndStoreRouteSubtree(a,i){const u=i.getContext(a.value.outlet),v=u&&a.value.component?u.children:i,w=Hn(a);for(const x of Object.keys(w))this.deactivateRouteAndItsChildren(w[x],v);if(u&&u.outlet){const x=u.outlet.detach(),P=u.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:x,route:a,contexts:P})}}deactivateRouteAndOutlet(a,i){const u=i.getContext(a.value.outlet),v=u&&a.value.component?u.children:i,w=Hn(a);for(const x of Object.keys(w))this.deactivateRouteAndItsChildren(w[x],v);u&&u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated(),u.attachRef=null,u.resolver=null,u.route=null)}activateChildRoutes(a,i,u){const v=Hn(i);a.children.forEach(w=>{this.activateRoutes(w,v[w.value.outlet],u),this.forwardEvent(new Lh(w.value.snapshot))}),a.children.length&&this.forwardEvent(new Ac(a.value.snapshot))}activateRoutes(a,i,u){const v=a.value,w=i?i.value:null;if(xt(v),v===w)if(v.component){const x=u.getOrCreateContext(v.outlet);this.activateChildRoutes(a,i,x.children)}else this.activateChildRoutes(a,i,u);else if(v.component){const x=u.getOrCreateContext(v.outlet);if(this.routeReuseStrategy.shouldAttach(v.snapshot)){const P=this.routeReuseStrategy.retrieve(v.snapshot);this.routeReuseStrategy.store(v.snapshot,null),x.children.onOutletReAttached(P.contexts),x.attachRef=P.componentRef,x.route=P.route.value,x.outlet&&x.outlet.attach(P.componentRef,P.route.value),xt(P.route.value),this.activateChildRoutes(a,null,x.children)}else{const P=Ne(v.snapshot),oe=P?.get(p._Vd)??null;x.attachRef=null,x.route=v,x.resolver=oe,x.injector=P,x.outlet&&x.outlet.activateWith(v,x.injector),this.activateChildRoutes(a,null,x.children)}}else this.activateChildRoutes(a,null,u)}}class Xe{constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class Ye{constructor(a,i){this.component=a,this.route=i}}function yt(s,a,i){const u=s._root;return Vt(u,a?a._root:null,i,[u.value])}function jt(s,a){const i=Symbol(),u=a.get(s,i);return u===i?"function"!=typeof s||(0,p.Z0I)(s)?a.get(s):s:u}function Vt(s,a,i,u,v={canDeactivateChecks:[],canActivateChecks:[]}){const w=Hn(a);return s.children.forEach(x=>{(function xr(s,a,i,u,v={canDeactivateChecks:[],canActivateChecks:[]}){const w=s.value,x=a?a.value:null,P=i?i.getContext(s.value.outlet):null;if(x&&w.routeConfig===x.routeConfig){const oe=function Un(s,a,i){if("function"==typeof i)return i(s,a);switch(i){case"pathParamsChange":return!an(s.url,a.url);case"pathParamsOrQueryParamsChange":return!an(s.url,a.url)||!jr(s.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dl(s,a)||!jr(s.queryParams,a.queryParams);default:return!Dl(s,a)}}(x,w,w.routeConfig.runGuardsAndResolvers);oe?v.canActivateChecks.push(new Xe(u)):(w.data=x.data,w._resolvedData=x._resolvedData),Vt(s,a,w.component?P?P.children:null:i,u,v),oe&&P&&P.outlet&&P.outlet.isActivated&&v.canDeactivateChecks.push(new Ye(P.outlet.component,x))}else x&&Zt(a,P,v),v.canActivateChecks.push(new Xe(u)),Vt(s,null,w.component?P?P.children:null:i,u,v)})(x,w[x.value.outlet],i,u.concat([x.value]),v),delete w[x.value.outlet]}),In(w,(x,P)=>Zt(x,i.getContext(P),v)),v}function Zt(s,a,i){const u=Hn(s),v=s.value;In(u,(w,x)=>{Zt(w,v.component?a?a.children.getContext(x):null:a,i)}),i.canDeactivateChecks.push(new Ye(v.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,v))}function On(s){return"function"==typeof s}function Tr(s){return s instanceof ol||"EmptyError"===s?.name}const Kt=Symbol("INITIAL_VALUE");function _o(){return br(s=>Jf(s.map(a=>a.pipe(uo(1),function nd(...s){const a=(0,Ao.yG)(s);return(0,Vn.e)((i,u)=>{(a?Pi(s,i,a):Pi(s,i)).subscribe(u)})}(Kt)))).pipe((0,We.U)(a=>{for(const i of a)if(!0!==i){if(i===Kt)return Kt;if(!1===i||i instanceof Hi)return i}return!0}),Ni(a=>a!==Kt),uo(1)))}function Ph(s){return(0,ed.z)(Bn(a=>{if(vi(a))throw en(0,a)}),(0,We.U)(a=>!0===a))}const gd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nh(s,a,i,u,v){const w=vd(s,a,i);return w.matched?function pd(s,a,i,u){const v=a.canMatch;return v&&0!==v.length?nt(v.map(x=>{const P=jt(x,s);return fo(function mo(s){return s&&On(s.canMatch)}(P)?P.canMatch(a,i):s.runInContext(()=>P(a,i)))})).pipe(_o(),Ph()):nt(!0)}(u=C(a,u),a,i).pipe((0,We.U)(x=>!0===x?w:{...gd})):nt(w)}function vd(s,a,i){if(""===a.path)return"full"===a.pathMatch&&(s.hasChildren()||i.length>0)?{...gd}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const v=(a.matcher||ys)(i,s,a);if(!v)return{...gd};const w={};In(v.posParams,(P,oe)=>{w[oe]=P.path});const x=v.consumed.length>0?{...w,...v.consumed[v.consumed.length-1].parameters}:w;return{matched:!0,consumedSegments:v.consumed,remainingSegments:i.slice(v.consumed.length),parameters:x,positionalParamSegments:v.posParams??{}}}function Cu(s,a,i,u,v="corrected"){if(i.length>0&&function Ar(s,a,i){return i.some(u=>wu(s,a,u)&&Me(u)!==Ct)}(s,i,u)){const x=new Et(a,function Cg(s,a,i,u){const v={};v[Ct]=u,u._sourceSegment=s,u._segmentIndexShift=a.length;for(const w of i)if(""===w.path&&Me(w)!==Ct){const x=new Et([],{});x._sourceSegment=s,x._segmentIndexShift=a.length,v[Me(w)]=x}return v}(s,a,u,new Et(i,s.children)));return x._sourceSegment=s,x._segmentIndexShift=a.length,{segmentGroup:x,slicedSegments:[]}}if(0===i.length&&function md(s,a,i){return i.some(u=>wu(s,a,u))}(s,i,u)){const x=new Et(s.segments,function _g(s,a,i,u,v,w){const x={};for(const P of u)if(wu(s,i,P)&&!v[Me(P)]){const oe=new Et([],{});oe._sourceSegment=s,oe._segmentIndexShift="legacy"===w?s.segments.length:a.length,x[Me(P)]=oe}return{...v,...x}}(s,a,i,u,s.children,v));return x._sourceSegment=s,x._segmentIndexShift=a.length,{segmentGroup:x,slicedSegments:i}}const w=new Et(s.segments,s.children);return w._sourceSegment=s,w._segmentIndexShift=a.length,{segmentGroup:w,slicedSegments:i}}function wu(s,a,i){return(!(s.hasChildren()||a.length>0)||"full"!==i.pathMatch)&&""===i.path}function Oc(s,a,i,u){return!!(Me(s)===u||u!==Ct&&wu(a,i,s))&&("**"===s.path||vd(a,s,i).matched)}function nr(s,a,i){return 0===a.length&&!s.children[i]}const ks=!1;class Du{constructor(a){this.segmentGroup=a||null}}class Rh{constructor(a){this.urlTree=a}}function bu(s){return Oo(new Du(s))}function yd(s){return Oo(new Rh(s))}class Bh{constructor(a,i,u,v,w){this.injector=a,this.configLoader=i,this.urlSerializer=u,this.urlTree=v,this.config=w,this.allowRedirects=!0}apply(){const a=Cu(this.urlTree.root,[],[],this.config).segmentGroup,i=new Et(a.segments,a.children);return this.expandSegmentGroup(this.injector,this.config,i,Ct).pipe((0,We.U)(w=>this.createUrlTree(Da(w),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hi(w=>{if(w instanceof Rh)return this.allowRedirects=!1,this.match(w.urlTree);throw w instanceof Du?this.noMatchError(w):w}))}match(a){return this.expandSegmentGroup(this.injector,this.config,a.root,Ct).pipe((0,We.U)(v=>this.createUrlTree(Da(v),a.queryParams,a.fragment))).pipe(hi(v=>{throw v instanceof Du?this.noMatchError(v):v}))}noMatchError(a){return new p.vHH(4002,ks)}createUrlTree(a,i,u){const v=Bo(a);return new Hi(v,i,u)}expandSegmentGroup(a,i,u,v){return 0===u.segments.length&&u.hasChildren()?this.expandChildren(a,i,u).pipe((0,We.U)(w=>new Et([],w))):this.expandSegment(a,u,i,u.segments,v,!0)}expandChildren(a,i,u){const v=[];for(const w of Object.keys(u.children))"primary"===w?v.unshift(w):v.push(w);return(0,vn.D)(v).pipe(Nt(w=>{const x=u.children[w],P=ke(i,w);return this.expandSegmentGroup(a,P,x,w).pipe((0,We.U)(oe=>({segment:oe,outlet:w})))}),Vi((w,x)=>(w[x.outlet]=x.segment,w),{}),au())}expandSegment(a,i,u,v,w,x){return(0,vn.D)(u).pipe(Nt(P=>this.expandSegmentAgainstRoute(a,i,u,P,v,w,x).pipe(hi(_e=>{if(_e instanceof Du)return nt(null);throw _e}))),di(P=>!!P),hi((P,oe)=>{if(Tr(P))return nr(i,v,w)?nt(new Et([],{})):bu(i);throw P}))}expandSegmentAgainstRoute(a,i,u,v,w,x,P){return Oc(v,i,w,x)?void 0===v.redirectTo?this.matchSegmentAgainstRoute(a,i,v,w,x):P&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(a,i,u,v,w,x):bu(i):bu(i)}expandSegmentAgainstRouteUsingRedirect(a,i,u,v,w,x){return"**"===v.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(a,u,v,x):this.expandRegularSegmentAgainstRouteUsingRedirect(a,i,u,v,w,x)}expandWildCardWithParamsAgainstRouteUsingRedirect(a,i,u,v){const w=this.applyRedirectCommands([],u.redirectTo,{});return u.redirectTo.startsWith("/")?yd(w):this.lineralizeSegments(u,w).pipe((0,mn.z)(x=>{const P=new Et(x,{});return this.expandSegment(a,P,i,x,v,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(a,i,u,v,w,x){const{matched:P,consumedSegments:oe,remainingSegments:_e,positionalParamSegments:Pe}=vd(i,v,w);if(!P)return bu(i);const Se=this.applyRedirectCommands(oe,v.redirectTo,Pe);return v.redirectTo.startsWith("/")?yd(Se):this.lineralizeSegments(v,Se).pipe((0,mn.z)(ot=>this.expandSegment(a,i,u,ot.concat(_e),x,!1)))}matchSegmentAgainstRoute(a,i,u,v,w){return"**"===u.path?(a=C(u,a),u.loadChildren?(u._loadedRoutes?nt({routes:u._loadedRoutes,injector:u._loadedInjector}):this.configLoader.loadChildren(a,u)).pipe((0,We.U)(P=>(u._loadedRoutes=P.routes,u._loadedInjector=P.injector,new Et(v,{})))):nt(new Et(v,{}))):Nh(i,u,v,a).pipe(br(({matched:x,consumedSegments:P,remainingSegments:oe})=>x?this.getChildConfig(a=u._injector??a,u,v).pipe((0,mn.z)(Pe=>{const Se=Pe.injector??a,ot=Pe.routes,{segmentGroup:Dt,slicedSegments:zt}=Cu(i,P,oe,ot),Yr=new Et(Dt.segments,Dt.children);if(0===zt.length&&Yr.hasChildren())return this.expandChildren(Se,ot,Yr).pipe((0,We.U)(Pl=>new Et(P,Pl)));if(0===ot.length&&0===zt.length)return nt(new Et(P,{}));const _n=Me(u)===w;return this.expandSegment(Se,Yr,ot,zt,_n?Ct:w,!0).pipe((0,We.U)(Ir=>new Et(P.concat(Ir.segments),Ir.children)))})):bu(i)))}getChildConfig(a,i,u){return i.children?nt({routes:i.children,injector:a}):i.loadChildren?void 0!==i._loadedRoutes?nt({routes:i._loadedRoutes,injector:i._loadedInjector}):function yg(s,a,i,u){const v=a.canLoad;return void 0===v||0===v.length?nt(!0):nt(v.map(x=>{const P=jt(x,s);return fo(function Mn(s){return s&&On(s.canLoad)}(P)?P.canLoad(a,i):s.runInContext(()=>P(a,i)))})).pipe(_o(),Ph())}(a,i,u).pipe((0,mn.z)(v=>v?this.configLoader.loadChildren(a,i).pipe(Bn(w=>{i._loadedRoutes=w.routes,i._loadedInjector=w.injector})):function Vh(s){return Oo(Ic(ks,3))}())):nt({routes:[],injector:a})}lineralizeSegments(a,i){let u=[],v=i.root;for(;;){if(u=u.concat(v.segments),0===v.numberOfChildren)return nt(u);if(v.numberOfChildren>1||!v.children[Ct])return Oo(new p.vHH(4e3,ks));v=v.children[Ct]}}applyRedirectCommands(a,i,u){return this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),a,u)}applyRedirectCreateUrlTree(a,i,u,v){const w=this.createSegmentGroup(a,i.root,u,v);return new Hi(w,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(a,i){const u={};return In(a,(v,w)=>{if("string"==typeof v&&v.startsWith(":")){const P=v.substring(1);u[w]=i[P]}else u[w]=v}),u}createSegmentGroup(a,i,u,v){const w=this.createSegments(a,i.segments,u,v);let x={};return In(i.children,(P,oe)=>{x[oe]=this.createSegmentGroup(a,P,u,v)}),new Et(w,x)}createSegments(a,i,u,v){return i.map(w=>w.path.startsWith(":")?this.findPosParam(a,w,v):this.findOrReturn(w,u))}findPosParam(a,i,u){const v=u[i.path.substring(1)];if(!v)throw new p.vHH(4001,ks);return v}findOrReturn(a,i){let u=0;for(const v of i){if(v.path===a.path)return i.splice(u),v;u++}return a}}class Hh{}class El{constructor(a,i,u,v,w,x,P,oe){this.injector=a,this.rootComponentType=i,this.config=u,this.urlTree=v,this.url=w,this.paramsInheritanceStrategy=x,this.relativeLinkResolution=P,this.urlSerializer=oe}recognize(){const a=Cu(this.urlTree.root,[],[],this.config.filter(i=>void 0===i.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,a,Ct).pipe((0,We.U)(i=>{if(null===i)return null;const u=new Os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),v=new Er(u,i),w=new vo(this.url,v);return this.inheritParamsAndData(w._root),w}))}inheritParamsAndData(a){const i=a.value,u=Ea(i,this.paramsInheritanceStrategy);i.params=Object.freeze(u.params),i.data=Object.freeze(u.data),a.children.forEach(v=>this.inheritParamsAndData(v))}processSegmentGroup(a,i,u,v){return 0===u.segments.length&&u.hasChildren()?this.processChildren(a,i,u):this.processSegment(a,i,u,u.segments,v)}processChildren(a,i,u){return(0,vn.D)(Object.keys(u.children)).pipe(Nt(v=>{const w=u.children[v],x=ke(i,v);return this.processSegmentGroup(a,x,w,v)}),Vi((v,w)=>v&&w?(v.push(...w),v):null),function mc(s,a=!1){return(0,Vn.e)((i,u)=>{let v=0;i.subscribe((0,Rn.x)(u,w=>{const x=s(w,v++);(x||a)&&u.next(w),!x&&u.complete()}))})}(v=>null!==v),Fo(null),au(),(0,We.U)(v=>{if(null===v)return null;const w=Tg(v);return function Wo(s){s.sort((a,i)=>a.value.outlet===Ct?-1:i.value.outlet===Ct?1:a.value.outlet.localeCompare(i.value.outlet))}(w),w}))}processSegment(a,i,u,v,w){return(0,vn.D)(i).pipe(Nt(x=>this.processSegmentAgainstRoute(x._injector??a,x,u,v,w)),di(x=>!!x),hi(x=>{if(Tr(x))return nr(u,v,w)?nt([]):nt(null);throw x}))}processSegmentAgainstRoute(a,i,u,v,w){if(i.redirectTo||!Oc(i,u,v,w))return nt(null);let x;if("**"===i.path){const P=v.length>0?zr(v).parameters:{},oe=Ag(u)+v.length;x=nt({snapshot:new Os(v,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kc(i),Me(i),i.component??i._loadedComponent??null,i,_d(u),oe,Lc(i),oe),consumedSegments:[],remainingSegments:[]})}else x=Nh(u,i,v,a).pipe((0,We.U)(({matched:P,consumedSegments:oe,remainingSegments:_e,parameters:Pe})=>{if(!P)return null;const Se=Ag(u)+oe.length;return{snapshot:new Os(oe,Pe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kc(i),Me(i),i.component??i._loadedComponent??null,i,_d(u),Se,Lc(i),Se),consumedSegments:oe,remainingSegments:_e}}));return x.pipe(br(P=>{if(null===P)return nt(null);const{snapshot:oe,consumedSegments:_e,remainingSegments:Pe}=P;a=i._injector??a;const Se=i._loadedInjector??a,ot=function Mg(s){return s.children?s.children:s.loadChildren?s._loadedRoutes:[]}(i),{segmentGroup:Dt,slicedSegments:zt}=Cu(u,_e,Pe,ot.filter(_n=>void 0===_n.redirectTo),this.relativeLinkResolution);if(0===zt.length&&Dt.hasChildren())return this.processChildren(Se,ot,Dt).pipe((0,We.U)(_n=>null===_n?null:[new Er(oe,_n)]));if(0===ot.length&&0===zt.length)return nt([new Er(oe,[])]);const Yr=Me(i)===w;return this.processSegment(Se,ot,Dt,zt,Yr?Ct:w).pipe((0,We.U)(_n=>null===_n?null:[new Er(oe,_n)]))}))}}function xg(s){const a=s.value.routeConfig;return a&&""===a.path&&void 0===a.redirectTo}function Tg(s){const a=[],i=new Set;for(const u of s){if(!xg(u)){a.push(u);continue}const v=a.find(w=>u.value.routeConfig===w.value.routeConfig);void 0!==v?(v.children.push(...u.children),i.add(v)):a.push(u)}for(const u of i){const v=Tg(u.children);a.push(new Er(u.value,v))}return a.filter(u=>!i.has(u))}function _d(s){let a=s;for(;a._sourceSegment;)a=a._sourceSegment;return a}function Ag(s){let a=s,i=a._segmentIndexShift??0;for(;a._sourceSegment;)a=a._sourceSegment,i+=a._segmentIndexShift??0;return i-1}function kc(s){return s.data||{}}function Lc(s){return s.resolve||{}}function Pc(s){return"string"==typeof s.title||null===s.title}function Eu(s){return br(a=>{const i=s(a);return i?(0,vn.D)(i).pipe((0,We.U)(()=>a)):nt(a)})}let Cd=(()=>{class s{buildTitle(i){let u,v=i.root;for(;void 0!==v;)u=this.getResolvedTitleForRoute(v)??u,v=v.children.find(w=>w.outlet===Ct);return u}getResolvedTitleForRoute(i){return i.data[gi]}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=p.Yz7({token:s,factory:function(){return(0,p.f3M)(Lg)},providedIn:"root"}),s})(),Lg=(()=>{class s extends Cd{constructor(i){super(),this.title=i}updateTitle(i){const u=this.buildTitle(i);void 0!==u&&this.title.setTitle(u)}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(Xr))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class wd{}class Pg extends class jh{shouldDetach(a){return!1}store(a,i){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,i){return a.routeConfig===i.routeConfig}}{}const Nc=new p.OlP("",{providedIn:"root",factory:()=>({})}),bd=new p.OlP("ROUTES");let Sd=(()=>{class s{constructor(i,u){this.injector=i,this.compiler=u,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return nt(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const u=fo(i.loadComponent()).pipe(Bn(w=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=w}),pi(()=>{this.componentLoaders.delete(i)})),v=new td(u,()=>new Dr.x).pipe(ms());return this.componentLoaders.set(i,v),v}loadChildren(i,u){if(this.childrenLoaders.get(u))return this.childrenLoaders.get(u);if(u._loadedRoutes)return nt({routes:u._loadedRoutes,injector:u._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(u);const w=this.loadModuleFactoryOrRoutes(u.loadChildren).pipe((0,We.U)(P=>{this.onLoadEndListener&&this.onLoadEndListener(u);let oe,_e,Pe=!1;Array.isArray(P)?_e=P:(oe=P.create(i).injector,_e=_c(oe.get(bd,[],p.XFs.Self|p.XFs.Optional)));return{routes:_e.map(De),injector:oe}}),pi(()=>{this.childrenLoaders.delete(u)})),x=new td(w,()=>new Dr.x).pipe(ms());return this.childrenLoaders.set(u,x),x}loadModuleFactoryOrRoutes(i){return fo(i()).pipe((0,mn.z)(u=>u instanceof p.YKP||Array.isArray(u)?nt(u):(0,vn.D)(this.compiler.compileModuleAsync(u))))}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(p.zs3),p.LFG(p.Sil))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class Ng{}class Rg{shouldProcessUrl(a){return!0}extract(a){return a}merge(a,i){return a}}function Ed(s){throw s}function $h(s,a,i){return a.parse("/")}const Md={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function xd(){const s=(0,p.f3M)(ul),a=(0,p.f3M)(n),i=(0,p.f3M)(W),u=(0,p.f3M)(p.zs3),v=(0,p.f3M)(p.Sil),w=(0,p.f3M)(bd,{optional:!0})??[],x=(0,p.f3M)(Nc,{optional:!0})??{},P=(0,p.f3M)(Lg),oe=(0,p.f3M)(Cd,{optional:!0}),_e=(0,p.f3M)(Ng,{optional:!0}),Pe=(0,p.f3M)(wd,{optional:!0}),Se=new qn(null,s,a,i,u,v,_c(w));return _e&&(Se.urlHandlingStrategy=_e),Pe&&(Se.routeReuseStrategy=Pe),Se.titleStrategy=oe??P,function Bg(s,a){s.errorHandler&&(a.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(a.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(a.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(a.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(a.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(a.urlUpdateStrategy=s.urlUpdateStrategy),s.canceledNavigationResolution&&(a.canceledNavigationResolution=s.canceledNavigationResolution)}(x,Se),Se}let qn=(()=>{class s{constructor(i,u,v,w,x,P,oe){this.rootComponentType=i,this.urlSerializer=u,this.rootContexts=v,this.location=w,this.config=oe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Dr.x,this.errorHandler=Ed,this.malformedUriErrorHandler=$h,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new Rg,this.routeReuseStrategy=new Pg,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=x.get(Sd),this.configLoader.onLoadEndListener=ot=>this.triggerEvent(new Tc(ot)),this.configLoader.onLoadStartListener=ot=>this.triggerEvent(new dd(ot)),this.ngModule=x.get(p.h0i),this.console=x.get(p.c2e);const Se=x.get(p.R0b);this.isNgZoneEnabled=Se instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(oe),this.currentUrlTree=function va(){return new Hi(new Et([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Is(this.currentUrlTree,this.rootComponentType),this.transitions=new Cr.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(i){const u=this.events;return i.pipe(Ni(v=>0!==v.id),(0,We.U)(v=>({...v,extractedUrl:this.urlHandlingStrategy.extract(v.rawUrl)})),br(v=>{let w=!1,x=!1;return nt(v).pipe(Bn(P=>{this.currentNavigation={id:P.id,initialUrl:P.rawUrl,extractedUrl:P.extractedUrl,trigger:P.source,extras:P.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),br(P=>{const oe=this.browserUrlTree.toString(),_e=!this.navigated||P.extractedUrl.toString()!==oe||oe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_e)&&this.urlHandlingStrategy.shouldProcessUrl(P.rawUrl))return Td(P.source)&&(this.browserUrlTree=P.extractedUrl),nt(P).pipe(br(Se=>{const ot=this.transitions.getValue();return u.next(new pu(Se.id,this.serializeUrl(Se.extractedUrl),Se.source,Se.restoredState)),ot!==this.transitions.getValue()?lo.E:Promise.resolve(Se)}),function bg(s,a,i,u){return br(v=>function Dg(s,a,i,u,v){return new Bh(s,a,i,u,v).apply()}(s,a,i,v.extractedUrl,u).pipe((0,We.U)(w=>({...v,urlAfterRedirects:w}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Bn(Se=>{this.currentNavigation={...this.currentNavigation,finalUrl:Se.urlAfterRedirects},v.urlAfterRedirects=Se.urlAfterRedirects}),function Ig(s,a,i,u,v,w){return(0,mn.z)(x=>function Eg(s,a,i,u,v,w,x="emptyOnly",P="legacy"){return new El(s,a,i,u,v,x,P,w).recognize().pipe(br(oe=>null===oe?function Sg(s){return new Li.y(a=>a.error(s))}(new Hh):nt(oe)))}(s,a,i,x.urlAfterRedirects,u.serialize(x.urlAfterRedirects),u,v,w).pipe((0,We.U)(P=>({...x,targetSnapshot:P}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Bn(Se=>{if(v.targetSnapshot=Se.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Se.extras.skipLocationChange){const Dt=this.urlHandlingStrategy.merge(Se.urlAfterRedirects,Se.rawUrl);this.setBrowserUrl(Dt,Se)}this.browserUrlTree=Se.urlAfterRedirects}const ot=new cd(Se.id,this.serializeUrl(Se.extractedUrl),this.serializeUrl(Se.urlAfterRedirects),Se.targetSnapshot);u.next(ot)}));if(_e&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ot,extractedUrl:Dt,source:zt,restoredState:Yr,extras:_n}=P,Do=new pu(ot,this.serializeUrl(Dt),zt,Yr);u.next(Do);const Ir=Is(Dt,this.rootComponentType).snapshot;return nt(v={...P,targetSnapshot:Ir,urlAfterRedirects:Dt,extras:{..._n,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=P.rawUrl,P.resolve(null),lo.E}),Bn(P=>{const oe=new fd(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);this.triggerEvent(oe)}),(0,We.U)(P=>v={...P,guards:yt(P.targetSnapshot,P.currentSnapshot,this.rootContexts)}),function Jr(s,a){return(0,mn.z)(i=>{const{targetSnapshot:u,currentSnapshot:v,guards:{canActivateChecks:w,canDeactivateChecks:x}}=i;return 0===x.length&&0===w.length?nt({...i,guardsResult:!0}):function ei(s,a,i,u){return(0,vn.D)(s).pipe((0,mn.z)(v=>function mg(s,a,i,u,v){const w=a&&a.routeConfig?a.routeConfig.canDeactivate:null;return w&&0!==w.length?nt(w.map(P=>{const oe=Ne(a)??v,_e=jt(P,oe);return fo(function Wn(s){return s&&On(s.canDeactivate)}(_e)?_e.canDeactivate(s,a,i,u):oe.runInContext(()=>_e(s,a,i,u))).pipe(di())})).pipe(_o()):nt(!0)}(v.component,v.route,i,a,u)),di(v=>!0!==v,!0))}(x,u,v,s).pipe((0,mn.z)(P=>P&&function jn(s){return"boolean"==typeof s}(P)?function Go(s,a,i,u){return(0,vn.D)(a).pipe(Nt(v=>Pi(function Fs(s,a){return null!==s&&a&&a(new Ms(s)),nt(!0)}(v.route.parent,u),function Yn(s,a){return null!==s&&a&&a(new gu(s)),nt(!0)}(v.route,u),function vg(s,a,i){const u=a[a.length-1],w=a.slice(0,a.length-1).reverse().map(x=>function Pt(s){const a=s.routeConfig?s.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:s,guards:a}:null}(x)).filter(x=>null!==x).map(x=>su(()=>nt(x.guards.map(oe=>{const _e=Ne(x.node)??i,Pe=jt(oe,_e);return fo(function tn(s){return s&&On(s.canActivateChild)}(Pe)?Pe.canActivateChild(u,s):_e.runInContext(()=>Pe(u,s))).pipe(di())})).pipe(_o())));return nt(w).pipe(_o())}(s,v.path,i),function Sl(s,a,i){const u=a.routeConfig?a.routeConfig.canActivate:null;if(!u||0===u.length)return nt(!0);const v=u.map(w=>su(()=>{const x=Ne(a)??i,P=jt(w,x);return fo(function yn(s){return s&&On(s.canActivate)}(P)?P.canActivate(a,s):x.runInContext(()=>P(a,s))).pipe(di())}));return nt(v).pipe(_o())}(s,v.route,i))),di(v=>!0!==v,!0))}(u,w,s,a):nt(P)),(0,We.U)(P=>({...i,guardsResult:P})))})}(this.ngModule.injector,P=>this.triggerEvent(P)),Bn(P=>{if(v.guardsResult=P.guardsResult,vi(P.guardsResult))throw en(0,P.guardsResult);const oe=new _l(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot,!!P.guardsResult);this.triggerEvent(oe)}),Ni(P=>!!P.guardsResult||(this.restoreHistory(P),this.cancelNavigationTransition(P,"",3),!1)),Eu(P=>{if(P.guards.canActivateChecks.length)return nt(P).pipe(Bn(oe=>{const _e=new Cl(oe.id,this.serializeUrl(oe.extractedUrl),this.serializeUrl(oe.urlAfterRedirects),oe.targetSnapshot);this.triggerEvent(_e)}),br(oe=>{let _e=!1;return nt(oe).pipe(function Uh(s,a){return(0,mn.z)(i=>{const{targetSnapshot:u,guards:{canActivateChecks:v}}=i;if(!v.length)return nt(i);let w=0;return(0,vn.D)(v).pipe(Nt(x=>function Og(s,a,i,u){const v=s.routeConfig,w=s._resolve;return void 0!==v?.title&&!Pc(v)&&(w[gi]=v.title),function Su(s,a,i,u){const v=function Fg(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}(s);if(0===v.length)return nt({});const w={};return(0,vn.D)(v).pipe((0,mn.z)(x=>function kg(s,a,i,u){const v=Ne(a)??u,w=jt(s,v);return fo(w.resolve?w.resolve(a,i):v.runInContext(()=>w(a,i)))}(s[x],a,i,u).pipe(di(),Bn(P=>{w[x]=P}))),al(1),function co(s){return(0,We.U)(()=>s)}(w),hi(x=>Tr(x)?lo.E:Oo(x)))}(w,s,a,u).pipe((0,We.U)(x=>(s._resolvedData=x,s.data=Ea(s,i).resolve,v&&Pc(v)&&(s.data[gi]=v.title),null)))}(x.route,u,s,a)),Bn(()=>w++),al(1),(0,mn.z)(x=>w===v.length?nt(i):lo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Bn({next:()=>_e=!0,complete:()=>{_e||(this.restoreHistory(oe),this.cancelNavigationTransition(oe,"",2))}}))}),Bn(oe=>{const _e=new xc(oe.id,this.serializeUrl(oe.extractedUrl),this.serializeUrl(oe.urlAfterRedirects),oe.targetSnapshot);this.triggerEvent(_e)}))}),Eu(P=>{const oe=_e=>{const Pe=[];_e.routeConfig?.loadComponent&&!_e.routeConfig._loadedComponent&&Pe.push(this.configLoader.loadComponent(_e.routeConfig).pipe(Bn(Se=>{_e.component=Se}),(0,We.U)(()=>{})));for(const Se of _e.children)Pe.push(...oe(Se));return Pe};return Jf(oe(P.targetSnapshot.root)).pipe(Fo(),uo(1))}),Eu(()=>this.afterPreactivation()),(0,We.U)(P=>{const oe=function yu(s,a,i){const u=Mr(s,a._root,i?i._root:void 0);return new As(u,a)}(this.routeReuseStrategy,P.targetSnapshot,P.currentRouterState);return v={...P,targetRouterState:oe}}),Bn(P=>{this.currentUrlTree=P.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P),this.browserUrlTree=P.urlAfterRedirects)}),((s,a,i)=>(0,We.U)(u=>(new He(a,u.targetRouterState,u.currentRouterState,i).activate(s),u)))(this.rootContexts,this.routeReuseStrategy,P=>this.triggerEvent(P)),Bn({next(){w=!0},complete(){w=!0}}),pi(()=>{w||x||this.cancelNavigationTransition(v,"",1),this.currentNavigation?.id===v.id&&(this.currentNavigation=null)}),hi(P=>{if(x=!0,$o(P)){_u(P)||(this.navigated=!0,this.restoreHistory(v,!0));const oe=new yl(v.id,this.serializeUrl(v.extractedUrl),P.message,P.cancellationCode);if(u.next(oe),_u(P)){const _e=this.urlHandlingStrategy.merge(P.url,this.rawUrlTree),Pe={skipLocationChange:v.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Td(v.source)};this.scheduleNavigation(_e,"imperative",null,Pe,{resolve:v.resolve,reject:v.reject,promise:v.promise})}else v.resolve(!1)}else{this.restoreHistory(v,!0);const oe=new ln(v.id,this.serializeUrl(v.extractedUrl),P,v.targetSnapshot??void 0);u.next(oe);try{v.resolve(this.errorHandler(P))}catch(_e){v.reject(_e)}}return lo.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}setTransition(i){this.transitions.next({...this.transitions.value,...i})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const u="popstate"===i.type?"popstate":"hashchange";"popstate"===u&&setTimeout(()=>{const v={replaceUrl:!0},w=i.state?.navigationId?i.state:null;if(w){const P={...w};delete P.navigationId,delete P.\u0275routerPageId,0!==Object.keys(P).length&&(v.state=P)}const x=this.parseUrl(i.url);this.scheduleNavigation(x,u,w,v)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){this.config=i.map(De),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,u={}){const{relativeTo:v,queryParams:w,fragment:x,queryParamsHandling:P,preserveFragment:oe}=u,_e=v||this.routerState.root,Pe=oe?this.currentUrlTree.fragment:x;let Se=null;switch(P){case"merge":Se={...this.currentUrlTree.queryParams,...w};break;case"preserve":Se=this.currentUrlTree.queryParams;break;default:Se=w||null}return null!==Se&&(Se=this.removeEmptyProps(Se)),hl(_e,this.currentUrlTree,i,Se,Pe??null)}navigateByUrl(i,u={skipLocationChange:!1}){const v=vi(i)?i:this.parseUrl(i),w=this.urlHandlingStrategy.merge(v,this.rawUrlTree);return this.scheduleNavigation(w,"imperative",null,u)}navigate(i,u={skipLocationChange:!1}){return function Ia(s){for(let a=0;a<s.length;a++){if(null==s[a])throw new p.vHH(4008,false)}}(i),this.navigateByUrl(this.createUrlTree(i,u),u)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let u;try{u=this.urlSerializer.parse(i)}catch(v){u=this.malformedUriErrorHandler(v,this.urlSerializer,i)}return u}isActive(i,u){let v;if(v=!0===u?{...Md}:!1===u?{...Vg}:u,vi(i))return lu(this.currentUrlTree,i,v);const w=this.parseUrl(i);return lu(this.currentUrlTree,w,v)}removeEmptyProps(i){return Object.keys(i).reduce((u,v)=>{const w=i[v];return null!=w&&(u[v]=w),u},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new zi(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),i.resolve(!0)},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}scheduleNavigation(i,u,v,w,x){if(this.disposed)return Promise.resolve(!1);let P,oe,_e;x?(P=x.resolve,oe=x.reject,_e=x.promise):_e=new Promise((ot,Dt)=>{P=ot,oe=Dt});const Pe=++this.navigationId;let Se;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(v=this.location.getState()),Se=v&&v.\u0275routerPageId?v.\u0275routerPageId:w.replaceUrl||w.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Se=0,this.setTransition({id:Pe,targetPageId:Se,source:u,restoredState:v,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:w,resolve:P,reject:oe,promise:_e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_e.catch(ot=>Promise.reject(ot))}setBrowserUrl(i,u){const v=this.urlSerializer.serialize(i),w={...u.extras.state,...this.generateNgRouterState(u.id,u.targetPageId)};this.location.isCurrentPathEqualTo(v)||u.extras.replaceUrl?this.location.replaceState(v,"",w):this.location.go(v,"",w)}restoreHistory(i,u=!1){if("computed"===this.canceledNavigationResolution){const v=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===v?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===v&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(v)}else"replace"===this.canceledNavigationResolution&&(u&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,u,v){const w=new yl(i.id,this.serializeUrl(i.extractedUrl),u,v);this.triggerEvent(w),i.resolve(!1)}generateNgRouterState(i,u){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:u}:{navigationId:i}}}return s.\u0275fac=function(i){p.$Z()},s.\u0275prov=p.Yz7({token:s,factory:function(){return xd()},providedIn:"root"}),s})();function Td(s){return"imperative"!==s}let Vc=(()=>{class s{constructor(i,u,v){this.router=i,this.route=u,this.locationStrategy=v,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Dr.x,this.subscription=i.events.subscribe(w=>{w instanceof zi&&this.updateTargetUrlAndHref()})}set preserveFragment(i){this._preserveFragment=(0,p.D6c)(i)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(i){this._skipLocationChange=(0,p.D6c)(i)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(i){this._replaceUrl=(0,p.D6c)(i)}get replaceUrl(){return this._replaceUrl}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:null}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,u,v,w,x){return!!(0!==i||u||v||w||x||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(qn),p.Y36(go),p.Y36(H))},s.\u0275dir=p.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,u){1&i&&p.NdJ("click",function(w){return u.onClick(w.button,w.ctrlKey,w.shiftKey,w.altKey,w.metaKey)}),2&i&&p.uIk("target",u.target)("href",u.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),s})();class Gh{}let Wh=(()=>{class s{constructor(i,u,v,w,x){this.router=i,this.injector=v,this.preloadingStrategy=w,this.loader=x}setUpPreloading(){this.subscription=this.router.events.pipe(Ni(i=>i instanceof zi),Nt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,u){const v=[];for(const w of u){w.providers&&!w._injector&&(w._injector=(0,p.MMx)(w.providers,i,`Route: ${w.path}`));const x=w._injector??i,P=w._loadedInjector??x;w.loadChildren&&!w._loadedRoutes&&void 0===w.canLoad||w.loadComponent&&!w._loadedComponent?v.push(this.preloadConfig(x,w)):(w.children||w._loadedRoutes)&&v.push(this.processRoutes(P,w.children??w._loadedRoutes))}return(0,vn.D)(v).pipe((0,so.J)())}preloadConfig(i,u){return this.preloadingStrategy.preload(u,()=>{let v;v=u.loadChildren&&void 0===u.canLoad?this.loader.loadChildren(i,u):nt(null);const w=v.pipe((0,mn.z)(x=>null===x?nt(void 0):(u._loadedRoutes=x.routes,u._loadedInjector=x.injector,this.processRoutes(x.injector??i,x.routes))));if(u.loadComponent&&!u._loadedComponent){const x=this.loader.loadComponent(u);return(0,vn.D)([w,x]).pipe((0,so.J)())}return w})}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(qn),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Gh),p.LFG(Sd))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Tu=new p.OlP("");let Ad=(()=>{class s{constructor(i,u,v={}){this.router=i,this.viewportScroller=u,this.options=v,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},v.scrollPositionRestoration=v.scrollPositionRestoration||"disabled",v.anchorScrolling=v.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof pu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof zi&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof xs&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,u){this.router.triggerEvent(new xs(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,u))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){p.$Z()},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac}),s})();function Ls(s,a){return{\u0275kind:s,\u0275providers:a}}function Hc(s){return[{provide:bd,multi:!0,useValue:s}]}function Ml(){const s=(0,p.f3M)(p.zs3);return a=>{const i=s.get(p.z2F);if(a!==i.components[0])return;const u=s.get(qn),v=s.get(qh);1===s.get(Uc)&&u.initialNavigation(),s.get(jc,null,p.XFs.Optional)?.setUpPreloading(),s.get(Tu,null,p.XFs.Optional)?.init(),u.resetRootComponentType(i.componentTypes[0]),v.next(),v.complete()}}const qh=new p.OlP("",{factory:()=>new Dr.x}),Uc=new p.OlP("",{providedIn:"root",factory:()=>1});const jc=new p.OlP("");function Kh(s){return Ls(0,[{provide:jc,useExisting:Wh},{provide:Gh,useExisting:s}])}const Fd=new p.OlP("ROUTER_FORROOT_GUARD"),$g=[W,{provide:ul,useClass:po},{provide:qn,useFactory:xd},n,{provide:go,useFactory:function Od(s){return s.routerState.root},deps:[qn]},Sd];function Gg(){return new p.PXZ("Router",qn)}let mi=(()=>{class s{constructor(i){}static forRoot(i,u){return{ngModule:s,providers:[$g,[],Hc(i),{provide:Fd,useFactory:qg,deps:[[qn,new p.FiY,new p.tp0]]},{provide:Nc,useValue:u||{}},u?.useHash?{provide:H,useClass:G}:{provide:H,useClass:X},{provide:Tu,useFactory:()=>{const s=(0,p.f3M)(qn),a=(0,p.f3M)(Yl),i=(0,p.f3M)(Nc);return i.scrollOffset&&a.setOffset(i.scrollOffset),new Ad(s,a,i)}},u?.preloadingStrategy?Kh(u.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Gg},u?.initialNavigation?Zg(u):[],[{provide:Xh,useFactory:Ml},{provide:p.tb,multi:!0,useExisting:Xh}]]}}static forChild(i){return{ngModule:s,providers:[Hc(i)]}}}return s.\u0275fac=function(i){return new(i||s)(p.LFG(Fd,8))},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[y]}),s})();function qg(s){return"guarded"}function Zg(s){return["disabled"===s.initialNavigation?Ls(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const a=(0,p.f3M)(qn);return()=>{a.setUpLocationChangeListener()}}},{provide:Uc,useValue:2}]).\u0275providers:[],"enabledBlocking"===s.initialNavigation?Ls(2,[{provide:Uc,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:a=>{const i=a.get(k,Promise.resolve());let u=!1;return()=>i.then(()=>new Promise(w=>{const x=a.get(qn),P=a.get(qh);(function v(w){a.get(qn).events.pipe(Ni(P=>P instanceof zi||P instanceof yl||P instanceof ln),(0,We.U)(P=>P instanceof zi||P instanceof yl&&(0===P.code||1===P.code)&&null),Ni(P=>null!==P),uo(1)).subscribe(()=>{w()})})(()=>{w(!0),u=!0}),x.afterPreactivation=()=>(w(!0),u||P.closed?nt(void 0):P),x.initialNavigation()}))}}]).\u0275providers:[]]}const Xh=new p.OlP("");var zc=K(8266);function ep(s,a=100){let i;return function(u){i&&clearTimeout(i),i=setTimeout(s,a,u)}}var vt=K(8193);const tp=["*"];let $c=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["mat-icon"]],ngContentSelectors:tp,decls:2,vars:0,consts:[[1,"material-symbols-outlined"]],template:function(i,u){1&i&&(p.F$t(),p.TgZ(0,"span",0),p.Hsn(1),p.qZA())},styles:["mat-icon{display:flex;align-items:center}.material-symbols-outlined{font-size:inherit;font-weight:inherit}\n"],encapsulation:2}),s})();const np=["host"],Kg=["turtleCanvas"],Qg=["gridCanvas"];function rp(s,a){1&s&&(p.TgZ(0,"span"),p._uU(1,"Fast"),p.qZA())}function Xg(s,a){1&s&&(p.TgZ(0,"span"),p._uU(1,"50 ms"),p.qZA())}function ip(s,a){if(1&s&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"async"),p.qZA()),2&s){const i=p.oxw();p.xp6(1),p.hij("",p.lcZ(2,1,i.drawingSpeed)/1e3," s")}}function Jg(s,a){1&s&&(p.TgZ(0,"mat-icon"),p._uU(1,"grid_off"),p.qZA())}function ev(s,a){1&s&&(p.TgZ(0,"mat-icon"),p._uU(1,"grid_on"),p.qZA())}function Gm(s,a){1&s&&(p.TgZ(0,"mat-icon"),p._uU(1,"fullscreen_exit"),p.qZA())}function op(s,a){1&s&&(p.TgZ(0,"mat-icon"),p._uU(1,"fullscreen"),p.qZA())}const sp=function(s){return{fullscreen:s}};let Ps=(()=>{class s{constructor(i){this.turtleService=i,this.resize=new p.vpe,this.width=0,this.height=0,this.fullscreen=!1,this.gridSize=this.turtleService.gridSize,this.drawingSpeed=this.turtleService.drawingSpeed,this._resizeCanvas=()=>{const u=this.turtleCanvasEl.nativeElement;u.width=window.innerWidth,u.height=window.innerHeight;const v=this.gridCanvasEl.nativeElement;v.width=window.innerWidth,v.height=window.innerHeight,this.resize.emit()},this._resizeCanvasDebounced=ep(this._resizeCanvas,250)}_getHostElRect(){return this.hostEl.nativeElement.getBoundingClientRect()}_updateCanvasViewDims(){const{width:i,height:u}=this._getHostElRect();this.width=Math.round(i),this.height=Math.round(u)}onResize(){this._updateCanvasViewDims(),this._resizeCanvasDebounced()}ngAfterViewInit(){setTimeout(()=>{this._updateCanvasViewDims(),this._resizeCanvas()},0)}toggleFullscreen(){this.fullscreen=!this.fullscreen,setTimeout(()=>{this._updateCanvasViewDims()},0)}changeGridSize(){this.turtleService.changeGridSize()}changeDrawingSpeed(){this.turtleService.changeDrawingSpeed()}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(vt.r))},s.\u0275cmp=p.Xpm({type:s,selectors:[["tjs-turtle-canvas"]],viewQuery:function(i,u){if(1&i&&(p.Gf(np,5),p.Gf(Kg,5),p.Gf(Qg,5)),2&i){let v;p.iGM(v=p.CRH())&&(u.hostEl=v.first),p.iGM(v=p.CRH())&&(u.turtleCanvasEl=v.first),p.iGM(v=p.CRH())&&(u.gridCanvasEl=v.first)}},outputs:{resize:"resize"},decls:31,vars:27,consts:[[1,"canvas-container",3,"ngClass","resize"],["host",""],[1,"toolbar-container"],[1,"dimensions"],[1,"button-container"],["title","Toggle drawing speed",1,"button","speed-button",3,"click"],[4,"ngIf"],["title","Toggle grid size",1,"button","grid-button",3,"click"],["title","Toggle fullscreen view",1,"button","fullscreen-button",3,"click"],["gridCanvas",""],["turtleCanvas",""]],template:function(i,u){1&i&&(p.TgZ(0,"div",0,1),p.NdJ("resize",function(){return u.onResize()},!1,p.Jf7),p.TgZ(2,"div",2)(3,"span",3),p._uU(4),p.qZA(),p.TgZ(5,"div",4)(6,"button",5),p.NdJ("click",function(){return u.changeDrawingSpeed()}),p.TgZ(7,"mat-icon"),p._uU(8,"speed"),p.qZA(),p.YNc(9,rp,2,0,"span",6),p.ALo(10,"async"),p.YNc(11,Xg,2,0,"span",6),p.ALo(12,"async"),p.YNc(13,ip,3,3,"span",6),p.ALo(14,"async"),p.qZA(),p.TgZ(15,"button",7),p.NdJ("click",function(){return u.changeGridSize()}),p.YNc(16,Jg,2,0,"mat-icon",6),p.ALo(17,"async"),p.YNc(18,ev,2,0,"mat-icon",6),p.ALo(19,"async"),p.TgZ(20,"span"),p._uU(21),p.ALo(22,"async"),p.ALo(23,"async"),p.qZA()(),p.TgZ(24,"button",8),p.NdJ("click",function(){return u.toggleFullscreen()}),p.YNc(25,Gm,2,0,"mat-icon",6),p.YNc(26,op,2,0,"mat-icon",6),p.qZA()()(),p._UZ(27,"canvas",null,9)(29,"canvas",null,10),p.qZA()),2&i&&(p.Q6J("ngClass",p.VKq(25,sp,u.fullscreen)),p.xp6(4),p.AsE(" ",u.width,"\u200a\xd7\u200a",u.height," px"),p.xp6(5),p.Q6J("ngIf",1==p.lcZ(10,11,u.drawingSpeed)),p.xp6(2),p.Q6J("ngIf",50==p.lcZ(12,13,u.drawingSpeed)),p.xp6(2),p.Q6J("ngIf",p.lcZ(14,15,u.drawingSpeed)>=100),p.xp6(3),p.Q6J("ngIf",0==p.lcZ(17,17,u.gridSize)),p.xp6(2),p.Q6J("ngIf",0!=p.lcZ(19,19,u.gridSize)),p.xp6(3),p.Oqu(p.lcZ(22,21,u.gridSize)?p.lcZ(23,23,u.gridSize)+" px":"Off"),p.xp6(4),p.Q6J("ngIf",u.fullscreen),p.xp6(1),p.Q6J("ngIf",!u.fullscreen))},dependencies:[bi,Oe,$c,Lr],styles:['.canvas-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;background:var(--bg);overflow:hidden}.toolbar-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;display:flex;justify-content:space-between;z-index:1}.toolbar-container[_ngcontent-%COMP%]   .dimensions[_ngcontent-%COMP%]{padding:.5em;font-size:70%;text-shadow:0 0 3px var(--bg)}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding:.6rem;display:flex;gap:.6rem}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:var(--bg);position:relative;border:1px solid var(--acc2);border-radius:4px;color:var(--text-e);font-size:.9rem;display:flex;align-items:center;padding:.2rem;overflow:hidden}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{z-index:1}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:200%;font-weight:200;color:var(--text-he)}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:var(--bg);transition:background-color .2s var(--timing-func)}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover:before, .toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:focus:before{background:var(--hover)}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active:before{background:var(--focus)}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .grid-button[_ngcontent-%COMP%], .toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .speed-button[_ngcontent-%COMP%]{padding:.2rem .6rem .2rem .2rem;position:relative}.toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .grid-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .toolbar-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .speed-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{min-width:5ch}canvas[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:10}']}),s})();var tv=K(7635);let Gc=(()=>{class s{constructor(i,u){this.localStorageService=i,this.rendererFactory=u,this._themeSubject=new Cr.X(this._theme),this.theme=this._themeSubject.asObservable(),this._simpleThemeSubject=new Cr.X(this._themeSimple),this.simpleTheme=this._simpleThemeSubject.asObservable(),this.renderer=this.rendererFactory.createRenderer(document.body,null);let v=this.localStorageService.loadString("theme");this._theme=v||"system",this._onChange(),this._setBodyClass()}static themeToSimple(i){return"system"===i?!window.matchMedia||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":i}get _themeSimple(){return s.themeToSimple(this._theme)}_setBodyClass(){const i="theme-"+this._themeSimple,u=s.allThemes.map(w=>"theme-"+w),v=u.indexOf(i);u.splice(v,1);for(const w of u)this.renderer.removeClass(document.body,w);this._bodyClass!=i&&(this.renderer.addClass(document.body,i),this._bodyClass=i)}nextTheme(){switch(this._theme){case"system":this._theme="dark";break;case"dark":this._theme="light";break;case"light":this._theme="system"}this._onChange(),this._setBodyClass()}_onChange(){this._themeSubject.next(this._theme),this._simpleThemeSubject.next(this._themeSimple),this.localStorageService.save("theme",this._theme)}}return s.allThemes=["dark","light"],s.\u0275fac=function(i){return new(i||s)(p.LFG(tv.n),p.LFG(p.FYo))},s.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Wc(s,a,i,u,v,w,x){try{var P=s[w](x),oe=P.value}catch(_e){return void i(_e)}P.done?a(oe):Promise.resolve(oe).then(u,v)}function nv(s){return function(){var a=this,i=arguments;return new Promise(function(u,v){var w=s.apply(a,i);function x(oe){Wc(w,u,v,x,P,"next",oe)}function P(oe){Wc(w,u,v,x,P,"throw",oe)}x(void 0)})}}let rv=(()=>{class s{constructor(i,u){this._renderer=i,this._elementRef=u,this.onChange=v=>{},this.onTouched=()=>{}}setProperty(i,u){this._renderer.setProperty(this._elementRef.nativeElement,i,u)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(p.Qsj),p.Y36(p.SBq))},s.\u0275dir=p.lG2({type:s}),s})(),xl=(()=>{class s extends rv{}return s.\u0275fac=function(){let a;return function(u){return(a||(a=p.n5z(s)))(u||s)}}(),s.\u0275dir=p.lG2({type:s,features:[p.qOj]}),s})();const Gi=new p.OlP("NgValueAccessor"),ov={provide:Gi,useExisting:(0,p.Gpc)(()=>Yc),multi:!0},sv=new p.OlP("CompositionEventMode");let Yc=(()=>{class s extends rv{constructor(i,u,v){super(i,u),this._compositionMode=v,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tl(){const s=re()?re().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(sv,8))},s.\u0275dir=p.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,u){1&i&&p.NdJ("input",function(w){return u._handleInput(w.target.value)})("blur",function(){return u.onTouched()})("compositionstart",function(){return u._compositionStart()})("compositionend",function(w){return u._compositionEnd(w.target.value)})},features:[p._Bn([ov]),p.qOj]}),s})();const pr=new p.OlP("NgValidators"),Rs=new p.OlP("NgAsyncValidators");function uv(s){return null!=s}function Fa(s){return(0,p.QGY)(s)?(0,vn.D)(s):s}function Rd(s){let a={};return s.forEach(i=>{a=null!=i?{...a,...i}:a}),0===Object.keys(a).length?null:a}function Vd(s,a){return a.map(i=>i(s))}function yi(s){return s.map(a=>function Xc(s){return!s.validate}(a)?a:i=>a.validate(i))}function Hd(s){return null!=s?function Bd(s){if(!s)return null;const a=s.filter(uv);return 0==a.length?null:function(i){return Rd(Vd(i,a))}}(yi(s)):null}function Wi(s){return null!=s?function Jc(s){if(!s)return null;const a=s.filter(uv);return 0==a.length?null:function(i){return function Wm(...s){const a=(0,Ao.jO)(s),{args:i,keys:u}=gc(s),v=new Li.y(w=>{const{length:x}=i;if(!x)return void w.complete();const P=new Array(x);let oe=x,_e=x;for(let Pe=0;Pe<x;Pe++){let Se=!1;(0,gs.Xf)(i[Pe]).subscribe((0,Rn.x)(w,ot=>{Se||(Se=!0,_e--),P[Pe]=ot},()=>oe--,void 0,()=>{(!oe||!Se)&&(_e||w.next(u?ou(u,P):P),w.complete())}))}});return a?v.pipe(fi(a)):v}(Vd(i,a).map(Fa)).pipe((0,We.U)(Rd))}}(yi(s)):null}function ef(s,a){return null===s?[a]:Array.isArray(s)?[...s,a]:[s,a]}function cp(s){return s?Array.isArray(s)?s:[s]:[]}function Iu(s,a){return Array.isArray(s)?s.includes(a):s===a}function cv(s,a){const i=cp(a);return cp(s).forEach(v=>{Iu(i,v)||i.push(v)}),i}function Ou(s,a){return cp(a).filter(i=>!Iu(s,i))}class Fu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(a){this._rawValidators=a||[],this._composedValidatorFn=Hd(this._rawValidators)}_setAsyncValidators(a){this._rawAsyncValidators=a||[],this._composedAsyncValidatorFn=Wi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(a){this._onDestroyCallbacks.push(a)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(a=>a()),this._onDestroyCallbacks=[]}reset(a){this.control&&this.control.reset(a)}hasError(a,i){return!!this.control&&this.control.hasError(a,i)}getError(a,i){return this.control?this.control.getError(a,i):null}}class rr extends Fu{get formDirective(){return null}get path(){return null}}class Co extends Fu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let fp=(()=>{class s extends class nf{constructor(a){this._cd=a}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(Co,2))},s.\u0275dir=p.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,u){2&i&&p.ekj("ng-untouched",u.isUntouched)("ng-touched",u.isTouched)("ng-pristine",u.isPristine)("ng-dirty",u.isDirty)("ng-valid",u.isValid)("ng-invalid",u.isInvalid)("ng-pending",u.isPending)},features:[p.qOj]}),s})();const rf="VALID",Yi="INVALID",Vs="PENDING",Lu="DISABLED";function af(s){return Array.isArray(s)?Hd(s):s||null}function uf(s){return Array.isArray(s)?Wi(s):s||null}function cf(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}function ka(s,a){(function df(s,a){const i=function Ud(s){return s._rawValidators}(s);null!==a.validator?s.setValidators(ef(i,a.validator)):"function"==typeof i&&s.setValidators([i]);const u=function tf(s){return s._rawAsyncValidators}(s);null!==a.asyncValidator?s.setAsyncValidators(ef(u,a.asyncValidator)):"function"==typeof u&&s.setAsyncValidators([u]);const v=()=>s.updateValueAndValidity();Al(a._rawValidators,v),Al(a._rawAsyncValidators,v)})(s,a),a.valueAccessor.writeValue(s.value),s.disabled&&a.valueAccessor.setDisabledState?.(!0),function Yd(s,a){a.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&Zd(s,a)})}(s,a),function Kd(s,a){const i=(u,v)=>{a.valueAccessor.writeValue(u),v&&a.viewToModelUpdate(u)};s.registerOnChange(i),a._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,a),function qd(s,a){a.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&Zd(s,a),"submit"!==s.updateOn&&s.markAsTouched()})}(s,a),function ff(s,a){if(a.valueAccessor.setDisabledState){const i=u=>{a.valueAccessor.setDisabledState(u)};s.registerOnDisabledChange(i),a._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,a)}function Al(s,a){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(a)})}function Zd(s,a){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function yp(s,a){const i=s.indexOf(a);i>-1&&s.splice(i,1)}function _p(s){return"object"==typeof s&&null!==s&&2===Object.keys(s).length&&"value"in s&&"disabled"in s}const Xd={provide:Co,useExisting:(0,p.Gpc)(()=>Jd)},wp=(()=>Promise.resolve())();let Jd=(()=>{class s extends Co{constructor(i,u,v,w,x){super(),this._changeDetectorRef=x,this.control=new class extends class pp{constructor(a,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=a,this._rawAsyncValidators=i,this._composedValidatorFn=af(this._rawValidators),this._composedAsyncValidatorFn=uf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get valid(){return this.status===rf}get invalid(){return this.status===Yi}get pending(){return this.status==Vs}get disabled(){return this.status===Lu}get enabled(){return this.status!==Lu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._rawValidators=a,this._composedValidatorFn=af(a)}setAsyncValidators(a){this._rawAsyncValidators=a,this._composedAsyncValidatorFn=uf(a)}addValidators(a){this.setValidators(cv(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(cv(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(Ou(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(Ou(a,this._rawAsyncValidators))}hasValidator(a){return Iu(this._rawValidators,a)}hasAsyncValidator(a){return Iu(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){this.touched=!0,this._parent&&!a.onlySelf&&this._parent.markAsTouched(a)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(a=>a.markAllAsTouched())}markAsUntouched(a={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}markAsDirty(a={}){this.pristine=!1,this._parent&&!a.onlySelf&&this._parent.markAsDirty(a)}markAsPristine(a={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}markAsPending(a={}){this.status=Vs,!1!==a.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!a.onlySelf&&this._parent.markAsPending(a)}disable(a={}){const i=this._parentMarkedDirty(a.onlySelf);this.status=Lu,this.errors=null,this._forEachChild(u=>{u.disable({...a,onlySelf:!0})}),this._updateValue(),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...a,skipPristineCheck:i}),this._onDisabledChange.forEach(u=>u(!0))}enable(a={}){const i=this._parentMarkedDirty(a.onlySelf);this.status=rf,this._forEachChild(u=>{u.enable({...a,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors({...a,skipPristineCheck:i}),this._onDisabledChange.forEach(u=>u(!1))}_updateAncestors(a){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(a){this._parent=a}getRawValue(){return this.value}updateValueAndValidity(a={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rf||this.status===Vs)&&this._runAsyncValidator(a.emitEvent)),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity(a)}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lu:rf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a){if(this.asyncValidator){this.status=Vs,this._hasOwnPendingAsyncValidator=!0;const i=Fa(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(u=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(u,{emitEvent:a})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(a,i={}){this.errors=a,this._updateControlsErrors(!1!==i.emitEvent)}get(a){let i=a;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((u,v)=>u&&u._find(v),this)}getError(a,i){const u=i?this.get(i):this;return u&&u.errors?u.errors[a]:null}hasError(a,i){return!!this.getError(a,i)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(a)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Lu:this.errors?Yi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vs)?Vs:this._anyControlsHaveStatus(Yi)?Yi:rf}_anyControlsHaveStatus(a){return this._anyControls(i=>i.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a={}){this.pristine=!this._anyControlsDirty(),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}_updateTouched(a={}){this.touched=this._anyControlsTouched(),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){cf(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(a){return null}}{constructor(a=null,i,u){super(function sf(s){return(cf(s)?s.validators:s)||null}(i),function lf(s,a){return(cf(a)?a.asyncValidators:s)||null}(u,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(a),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cf(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=_p(a)?a.value:a)}setValue(a,i={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(u=>u(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(a,i={}){this.setValue(a,i)}reset(a=this.defaultValue,i={}){this._applyFormState(a),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){yp(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){yp(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){_p(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}},this._registered=!1,this.update=new p.vpe,this._parent=i,this._setValidators(u),this._setAsyncValidators(v),this.valueAccessor=function pf(s,a){if(!a)return null;let i,u,v;return Array.isArray(a),a.forEach(w=>{w.constructor===Yc?i=w:function yv(s){return Object.getPrototypeOf(s.constructor)===xl}(w)?u=w:v=w}),v||u||i||null}(0,w)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const u=i.name.previousValue;this.formDirective.removeControl({name:u,path:this._getPath(u)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function hf(s,a){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(a,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ka(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){wp.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const u=i.isDisabled.currentValue,v=0!==u&&(0,p.D6c)(u);wp.then(()=>{v&&!this.control.disabled?this.control.disable():!v&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function qo(s,a){return[...a.path,s]}(i,this._parent):[i]}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(rr,9),p.Y36(pr,10),p.Y36(Rs,10),p.Y36(Gi,10),p.Y36(p.sBO,8))},s.\u0275dir=p.lG2({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Xd]),p.qOj,p.TTD]}),s})(),vf=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({}),s})(),Hu=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[vf]}),s})(),gr=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[Hu]}),s})();const kl=["ref"];function Na(s){return s&&s.replace(/\r\n|\r/g,"\n")}let Ra=(()=>{class s{constructor(i,u){this._differs=i,this._ngZone=u,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new p.vpe,this.focusChange=new p.vpe,this.scroll=new p.vpe,this.drop=new p.vpe,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=v=>{},this.onTouched=()=>{}}set options(i){this._options=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}get codeMirrorGlobal(){return this._codeMirror||(this._codeMirror=typeof CodeMirror<"u"?CodeMirror:Promise.resolve().then(K.t.bind(K,8266,19))),this._codeMirror}ngAfterViewInit(){var i=this;this._ngZone.runOutsideAngular(nv(function*(){const u=yield i.codeMirrorGlobal;i.codeMirror=(u?.default?u.default:u).fromTextArea(i.ref.nativeElement,i._options),i.codeMirror.on("cursorActivity",w=>i._ngZone.run(()=>i.cursorActive(w))),i.codeMirror.on("scroll",i.scrollChanged.bind(i)),i.codeMirror.on("blur",()=>i._ngZone.run(()=>i.focusChanged(!1))),i.codeMirror.on("focus",()=>i._ngZone.run(()=>i.focusChanged(!0))),i.codeMirror.on("change",(w,x)=>i._ngZone.run(()=>i.codemirrorValueChanged(w,x))),i.codeMirror.on("drop",(w,x)=>{i._ngZone.run(()=>i.dropFiles(w,x))}),i.codeMirror.setValue(i.value)}))}ngDoCheck(){if(!this._differ)return;const i=this._differ.diff(this._options);i&&(i.forEachChangedItem(u=>this.setOptionIfChanged(u.key,u.currentValue)),i.forEachAddedItem(u=>this.setOptionIfChanged(u.key,u.currentValue)),i.forEachRemovedItem(u=>this.setOptionIfChanged(u.key,u.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(i,u){const v=i.getValue();this.value!==v&&(this.value=v,this.onChange(this.value))}setOptionIfChanged(i,u){!this.codeMirror||this.codeMirror.setOption(i,u)}focusChanged(i){this.onTouched(),this.isFocused=i,this.focusChange.emit(i)}scrollChanged(i){this.scroll.emit(i.getScrollInfo())}cursorActive(i){this.cursorActivity.emit(i)}dropFiles(i,u){this.drop.emit([i,u])}writeValue(i){if(null==i)return;if(!this.codeMirror)return void(this.value=i);const u=this.codeMirror.getValue();if(i!==u&&Na(u)!==Na(i))if(this.value=i,this.preserveScrollPosition){const v=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(v.left,v.top)}else this.codeMirror.setValue(this.value)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i,this.setOptionIfChanged("readOnly",this.disabled)}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(p.aQg),p.Y36(p.R0b))},s.\u0275cmp=p.Xpm({type:s,selectors:[["ngx-codemirror"]],viewQuery:function(i,u){if(1&i&&p.Gf(kl,5),2&i){let v;p.iGM(v=p.CRH())&&(u.ref=v.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop"},features:[p._Bn([{provide:Gi,useExisting:(0,p.Gpc)(()=>s),multi:!0}])],decls:3,vars:7,consts:[["autocomplete","off",3,"name","autofocus"],["ref",""]],template:function(i,u){1&i&&(p.TgZ(0,"textarea",0,1),p._uU(2,"    "),p.qZA()),2&i&&(p.Gre("ngx-codemirror ",u.className,""),p.ekj("ngx-codemirror--focused",u.isFocused),p.Q6J("name",u.name)("autofocus",u.autoFocus))},encapsulation:2,changeDetection:0}),s})(),Ll=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({}),s})();const Np=["host"];let Rp=(()=>{class s{constructor(){this.valueChange=new p.vpe,this.autoFocus=!1}onResize(){const{width:i,height:u}=this._getHostElRect();setTimeout(()=>{this.codemirrorEl.codeMirror.setSize(i,u)},0)}_getHostElRect(){return this.hostEl.nativeElement.getBoundingClientRect()}ngAfterViewInit(){this.onResize()}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["tjs-codemirror"]],viewQuery:function(i,u){if(1&i&&(p.Gf(Np,5),p.Gf(Ra,5)),2&i){let v;p.iGM(v=p.CRH())&&(u.hostEl=v.first),p.iGM(v=p.CRH())&&(u.codemirrorEl=v.first)}},inputs:{value:"value",options:"options",autoFocus:"autoFocus"},outputs:{valueChange:"valueChange"},decls:4,vars:3,consts:[[1,"codemirror-container",3,"resize"],["host",""],[3,"ngModel","options","autoFocus","ngModelChange"],["codemirror",""]],template:function(i,u){1&i&&(p.TgZ(0,"div",0,1),p.NdJ("resize",function(){return u.onResize()},!1,p.Jf7),p.TgZ(2,"ngx-codemirror",2,3),p.NdJ("ngModelChange",function(w){return u.valueChange.emit(w)}),p.qZA()()),2&i&&(p.xp6(2),p.Q6J("ngModel",u.value)("options",u.options)("autoFocus",u.autoFocus))},dependencies:[fp,Jd,Ra],styles:[".codemirror-container[_ngcontent-%COMP%]{height:100%;width:100%}"]}),s})();function Vp(s,a){1&s&&(p.TgZ(0,"mat-icon"),p._uU(1,"more_horiz"),p.qZA())}function Bp(s,a){1&s&&(p.TgZ(0,"mat-icon"),p._uU(1,"play_arrow"),p.qZA())}const Hp=function(){return["CodeMirror-linenumbers","CodeMirror-foldgutter"]},Up=function(s,a,i){return{mode:"javascript",theme:s,gutters:a,scrollbarStyle:"overlay",extraKeys:i,indentUnit:4,tabindex:0,autofocus:!0,lineNumbers:!0,foldGutter:!0,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,scrollPastEnd:!0}},jp=[{path:"",component:(()=>{class s{constructor(i,u){this.turtleService=i,this.themeService=u,this.theme=this.themeService.simpleTheme,this.currentCode=this.turtleService.currentCode,this.isRunning=this.turtleService.isCodeRunning,this.extraKeysMap={Tab:v=>{const w=Array(v.getOption("indentUnit")+1).join(" ");v.replaceSelection(w)},"Ctrl-S":v=>{},"Shift-Alt-A":v=>{v.toggleComment()},"Ctrl-Alt-R":v=>{this.turtleService.runCodeTimeout()},"Alt-B":v=>{const w=v.getLine(v.getCursor().line);v.replaceSelection("\n"+w)},"Alt-Down":v=>{const w=v.getCursor(),x=w.line,P=v.getLine(x),oe=v.getLine(x+1);v.replaceRange(oe+"\n"+P+"\n",new zc.Pos(x,0),zc.Pos(x+2,0)),w.line++,v.setCursor(w)},"Alt-Up":v=>{const w=v.getCursor(),x=w.line,P=v.getLine(x),oe=v.getLine(x-1);v.replaceRange(P+"\n"+oe+"\n",new zc.Pos(x+1,0),zc.Pos(x-1,0)),w.line--,v.setCursor(w)}},this._wasViewInit=!1,this.onCanvasResize=ep(()=>{!this._wasViewInit||this.turtleService.resetCanvas()},250)}ngAfterViewInit(){this.turtleService.create(this.canvas.turtleCanvasEl.nativeElement.getContext("2d",{willReadFrequently:!0}),this.canvas.gridCanvasEl.nativeElement.getContext("2d",{willReadFrequently:!0}),{defaultColor:"white",autoDraw:!0,disableWrapping:!0}),this.turtleService.turtle.expose(window),this._wasViewInit=!0}onCodemirrorChange(i){this.turtleService.setCode(i)}onRunClick(){this.turtleService.runCodeTimeout()}onDownloadClick(){this.turtleService.downloadCode()}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(vt.r),p.Y36(Gc))},s.\u0275cmp=p.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(i,u){if(1&i&&p.Gf(Ps,5),2&i){let v;p.iGM(v=p.CRH())&&(u.canvas=v.first)}},decls:22,vars:21,consts:[[1,"panel-container"],[1,"panel1"],[1,"panel-toolbar"],[1,"button-container"],[1,"run-button",3,"disabled","click"],[4,"ngIf"],[1,"download-button",3,"click"],[3,"value","options","autoFocus","valueChange"],[1,"panel2"],[3,"resize"]],template:function(i,u){if(1&i&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),p.NdJ("click",function(){return u.onRunClick()}),p.ALo(5,"async"),p.YNc(6,Vp,2,0,"mat-icon",5),p.ALo(7,"async"),p.YNc(8,Bp,2,0,"mat-icon",5),p.ALo(9,"async"),p.TgZ(10,"span"),p._uU(11,"Run"),p.qZA()(),p.TgZ(12,"button",6),p.NdJ("click",function(){return u.onDownloadClick()}),p.TgZ(13,"mat-icon"),p._uU(14,"file_download"),p.qZA(),p.TgZ(15,"span"),p._uU(16,"Download"),p.qZA()()()(),p.TgZ(17,"tjs-codemirror",7),p.NdJ("valueChange",function(w){return u.onCodemirrorChange(w)}),p.ALo(18,"async"),p.ALo(19,"async"),p.qZA()(),p.TgZ(20,"div",8)(21,"tjs-turtle-canvas",9),p.NdJ("resize",function(){return u.onCanvasResize()}),p.qZA()()()),2&i){let v;p.xp6(4),p.Q6J("disabled",p.lcZ(5,6,u.isRunning)),p.xp6(2),p.Q6J("ngIf",p.lcZ(7,8,u.isRunning)),p.xp6(2),p.Q6J("ngIf",!p.lcZ(9,10,u.isRunning)),p.xp6(9),p.Q6J("value",null!==(v=p.lcZ(18,12,u.currentCode))&&void 0!==v?v:"")("options",p.kEZ(17,Up,p.lcZ(19,14,u.theme)+"plus",p.DdM(16,Hp),u.extraKeysMap))("autoFocus",!0)}},dependencies:[Oe,$c,Rp,Ps,Lr],styles:["ng-component[_ngcontent-%COMP%], .panel-container[_ngcontent-%COMP%], .panel1[_ngcontent-%COMP%], .panel2[_ngcontent-%COMP%]{min-height:calc(100vh - var(--header-height) - var(--footer-height))}.panel-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:stretch}.panel1[_ngcontent-%COMP%], .panel2[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch}.panel1[_ngcontent-%COMP%]{width:calc(100% - min(600px,max(40%,300px)));border-right:1px solid var(--acc2)}.panel2[_ngcontent-%COMP%]{width:min(600px,max(40%,300px))}tjs-codemirror[_ngcontent-%COMP%]{flex-grow:1}tjs-turtle-canvas[_ngcontent-%COMP%]{height:calc(100vh - var(--header-height) - var(--footer-height))}.panel-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:stretch;border-bottom:1px solid var(--acc2);padding:.6rem;align-items:center}.button-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;gap:.6rem}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--acc2);border-radius:4px;color:var(--text-e);font-size:.85rem;display:flex;align-items:center;padding:.2rem .6rem .2rem .2rem;transition:background-color .2s var(--timing-func)}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:200%;font-weight:200;color:var(--text-he)}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:var(--hover)}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:var(--focus)}.saving-indicator[_ngcontent-%COMP%]{font-size:.8rem}"]}),s})()}];let zp=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[mi.forRoot(jp),mi]}),s})();let Vv=(()=>{class s{constructor(i){this.themeService=i,this.theme=this.themeService.theme}nextTheme(){this.themeService.nextTheme()}}return s.\u0275fac=function(i){return new(i||s)(p.Y36(Gc))},s.\u0275cmp=p.Xpm({type:s,selectors:[["tjs-color-theme-button"]],decls:12,vars:7,consts:[[1,"theme-button",3,"title","click"],[1,"icon-host","system"],[1,"icon-host","dark"],[1,"icon-host","light"]],template:function(i,u){1&i&&(p.TgZ(0,"button",0),p.NdJ("click",function(){return u.nextTheme()}),p.ALo(1,"async"),p.ALo(2,"async"),p.TgZ(3,"div",1)(4,"mat-icon"),p._uU(5,"computer"),p.qZA()(),p.TgZ(6,"div",2)(7,"mat-icon"),p._uU(8,"dark_mode"),p.qZA()(),p.TgZ(9,"div",3)(10,"mat-icon"),p._uU(11,"light_mode"),p.qZA()()()),2&i&&(p.Tol("icon-"+p.lcZ(1,3,u.theme)),p.Q6J("title","Change color theme (now: "+p.lcZ(2,5,u.theme)+")"))},dependencies:[$c,Lr],styles:["button[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--acc2);border-radius:999px;width:2.667rem;height:2.667rem;display:flex;align-items:center;justify-content:center;font-size:1.75rem;color:var(--text);font-weight:200;position:relative}.icon-host[_ngcontent-%COMP%]{position:absolute;display:none}.dark[_ngcontent-%COMP%]{font-size:115%}.icon-system[_ngcontent-%COMP%]   .system[_ngcontent-%COMP%], .icon-light[_ngcontent-%COMP%]   .light[_ngcontent-%COMP%], .icon-dark[_ngcontent-%COMP%]   .dark[_ngcontent-%COMP%]{display:block}"]}),s})(),$p=(()=>{class s{constructor(){this.version="0.1.1",this.isBeta="0"==this.version.charAt(0)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["tjs-header"]],decls:16,vars:2,consts:[[1,"header-container"],["routerLink","/",1,"logo-container"],["src","assets/turtle.png","alt","Turtle icon"],[1,"name-container"],[1,"name"],[1,"version"],[1,"nav-burger"],[1,"nav-wrapper"],[1,"color-theme"]],template:function(i,u){1&i&&(p.TgZ(0,"div",0)(1,"a",1),p._UZ(2,"img",2),p.TgZ(3,"div",3)(4,"span",4),p._uU(5,"TurtleJS"),p.qZA(),p.TgZ(6,"span",5),p._uU(7),p.qZA()()(),p.TgZ(8,"nav")(9,"div",6),p._UZ(10,"span")(11,"span")(12,"span"),p.qZA(),p._UZ(13,"ul",7),p.qZA(),p.TgZ(14,"div",8),p._UZ(15,"tjs-color-theme-button"),p.qZA()()),2&i&&(p.xp6(7),p.AsE("v",u.version,"",u.isBeta?" (beta)":"",""))},dependencies:[Vc,Vv],styles:[".header-container[_ngcontent-%COMP%]{height:var(--header-height);padding-left:4%;padding-right:2%;display:flex;justify-content:space-between;border-bottom:1px solid var(--acc2)}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;text-decoration:none}.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:75%}.logo-container[_ngcontent-%COMP%]   .name-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.logo-container[_ngcontent-%COMP%]   .name-container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:110%;color:var(--text-e);transition:color .2s var(--timing-func)}.logo-container[_ngcontent-%COMP%]   .name-container[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:80%;color:var(--text-s)}.logo-container[_ngcontent-%COMP%]:hover   .name-container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .logo-container[_ngcontent-%COMP%]:focus   .name-container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:var(--text-he)}.color-theme[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),s})(),Bv=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["tjs-footer"]],decls:14,vars:0,consts:[[1,"footer-container"],[1,"copyright"],[1,"social-links"],[1,"social-link"],["href",""]],template:function(i,u){1&i&&(p.TgZ(0,"div",0)(1,"span",1),p._uU(2,"\xa9 Copyright 2022 joker876"),p.qZA(),p.TgZ(3,"nav")(4,"ul",2)(5,"li",3)(6,"a",4),p._uU(7,"GitHub"),p.qZA()(),p.TgZ(8,"li",3)(9,"a",4),p._uU(10,"Report an issue"),p.qZA()(),p.TgZ(11,"li",3)(12,"a",4),p._uU(13,"Post a suggestion"),p.qZA()()()()())},styles:[".footer-container[_ngcontent-%COMP%]{height:var(--footer-height);background:rgba(0,0,0,.1);display:flex;padding:.3rem max(5%,1rem) .3rem max(15%,4rem);justify-content:space-between;align-items:center;border-top:1px solid var(--acc2);font-size:11.5px;letter-spacing:.25px;font-weight:300}.copyright[_ngcontent-%COMP%]{color:var(--text-e)}.social-links[_ngcontent-%COMP%]{display:flex;gap:2rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-e);transition:color .15s ease}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:var(--main-400)}"]}),s})(),Hv=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=p.Xpm({type:s,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"app-master-container"]],template:function(i,u){1&i&&(p.TgZ(0,"div",0)(1,"header"),p._UZ(2,"tjs-header"),p.qZA(),p.TgZ(3,"main"),p._UZ(4,"router-outlet"),p.qZA(),p.TgZ(5,"footer"),p._UZ(6,"tjs-footer"),p.qZA()())},dependencies:[f,$p,Bv],styles:[".app-master-container{display:flex;flex-direction:column;justify-content:stretch;min-height:100vh}main{min-height:calc(100vh - var(--header-height) - var(--footer-height))}\n"],encapsulation:2}),s})(),rh=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=p.oAB({type:s,bootstrap:[Hv]}),s.\u0275inj=p.cJS({imports:[qf,zp,gr,Ll]}),s})();K(4166),K(8375),K(9088),K(1812),K(8522),K(2185),K(9966),K(3400),K(6501),K(4222),K(9623),K(4508),K(6095),K(1866),K(1572),K(2807),K(6653),window.randomFloat=(s=0,a=1)=>Math.random()*(a-s)+s,window.randomInt=(s=0,a=100)=>Math.round(window.randomFloat(s,a)),(0,p.G48)(),nl().bootstrapModule(rh).catch(s=>console.error(s))},8522:(Ve,ve,K)=>{!function(p){"use strict";var ue={},re=/[^\s\u00a0]/,j=p.Pos,L=p.cmpPos;function V(A){var k=A.search(re);return-1==k?0:k}function ie(A,k){var N=A.getMode();return!1!==N.useInnerComments&&N.innerMode?A.getModeAt(k):N}p.commands.toggleComment=function(A){A.toggleComment()},p.defineExtension("toggleComment",function(A){A||(A=ue);for(var k=this,N=1/0,Z=this.listSelections(),Q=null,B=Z.length-1;B>=0;B--){var se=Z[B].from(),z=Z[B].to();se.line>=N||(z.line>=N&&(z=j(N,0)),N=se.line,null==Q?k.uncomment(se,z,A)?Q="un":(k.lineComment(se,z,A),Q="line"):"un"==Q?k.uncomment(se,z,A):k.lineComment(se,z,A))}}),p.defineExtension("lineComment",function(A,k,N){N||(N=ue);var Z=this,Q=ie(Z,A),B=Z.getLine(A.line);if(null!=B&&!function q(A,k,N){return/\bstring\b/.test(A.getTokenTypeAt(j(k.line,0)))&&!/^[\'\"\`]/.test(N)}(Z,A,B)){var se=N.lineComment||Q.lineComment;if(!se)return void((N.blockCommentStart||Q.blockCommentStart)&&(N.fullLines=!0,Z.blockComment(A,k,N)));var z=Math.min(0!=k.ch||k.line==A.line?k.line+1:k.line,Z.lastLine()+1),H=N.padding??" ",ne=N.commentBlankLines||A.line==k.line;Z.operation(function(){if(N.indent){for(var X=null,G=A.line;G<z;++G){var te=-1===(W=Z.getLine(G)).search(re)?W:W.slice(0,V(W));(null==X||X.length>te.length)&&(X=te)}for(G=A.line;G<z;++G){var W=Z.getLine(G),I=X.length;!ne&&!re.test(W)||(W.slice(0,I)!=X&&(I=V(W)),Z.replaceRange(X+se+H,j(G,0),j(G,I)))}}else for(G=A.line;G<z;++G)(ne||re.test(Z.getLine(G)))&&Z.replaceRange(se+H,j(G,0))})}}),p.defineExtension("blockComment",function(A,k,N){N||(N=ue);var Z=this,Q=ie(Z,A),B=N.blockCommentStart||Q.blockCommentStart,se=N.blockCommentEnd||Q.blockCommentEnd;if(B&&se){if(!/\bcomment\b/.test(Z.getTokenTypeAt(j(A.line,0)))){var z=Math.min(k.line,Z.lastLine());z!=A.line&&0==k.ch&&re.test(Z.getLine(z))&&--z;var H=N.padding??" ";A.line>z||Z.operation(function(){if(0!=N.fullLines){var ne=re.test(Z.getLine(z));Z.replaceRange(H+se,j(z)),Z.replaceRange(B+H,j(A.line,0));var X=N.blockCommentLead||Q.blockCommentLead;if(null!=X)for(var G=A.line+1;G<=z;++G)(G!=z||ne)&&Z.replaceRange(X+H,j(G,0))}else{var W=0==L(Z.getCursor("to"),k),te=!Z.somethingSelected();Z.replaceRange(se,k),W&&Z.setSelection(te?k:Z.getCursor("from"),k),Z.replaceRange(B,A)}})}}else(N.lineComment||Q.lineComment)&&0!=N.fullLines&&Z.lineComment(A,k,N)}),p.defineExtension("uncomment",function(A,k,N){N||(N=ue);var X,Z=this,Q=ie(Z,A),B=Math.min(0!=k.ch||k.line==A.line?k.line:k.line-1,Z.lastLine()),se=Math.min(A.line,B),z=N.lineComment||Q.lineComment,H=[],ne=N.padding??" ";e:if(z){for(var G=se;G<=B;++G){var W=Z.getLine(G),te=W.indexOf(z);if(te>-1&&!/comment/.test(Z.getTokenTypeAt(j(G,te+1)))&&(te=-1),-1==te&&re.test(W)||te>-1&&re.test(W.slice(0,te)))break e;H.push(W)}if(Z.operation(function(){for(var Be=se;Be<=B;++Be){var ft=H[Be-se],rt=ft.indexOf(z),It=rt+z.length;rt<0||(ft.slice(It,It+ne.length)==ne&&(It+=ne.length),X=!0,Z.replaceRange("",j(Be,rt),j(Be,It)))}}),X)return!0}var I=N.blockCommentStart||Q.blockCommentStart,pe=N.blockCommentEnd||Q.blockCommentEnd;if(!I||!pe)return!1;var ae=N.blockCommentLead||Q.blockCommentLead,de=Z.getLine(se),me=de.indexOf(I);if(-1==me)return!1;var F=B==se?de:Z.getLine(B),ee=F.indexOf(pe,B==se?me+I.length:0),R=j(se,me+1),fe=j(B,ee+1);if(-1==ee||!/comment/.test(Z.getTokenTypeAt(R))||!/comment/.test(Z.getTokenTypeAt(fe))||Z.getRange(R,fe,"\n").indexOf(pe)>-1)return!1;var Ee=de.lastIndexOf(I,A.ch),be=-1==Ee?-1:de.slice(0,A.ch).indexOf(pe,Ee+I.length);if(-1!=Ee&&-1!=be&&be+pe.length!=A.ch)return!1;be=F.indexOf(pe,k.ch);var Ze=F.slice(k.ch).lastIndexOf(I,be-k.ch);return Ee=-1==be||-1==Ze?-1:k.ch+Ze,(-1==be||-1==Ee||Ee==k.ch)&&(Z.operation(function(){Z.replaceRange("",j(B,ee-(ne&&F.slice(ee-ne.length,ee)==ne?ne.length:0)),j(B,ee+pe.length));var Be=me+I.length;if(ne&&de.slice(Be,Be+ne.length)==ne&&(Be+=ne.length),Z.replaceRange("",j(se,me),j(se,Be)),ae)for(var ft=se+1;ft<=B;++ft){var rt=Z.getLine(ft),It=rt.indexOf(ae);if(-1!=It&&!re.test(rt.slice(0,It))){var nn=It+ae.length;ne&&rt.slice(nn,nn+ne.length)==ne&&(nn+=ne.length),Z.replaceRange("",j(ft,It),j(ft,nn))}}}),!0)})}(K(8266))},539:(Ve,ve,K)=>{!function(p){function ue(j,L,V){var ie,q=j.getWrapperElement();return(ie=q.appendChild(document.createElement("div"))).className=V?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof L?ie.innerHTML=L:ie.appendChild(L),p.addClass(q,"dialog-opened"),ie}function re(j,L){j.state.currentNotificationClose&&j.state.currentNotificationClose(),j.state.currentNotificationClose=L}p.defineExtension("openDialog",function(j,L,V){V||(V={}),re(this,null);var q=ue(this,j,V.bottom),ie=!1,A=this;function k(Q){if("string"==typeof Q)N.value=Q;else{if(ie)return;ie=!0,p.rmClass(q.parentNode,"dialog-opened"),q.parentNode.removeChild(q),A.focus(),V.onClose&&V.onClose(q)}}var Z,N=q.getElementsByTagName("input")[0];return N?(N.focus(),V.value&&(N.value=V.value,!1!==V.selectValueOnOpen&&N.select()),V.onInput&&p.on(N,"input",function(Q){V.onInput(Q,N.value,k)}),V.onKeyUp&&p.on(N,"keyup",function(Q){V.onKeyUp(Q,N.value,k)}),p.on(N,"keydown",function(Q){V&&V.onKeyDown&&V.onKeyDown(Q,N.value,k)||((27==Q.keyCode||!1!==V.closeOnEnter&&13==Q.keyCode)&&(N.blur(),p.e_stop(Q),k()),13==Q.keyCode&&L(N.value,Q))}),!1!==V.closeOnBlur&&p.on(q,"focusout",function(Q){null!==Q.relatedTarget&&k()})):(Z=q.getElementsByTagName("button")[0])&&(p.on(Z,"click",function(){k(),A.focus()}),!1!==V.closeOnBlur&&p.on(Z,"blur",k),Z.focus()),k}),p.defineExtension("openConfirm",function(j,L,V){re(this,null);var q=ue(this,j,V&&V.bottom),ie=q.getElementsByTagName("button"),A=!1,k=this,N=1;function Z(){A||(A=!0,p.rmClass(q.parentNode,"dialog-opened"),q.parentNode.removeChild(q),k.focus())}ie[0].focus();for(var Q=0;Q<ie.length;++Q){var B=ie[Q];(function(se){p.on(B,"click",function(z){p.e_preventDefault(z),Z(),se&&se(k)})})(L[Q]),p.on(B,"blur",function(){--N,setTimeout(function(){N<=0&&Z()},200)}),p.on(B,"focus",function(){++N})}}),p.defineExtension("openNotification",function(j,L){re(this,k);var ie,V=ue(this,j,L&&L.bottom),q=!1,A=L&&typeof L.duration<"u"?L.duration:5e3;function k(){q||(q=!0,clearTimeout(ie),p.rmClass(V.parentNode,"dialog-opened"),V.parentNode.removeChild(V))}return p.on(V,"click",function(N){p.e_preventDefault(N),k()}),A&&(ie=setTimeout(k,A)),k})}(K(8266))},8375:(Ve,ve,K)=>{!function(p){var ue={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},re=p.Pos;function j(z,H){return"pairs"==H&&"string"==typeof z?z:"object"==typeof z&&null!=z[H]?z[H]:ue[H]}p.defineOption("autoCloseBrackets",!1,function(z,H,ne){ne&&ne!=p.Init&&(z.removeKeyMap(L),z.state.closeBrackets=null),H&&(V(j(H,"pairs")),z.state.closeBrackets=H,z.addKeyMap(L))});var L={Backspace:function A(z){var H=ie(z);if(!H||z.getOption("disableInput"))return p.Pass;for(var ne=j(H,"pairs"),X=z.listSelections(),G=0;G<X.length;G++){if(!X[G].empty())return p.Pass;var W=B(z,X[G].head);if(!W||ne.indexOf(W)%2!=0)return p.Pass}for(G=X.length-1;G>=0;G--){var te=X[G].head;z.replaceRange("",re(te.line,te.ch-1),re(te.line,te.ch+1),"+delete")}},Enter:function k(z){var H=ie(z),ne=H&&j(H,"explode");if(!ne||z.getOption("disableInput"))return p.Pass;for(var X=z.listSelections(),G=0;G<X.length;G++){if(!X[G].empty())return p.Pass;var W=B(z,X[G].head);if(!W||ne.indexOf(W)%2!=0)return p.Pass}z.operation(function(){var te=z.lineSeparator()||"\n";z.replaceSelection(te+te,null),N(z,-1),X=z.listSelections();for(var I=0;I<X.length;I++){var pe=X[I].head.line;z.indentLine(pe,null,!0),z.indentLine(pe+1,null,!0)}})}};function V(z){for(var H=0;H<z.length;H++){var ne=z.charAt(H),X="'"+ne+"'";L[X]||(L[X]=q(ne))}}function q(z){return function(H){return function Q(z,H){var ne=ie(z);if(!ne||z.getOption("disableInput"))return p.Pass;var X=j(ne,"pairs"),G=X.indexOf(H);if(-1==G)return p.Pass;for(var de,W=j(ne,"closeBefore"),te=j(ne,"triples"),I=X.charAt(G+1)==H,pe=z.listSelections(),ae=G%2==0,me=0;me<pe.length;me++){var R,F=pe[me],ee=F.head,fe=z.getRange(ee,re(ee.line,ee.ch+1));if(ae&&!F.empty())R="surround";else if(!I&&ae||fe!=H)if(I&&ee.ch>1&&te.indexOf(H)>=0&&z.getRange(re(ee.line,ee.ch-2),ee)==H+H){if(ee.ch>2&&/\bstring/.test(z.getTokenTypeAt(re(ee.line,ee.ch-2))))return p.Pass;R="addFour"}else if(I){var Ee=0==ee.ch?" ":z.getRange(re(ee.line,ee.ch-1),ee);if(p.isWordChar(fe)||Ee==H||p.isWordChar(Ee))return p.Pass;R="both"}else{if(!ae||!(0===fe.length||/\s/.test(fe)||W.indexOf(fe)>-1))return p.Pass;R="both"}else R=I&&se(z,ee)?"both":te.indexOf(H)>=0&&z.getRange(ee,re(ee.line,ee.ch+3))==H+H+H?"skipThree":"skip";if(de){if(de!=R)return p.Pass}else de=R}var be=G%2?X.charAt(G-1):H,Ze=G%2?H:X.charAt(G+1);z.operation(function(){if("skip"==de)N(z,1);else if("skipThree"==de)N(z,3);else if("surround"==de){for(var Be=z.getSelections(),ft=0;ft<Be.length;ft++)Be[ft]=be+Be[ft]+Ze;for(z.replaceSelections(Be,"around"),Be=z.listSelections().slice(),ft=0;ft<Be.length;ft++)Be[ft]=Z(Be[ft]);z.setSelections(Be)}else"both"==de?(z.replaceSelection(be+Ze,null),z.triggerElectric(be+Ze),N(z,-1)):"addFour"==de&&(z.replaceSelection(be+be+be+be,"before"),N(z,1))})}(H,z)}}function ie(z){var H=z.state.closeBrackets;return!H||H.override?H:z.getModeAt(z.getCursor()).closeBrackets||H}function N(z,H){for(var ne=[],X=z.listSelections(),G=0,W=0;W<X.length;W++){var te=X[W];te.head==z.getCursor()&&(G=W);var I=te.head.ch||H>0?{line:te.head.line,ch:te.head.ch+H}:{line:te.head.line-1};ne.push({anchor:I,head:I})}z.setSelections(ne,G)}function Z(z){var H=p.cmpPos(z.anchor,z.head)>0;return{anchor:new re(z.anchor.line,z.anchor.ch+(H?-1:1)),head:new re(z.head.line,z.head.ch+(H?1:-1))}}function B(z,H){var ne=z.getRange(re(H.line,H.ch-1),re(H.line,H.ch+1));return 2==ne.length?ne:null}function se(z,H){var ne=z.getTokenAt(re(H.line,H.ch+1));return/\bstring/.test(ne.type)&&ne.start==H.ch&&(0==H.ch||!/\bstring/.test(z.getTokenTypeAt(H)))}V(ue.pairs+"`")}(K(8266))},9088:(Ve,ve,K)=>{!function(p){var ue=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),re=p.Pos,j={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function L(N){return N&&N.bracketRegex||/[(){}[\]]/}function V(N,Z,Q){var B=N.getLineHandle(Z.line),se=Z.ch-1,z=Q&&Q.afterCursor;null==z&&(z=/(^| )cm-fat-cursor($| )/.test(N.getWrapperElement().className));var H=L(Q),ne=!z&&se>=0&&H.test(B.text.charAt(se))&&j[B.text.charAt(se)]||H.test(B.text.charAt(se+1))&&j[B.text.charAt(++se)];if(!ne)return null;var X=">"==ne.charAt(1)?1:-1;if(Q&&Q.strict&&X>0!=(se==Z.ch))return null;var G=N.getTokenTypeAt(re(Z.line,se+1)),W=q(N,re(Z.line,se+(X>0?1:0)),X,G,Q);return null==W?null:{from:re(Z.line,se),to:W&&W.pos,match:W&&W.ch==ne.charAt(0),forward:X>0}}function q(N,Z,Q,B,se){for(var z=se&&se.maxScanLineLength||1e4,H=se&&se.maxScanLines||1e3,ne=[],X=L(se),G=Q>0?Math.min(Z.line+H,N.lastLine()+1):Math.max(N.firstLine()-1,Z.line-H),W=Z.line;W!=G;W+=Q){var te=N.getLine(W);if(te){var I=Q>0?0:te.length-1,pe=Q>0?te.length:-1;if(!(te.length>z))for(W==Z.line&&(I=Z.ch-(Q<0?1:0));I!=pe;I+=Q){var ae=te.charAt(I);if(X.test(ae)&&(void 0===B||(N.getTokenTypeAt(re(W,I+1))||"")==(B||""))){var de=j[ae];if(de&&">"==de.charAt(1)==Q>0)ne.push(ae);else{if(!ne.length)return{pos:re(W,I),ch:ae};ne.pop()}}}}}return W-Q!=(Q>0?N.lastLine():N.firstLine())&&null}function ie(N,Z,Q){for(var B=N.state.matchBrackets.maxHighlightLineLength||1e3,se=Q&&Q.highlightNonMatching,z=[],H=N.listSelections(),ne=0;ne<H.length;ne++){var X=H[ne].empty()&&V(N,H[ne].head,Q);if(X&&(X.match||!1!==se)&&N.getLine(X.from.line).length<=B){var G=X.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";z.push(N.markText(X.from,re(X.from.line,X.from.ch+1),{className:G})),X.to&&N.getLine(X.to.line).length<=B&&z.push(N.markText(X.to,re(X.to.line,X.to.ch+1),{className:G}))}}if(z.length){ue&&N.state.focused&&N.focus();var W=function(){N.operation(function(){for(var te=0;te<z.length;te++)z[te].clear()})};if(!Z)return W;setTimeout(W,800)}}function A(N){N.operation(function(){N.state.matchBrackets.currentlyHighlighted&&(N.state.matchBrackets.currentlyHighlighted(),N.state.matchBrackets.currentlyHighlighted=null),N.state.matchBrackets.currentlyHighlighted=ie(N,!1,N.state.matchBrackets)})}function k(N){N.state.matchBrackets&&N.state.matchBrackets.currentlyHighlighted&&(N.state.matchBrackets.currentlyHighlighted(),N.state.matchBrackets.currentlyHighlighted=null)}p.defineOption("matchBrackets",!1,function(N,Z,Q){Q&&Q!=p.Init&&(N.off("cursorActivity",A),N.off("focus",A),N.off("blur",k),k(N)),Z&&(N.state.matchBrackets="object"==typeof Z?Z:{},N.on("cursorActivity",A),N.on("focus",A),N.on("blur",k))}),p.defineExtension("matchBrackets",function(){ie(this,!0)}),p.defineExtension("findMatchingBracket",function(N,Z,Q){return(Q||"boolean"==typeof Z)&&(Q?(Q.strict=Z,Z=Q):Z=Z?{strict:!0}:null),V(this,N,Z)}),p.defineExtension("scanForBracket",function(N,Z,Q,B){return q(this,N,Z,Q,B)})}(K(8266))},4222:(Ve,ve,K)=>{!function(p){"use strict";function ue(re){return function(j,L){var V=L.line,q=j.getLine(V);function ie(B){for(var se,z=L.ch,H=0;;){var ne=z<=0?-1:q.lastIndexOf(B[0],z-1);if(-1!=ne){if(1==H&&ne<L.ch)break;if(se=j.getTokenTypeAt(p.Pos(V,ne+1)),!/^(comment|string)/.test(se))return{ch:ne+1,tokenType:se,pair:B};z=ne-1}else{if(1==H)break;H=1,z=q.length}}}function A(B){var H,X,se=1,z=j.lastLine(),ne=B.ch;e:for(var G=V;G<=z;++G)for(var W=j.getLine(G),te=G==V?ne:0;;){var I=W.indexOf(B.pair[0],te),pe=W.indexOf(B.pair[1],te);if(I<0&&(I=W.length),pe<0&&(pe=W.length),(te=Math.min(I,pe))==W.length)break;if(j.getTokenTypeAt(p.Pos(G,te+1))==B.tokenType)if(te==I)++se;else if(!--se){H=G,X=te;break e}++te}return null==H||V==H?null:{from:p.Pos(V,ne),to:p.Pos(H,X)}}for(var k=[],N=0;N<re.length;N++){var Z=ie(re[N]);Z&&k.push(Z)}for(k.sort(function(B,se){return B.ch-se.ch}),N=0;N<k.length;N++){var Q=A(k[N]);if(Q)return Q}return null}}p.registerHelper("fold","brace",ue([["{","}"],["[","]"]])),p.registerHelper("fold","brace-paren",ue([["{","}"],["[","]"],["(",")"]])),p.registerHelper("fold","import",function(re,j){function L(N){if(N<re.firstLine()||N>re.lastLine())return null;var Z=re.getTokenAt(p.Pos(N,1));if(/\S/.test(Z.string)||(Z=re.getTokenAt(p.Pos(N,Z.end+1))),"keyword"!=Z.type||"import"!=Z.string)return null;for(var Q=N,B=Math.min(re.lastLine(),N+10);Q<=B;++Q){var z=re.getLine(Q).indexOf(";");if(-1!=z)return{startCh:Z.end,end:p.Pos(Q,z)}}}var ie,V=j.line,q=L(V);if(!q||L(V-1)||(ie=L(V-2))&&ie.end.line==V-1)return null;for(var A=q.end;;){var k=L(A.line+1);if(null==k)break;A=k.end}return{from:re.clipPos(p.Pos(V,q.startCh+1)),to:A}}),p.registerHelper("fold","include",function(re,j){function L(k){if(k<re.firstLine()||k>re.lastLine())return null;var N=re.getTokenAt(p.Pos(k,1));return/\S/.test(N.string)||(N=re.getTokenAt(p.Pos(k,N.end+1))),"meta"==N.type&&"#include"==N.string.slice(0,8)?N.start+8:void 0}var V=j.line,q=L(V);if(null==q||null!=L(V-1))return null;for(var ie=V;null!=L(ie+1);)++ie;return{from:p.Pos(V,q+1),to:re.clipPos(p.Pos(ie))}})}(K(8266))},4508:(Ve,ve,K)=>{!function(p){"use strict";p.registerGlobalHelper("fold","comment",function(ue){return ue.blockCommentStart&&ue.blockCommentEnd},function(ue,re){var j=ue.getModeAt(re),L=j.blockCommentStart,V=j.blockCommentEnd;if(L&&V){for(var A,q=re.line,ie=ue.getLine(q),k=re.ch,N=0;;){var Z=k<=0?-1:ie.lastIndexOf(L,k-1);if(-1!=Z){if(1==N&&Z<re.ch)return;if(/comment/.test(ue.getTokenTypeAt(p.Pos(q,Z+1)))&&(0==Z||ie.slice(Z-V.length,Z)==V||!/comment/.test(ue.getTokenTypeAt(p.Pos(q,Z))))){A=Z+L.length;break}k=Z-1}else{if(1==N)return;N=1,k=ie.length}}var se,z,Q=1,B=ue.lastLine();e:for(var H=q;H<=B;++H)for(var ne=ue.getLine(H),X=H==q?A:0;;){var G=ne.indexOf(L,X),W=ne.indexOf(V,X);if(G<0&&(G=ne.length),W<0&&(W=ne.length),(X=Math.min(G,W))==ne.length)break;if(X==G)++Q;else if(!--Q){se=H,z=X;break e}++X}return null==se||q==se&&z==A?void 0:{from:p.Pos(q,A),to:p.Pos(se,z)}}})}(K(8266))},6501:(Ve,ve,K)=>{!function(p){"use strict";function ue(V,q,ie,A){if(ie&&ie.call){var k=ie;ie=null}else k=L(V,ie,"rangeFinder");"number"==typeof q&&(q=p.Pos(q,0));var N=L(V,ie,"minFoldSize");function Z(z){var H=k(V,q);if(!H||H.to.line-H.from.line<N)return null;if("fold"===A)return H;for(var ne=V.findMarksAt(H.from),X=0;X<ne.length;++X)if(ne[X].__isFold){if(!z)return null;H.cleared=!0,ne[X].clear()}return H}var Q=Z(!0);if(L(V,ie,"scanUp"))for(;!Q&&q.line>V.firstLine();)q=p.Pos(q.line-1,0),Q=Z(!1);if(Q&&!Q.cleared&&"unfold"!==A){var B=function re(V,q,ie){var A=L(V,q,"widget");if("function"==typeof A&&(A=A(ie.from,ie.to)),"string"==typeof A){var k=document.createTextNode(A);(A=document.createElement("span")).appendChild(k),A.className="CodeMirror-foldmarker"}else A&&(A=A.cloneNode(!0));return A}(V,ie,Q);p.on(B,"mousedown",function(z){se.clear(),p.e_preventDefault(z)});var se=V.markText(Q.from,Q.to,{replacedWith:B,clearOnEnter:L(V,ie,"clearOnEnter"),__isFold:!0});se.on("clear",function(z,H){p.signal(V,"unfold",V,z,H)}),p.signal(V,"fold",V,Q.from,Q.to)}}p.newFoldFunction=function(V,q){return function(ie,A){ue(ie,A,{rangeFinder:V,widget:q})}},p.defineExtension("foldCode",function(V,q,ie){ue(this,V,q,ie)}),p.defineExtension("isFolded",function(V){for(var q=this.findMarksAt(V),ie=0;ie<q.length;++ie)if(q[ie].__isFold)return!0}),p.commands.toggleFold=function(V){V.foldCode(V.getCursor())},p.commands.fold=function(V){V.foldCode(V.getCursor(),null,"fold")},p.commands.unfold=function(V){V.foldCode(V.getCursor(),{scanUp:!1},"unfold")},p.commands.foldAll=function(V){V.operation(function(){for(var q=V.firstLine(),ie=V.lastLine();q<=ie;q++)V.foldCode(p.Pos(q,0),{scanUp:!1},"fold")})},p.commands.unfoldAll=function(V){V.operation(function(){for(var q=V.firstLine(),ie=V.lastLine();q<=ie;q++)V.foldCode(p.Pos(q,0),{scanUp:!1},"unfold")})},p.registerHelper("fold","combine",function(){var V=Array.prototype.slice.call(arguments,0);return function(q,ie){for(var A=0;A<V.length;++A){var k=V[A](q,ie);if(k)return k}}}),p.registerHelper("fold","auto",function(V,q){for(var ie=V.getHelpers(q,"fold"),A=0;A<ie.length;A++){var k=ie[A](V,q);if(k)return k}});var j={rangeFinder:p.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function L(V,q,ie){if(q&&void 0!==q[ie])return q[ie];var A=V.options.foldOptions;return A&&void 0!==A[ie]?A[ie]:j[ie]}p.defineOption("foldOptions",null),p.defineExtension("foldOption",function(V,q){return L(this,V,q)})}(K(8266))},3400:(Ve,ve,K)=>{!function(p){"use strict";p.defineOption("foldGutter",!1,function(B,se,z){z&&z!=p.Init&&(B.clearGutter(B.state.foldGutter.options.gutter),B.state.foldGutter=null,B.off("gutterClick",k),B.off("changes",N),B.off("viewportChange",Z),B.off("fold",Q),B.off("unfold",Q),B.off("swapDoc",N)),se&&(B.state.foldGutter=new re(function j(B){return!0===B&&(B={}),null==B.gutter&&(B.gutter="CodeMirror-foldgutter"),null==B.indicatorOpen&&(B.indicatorOpen="CodeMirror-foldgutter-open"),null==B.indicatorFolded&&(B.indicatorFolded="CodeMirror-foldgutter-folded"),B}(se)),A(B),B.on("gutterClick",k),B.on("changes",N),B.on("viewportChange",Z),B.on("fold",Q),B.on("unfold",Q),B.on("swapDoc",N))});var ue=p.Pos;function re(B){this.options=B,this.from=this.to=0}function L(B,se){for(var z=B.findMarks(ue(se,0),ue(se+1,0)),H=0;H<z.length;++H)if(z[H].__isFold){var ne=z[H].find(-1);if(ne&&ne.line===se)return z[H]}}function V(B){if("string"==typeof B){var se=document.createElement("div");return se.className=B+" CodeMirror-guttermarker-subtle",se}return B.cloneNode(!0)}function q(B,se,z){var H=B.state.foldGutter.options,ne=se-1,X=B.foldOption(H,"minFoldSize"),G=B.foldOption(H,"rangeFinder"),W="string"==typeof H.indicatorFolded&&ie(H.indicatorFolded),te="string"==typeof H.indicatorOpen&&ie(H.indicatorOpen);B.eachLine(se,z,function(I){++ne;var pe=null,ae=I.gutterMarkers;if(ae&&(ae=ae[H.gutter]),L(B,ne)){if(W&&ae&&W.test(ae.className))return;pe=V(H.indicatorFolded)}else{var de=ue(ne,0),me=G&&G(B,de);if(me&&me.to.line-me.from.line>=X){if(te&&ae&&te.test(ae.className))return;pe=V(H.indicatorOpen)}}!pe&&!ae||B.setGutterMarker(I,H.gutter,pe)})}function ie(B){return new RegExp("(^|\\s)"+B+"(?:$|\\s)\\s*")}function A(B){var se=B.getViewport(),z=B.state.foldGutter;!z||(B.operation(function(){q(B,se.from,se.to)}),z.from=se.from,z.to=se.to)}function k(B,se,z){var H=B.state.foldGutter;if(H){var ne=H.options;if(z==ne.gutter){var X=L(B,se);X?X.clear():B.foldCode(ue(se,0),ne)}}}function N(B){var se=B.state.foldGutter;if(se){var z=se.options;se.from=se.to=0,clearTimeout(se.changeUpdate),se.changeUpdate=setTimeout(function(){A(B)},z.foldOnChangeTimeSpan||600)}}function Z(B){var se=B.state.foldGutter;if(se){var z=se.options;clearTimeout(se.changeUpdate),se.changeUpdate=setTimeout(function(){var H=B.getViewport();se.from==se.to||H.from-se.to>20||se.from-H.to>20?A(B):B.operation(function(){H.from<se.from&&(q(B,H.from,se.from),se.from=H.from),H.to>se.to&&(q(B,se.to,H.to),se.to=H.to)})},z.updateViewportTimeSpan||400)}}function Q(B,se){var z=B.state.foldGutter;if(z){var H=se.line;H>=z.from&&H<z.to&&q(B,H,H+1)}}}(K(8266),K(6501))},9623:(Ve,ve,K)=>{!function(p){"use strict";function ue(re,j){var L=re.getLine(j),V=L.search(/\S/);return-1==V||/\bcomment\b/.test(re.getTokenTypeAt(p.Pos(j,V+1)))?-1:p.countColumn(L,null,re.getOption("tabSize"))}p.registerHelper("fold","indent",function(re,j){var L=ue(re,j.line);if(!(L<0)){for(var V=null,q=j.line+1,ie=re.lastLine();q<=ie;++q){var A=ue(re,q);if(-1!=A){if(!(A>L))break;V=q}}if(V)return{from:p.Pos(j.line,re.getLine(j.line).length),to:p.Pos(V,re.getLine(V).length)}}})}(K(8266))},2514:(Ve,ve,K)=>{!function(p){"use strict";function ue(re,j){function L(q){clearTimeout(V.doRedraw),V.doRedraw=setTimeout(function(){V.redraw()},q)}this.cm=re,this.options=j,this.buttonHeight=j.scrollButtonHeight||re.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=re.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var V=this;re.on("refresh",this.resizeHandler=function(){clearTimeout(V.doUpdate),V.doUpdate=setTimeout(function(){V.computeScale()&&L(20)},100)}),re.on("markerAdded",this.resizeHandler),re.on("markerCleared",this.resizeHandler),!1!==j.listenForChanges&&re.on("changes",this.changeHandler=function(){L(250)})}p.defineExtension("annotateScrollbar",function(re){return"string"==typeof re&&(re={className:re}),new ue(this,re)}),p.defineOption("scrollButtonHeight",0),ue.prototype.computeScale=function(){var re=this.cm,j=(re.getWrapperElement().clientHeight-re.display.barHeight-2*this.buttonHeight)/re.getScrollerElement().scrollHeight;if(j!=this.hScale)return this.hScale=j,!0},ue.prototype.update=function(re){this.annotations=re,this.redraw()},ue.prototype.redraw=function(re){!1!==re&&this.computeScale();var j=this.cm,L=this.hScale,V=document.createDocumentFragment(),q=this.annotations,ie=j.getOption("lineWrapping"),A=ie&&1.5*j.defaultTextHeight(),k=null,N=null;function Z(W,te){if(k!=W.line){k=W.line,N=j.getLineHandle(W.line);var I=j.getLineHandleVisualStart(N);I!=N&&(k=j.getLineNumber(I),N=I)}return N.widgets&&N.widgets.length||ie&&N.height>A?j.charCoords(W,"local")[te?"top":"bottom"]:j.heightAtLine(N,"local")+(te?0:N.height)}var Q=j.lastLine();if(j.display.barWidth)for(var se,B=0;B<q.length;B++){var z=q[B];if(!(z.to.line>Q)){for(var H=se||Z(z.from,!0)*L,ne=Z(z.to,!1)*L;B<q.length-1&&!(q[B+1].to.line>Q||(se=Z(q[B+1].from,!0)*L,se>ne+.9));)ne=Z((z=q[++B]).to,!1)*L;if(ne!=H){var X=Math.max(ne-H,3),G=V.appendChild(document.createElement("div"));G.style.cssText="position: absolute; right: 0px; width: "+Math.max(j.display.barWidth-1,2)+"px; top: "+(H+this.buttonHeight)+"px; height: "+X+"px",G.className=this.options.className,z.id&&G.setAttribute("annotation-id",z.id)}}}this.div.textContent="",this.div.appendChild(V)},ue.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("changes",this.changeHandler),this.div.parentNode.removeChild(this.div)}}(K(8266))},2185:(Ve,ve,K)=>{!function(p){"use strict";function ue(j,L){p.changeEnd(L).line==j.lastLine()&&re(j)}function re(j){var L="";j.lineCount()>1&&(L=j.display.scroller.clientHeight-30-j.getLineHandle(j.lastLine()).height+"px"),j.state.scrollPastEndPadding!=L&&(j.state.scrollPastEndPadding=L,j.display.lineSpace.parentNode.style.paddingBottom=L,j.off("refresh",re),j.setSize(),j.on("refresh",re))}p.defineOption("scrollPastEnd",!1,function(j,L,V){V&&V!=p.Init&&(j.off("change",ue),j.off("refresh",re),j.display.lineSpace.parentNode.style.paddingBottom="",j.state.scrollPastEndPadding=null),L&&(j.on("change",ue),j.on("refresh",re),re(j))})}(K(8266))},9966:(Ve,ve,K)=>{!function(p){"use strict";function ue(L,V,q){this.orientation=V,this.scroll=q,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=L+"-"+V,this.inner=this.node.appendChild(document.createElement("div"));var ie=this;function A(k){var N=p.wheelEventPixels(k)["horizontal"==ie.orientation?"x":"y"],Z=ie.pos;ie.moveTo(ie.pos+N),ie.pos!=Z&&p.e_preventDefault(k)}p.on(this.inner,"mousedown",function(k){if(1==k.which){p.e_preventDefault(k);var N="horizontal"==ie.orientation?"pageX":"pageY",Z=k[N],Q=ie.pos;p.on(document,"mousemove",se),p.on(document,"mouseup",B)}function B(){p.off(document,"mousemove",se),p.off(document,"mouseup",B)}function se(z){if(1!=z.which)return B();ie.moveTo(Q+ie.total/ie.size*(z[N]-Z))}}),p.on(this.node,"click",function(k){p.e_preventDefault(k);var N=ie.inner.getBoundingClientRect();ie.moveTo(ie.pos+("horizontal"==ie.orientation?k.clientX<N.left?-1:k.clientX>N.right?1:0:k.clientY<N.top?-1:k.clientY>N.bottom?1:0)*ie.screen)}),p.on(this.node,"mousewheel",A),p.on(this.node,"DOMMouseScroll",A)}ue.prototype.setPos=function(L,V){return L<0&&(L=0),L>this.total-this.screen&&(L=this.total-this.screen),!(!V&&L==this.pos||(this.pos=L,this.inner.style["horizontal"==this.orientation?"left":"top"]=L*(this.size/this.total)+"px",0))},ue.prototype.moveTo=function(L){this.setPos(L)&&this.scroll(L,this.orientation)};function j(L,V,q){this.addClass=L,this.horiz=new ue(L,"horizontal",q),V(this.horiz.node),this.vert=new ue(L,"vertical",q),V(this.vert.node),this.width=null}ue.prototype.update=function(L,V,q){var ie=this.screen!=V||this.total!=L||this.size!=q;ie&&(this.screen=V,this.total=L,this.size=q);var A=this.screen*(this.size/this.total);A<10&&(this.size-=10-A,A=10),this.inner.style["horizontal"==this.orientation?"width":"height"]=A+"px",this.setPos(this.pos,ie)},j.prototype.update=function(L){if(null==this.width){var V=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;V&&(this.width=parseInt(V.height))}var q=this.width||0,ie=L.scrollWidth>L.clientWidth+1,A=L.scrollHeight>L.clientHeight+1;return this.vert.node.style.display=A?"block":"none",this.horiz.node.style.display=ie?"block":"none",A&&(this.vert.update(L.scrollHeight,L.clientHeight,L.viewHeight-(ie?q:0)),this.vert.node.style.bottom=ie?q+"px":"0"),ie&&(this.horiz.update(L.scrollWidth,L.clientWidth,L.viewWidth-(A?q:0)-L.barLeft),this.horiz.node.style.right=A?q+"px":"0",this.horiz.node.style.left=L.barLeft+"px"),{right:A?q:0,bottom:ie?q:0}},j.prototype.setScrollTop=function(L){this.vert.setPos(L)},j.prototype.setScrollLeft=function(L){this.horiz.setPos(L)},j.prototype.clear=function(){var L=this.horiz.node.parentNode;L.removeChild(this.horiz.node),L.removeChild(this.vert.node)},p.scrollbarModel.simple=function(L,V){return new j("CodeMirror-simplescroll",L,V)},p.scrollbarModel.overlay=function(L,V){return new j("CodeMirror-overlayscroll",L,V)}}(K(8266))},1866:(Ve,ve,K)=>{!function(p){"use strict";function j(L,V){var q=Number(V);return/^[-+]/.test(V)?L.getCursor().line+q:q-1}p.defineOption("search",{bottom:!1}),p.commands.jumpToLine=function(L){var V=L.getCursor();!function ue(L,V,q,ie,A){L.openDialog?L.openDialog(V,A,{value:ie,selectValueOnOpen:!0,bottom:L.options.search.bottom}):A(prompt(q,ie))}(L,function re(L){return L.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+L.phrase("(Use line:column or scroll% syntax)")+"</span>"}(L),L.phrase("Jump to line:"),V.line+1+":"+V.ch,function(q){var ie;if(q)if(ie=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(q))L.setCursor(j(L,ie[1]),Number(ie[2]));else if(ie=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(q)){var A=Math.round(L.lineCount()*Number(ie[1])/100);/^[-+]/.test(ie[1])&&(A=V.line+A+1),L.setCursor(A-1,V.ch)}else(ie=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(q))&&L.setCursor(j(L,ie[1]),V.ch)})},p.keyMap.default["Alt-G"]="jumpToLine"}(K(8266),K(539))},1572:(Ve,ve,K)=>{!function(p){"use strict";var ue={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function re(Q){for(var B in this.options={},ue)this.options[B]=(Q&&Q.hasOwnProperty(B)?Q:ue)[B];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function j(Q){var B=Q.state.matchHighlighter;(B.active||Q.hasFocus())&&V(Q,B)}function L(Q){var B=Q.state.matchHighlighter;B.active||(B.active=!0,V(Q,B))}function V(Q,B){clearTimeout(B.timeout),B.timeout=setTimeout(function(){A(Q)},B.options.delay)}function q(Q,B,se,z){var H=Q.state.matchHighlighter;if(Q.addOverlay(H.overlay=function Z(Q,B,se){return{token:function(z){if(z.match(Q)&&(!B||function N(Q,B){return!(Q.start&&B.test(Q.string.charAt(Q.start-1))||Q.pos!=Q.string.length&&B.test(Q.string.charAt(Q.pos)))}(z,B)))return se;z.next(),z.skipTo(Q.charAt(0))||z.skipToEnd()}}}(B,se,z)),H.options.annotateScrollbar&&Q.showMatchesOnScrollbar){var ne=se?new RegExp((/\w/.test(B.charAt(0))?"\\b":"")+B.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+(/\w/.test(B.charAt(B.length-1))?"\\b":"")):B;H.matchesonscroll=Q.showMatchesOnScrollbar(ne,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function ie(Q){var B=Q.state.matchHighlighter;B.overlay&&(Q.removeOverlay(B.overlay),B.overlay=null,B.matchesonscroll&&(B.matchesonscroll.clear(),B.matchesonscroll=null))}function A(Q){Q.operation(function(){var B=Q.state.matchHighlighter;if(ie(Q),Q.somethingSelected()||!B.options.showToken){var G=Q.getCursor("from"),W=Q.getCursor("to");if(G.line==W.line&&(!B.options.wordsOnly||function k(Q,B,se){return!(null===Q.getRange(B,se).match(/^\w+$/)||B.ch>0&&null===Q.getRange({line:B.line,ch:B.ch-1},B).match(/\W/)||se.ch<Q.getLine(B.line).length&&null===Q.getRange(se,{line:se.line,ch:se.ch+1}).match(/\W/))}(Q,G,W))){var te=Q.getRange(G,W);B.options.trim&&(te=te.replace(/^\s+|\s+$/g,"")),te.length>=B.options.minChars&&q(Q,te,!1,B.options.style)}}else{for(var se=!0===B.options.showToken?/[\w$]/:B.options.showToken,z=Q.getCursor(),H=Q.getLine(z.line),ne=z.ch,X=ne;ne&&se.test(H.charAt(ne-1));)--ne;for(;X<H.length&&se.test(H.charAt(X));)++X;ne<X&&q(Q,H.slice(ne,X),se,B.options.style)}})}p.defineOption("highlightSelectionMatches",!1,function(Q,B,se){if(se&&se!=p.Init&&(ie(Q),clearTimeout(Q.state.matchHighlighter.timeout),Q.state.matchHighlighter=null,Q.off("cursorActivity",j),Q.off("focus",L)),B){var z=Q.state.matchHighlighter=new re(B);Q.hasFocus()?(z.active=!0,A(Q)):Q.on("focus",L),Q.on("cursorActivity",j)}})}(K(8266),K(2807))},2807:(Ve,ve,K)=>{!function(p){"use strict";function ue(L,V,q,ie){this.cm=L,this.options=ie;var A={listenForChanges:!1};for(var k in ie)A[k]=ie[k];A.className||(A.className="CodeMirror-search-match"),this.annotation=L.annotateScrollbar(A),this.query=V,this.caseFold=q,this.gap={from:L.firstLine(),to:L.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var N=this;L.on("change",this.changeHandler=function(Z,Q){N.onChange(Q)})}p.defineExtension("showMatchesOnScrollbar",function(L,V,q){return"string"==typeof q&&(q={className:q}),q||(q={}),new ue(this,L,V,q)});function j(L,V,q){return L<=V?L:Math.max(V,L+q)}ue.prototype.findMatches=function(){if(this.gap){for(var L=0;L<this.matches.length&&!((V=this.matches[L]).from.line>=this.gap.to);L++)V.to.line>=this.gap.from&&this.matches.splice(L--,1);for(var q=this.cm.getSearchCursor(this.query,p.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline}),ie=this.options&&this.options.maxMatches||1e3;q.findNext();){var V;if((V={from:q.from(),to:q.to()}).from.line>=this.gap.to||(this.matches.splice(L++,0,V),this.matches.length>ie))break}this.gap=null}},ue.prototype.onChange=function(L){var V=L.from.line,q=p.changeEnd(L).line,ie=q-L.to.line;if(this.gap?(this.gap.from=Math.min(j(this.gap.from,V,ie),L.from.line),this.gap.to=Math.max(j(this.gap.to,V,ie),L.from.line)):this.gap={from:L.from.line,to:q+1},ie)for(var A=0;A<this.matches.length;A++){var k=this.matches[A],N=j(k.from.line,V,ie);N!=k.from.line&&(k.from=p.Pos(N,k.from.ch));var Z=j(k.to.line,V,ie);Z!=k.to.line&&(k.to=p.Pos(Z,k.to.ch))}clearTimeout(this.update);var Q=this;this.update=setTimeout(function(){Q.updateAfterChange()},250)},ue.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},ue.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}(K(8266),K(6653),K(2514))},6095:(Ve,ve,K)=>{!function(p){"use strict";function re(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function j(I){return I.state.search||(I.state.search=new re)}function L(I){return"string"==typeof I&&I==I.toLowerCase()}function V(I,pe,ae){return I.getSearchCursor(pe,ae,{caseFold:L(pe),multiline:!0})}function ie(I,pe,ae,de,me){I.openDialog?I.openDialog(pe,me,{value:de,selectValueOnOpen:!0,bottom:I.options.search.bottom}):me(prompt(ae,de))}function k(I){return I.replace(/\\([nrt\\])/g,function(pe,ae){return"n"==ae?"\n":"r"==ae?"\r":"t"==ae?"\t":"\\"==ae?"\\":pe})}function N(I){var pe=I.match(/^\/(.*)\/([a-z]*)$/);if(pe)try{I=new RegExp(pe[1],-1==pe[2].indexOf("i")?"":"i")}catch{}else I=k(I);return("string"==typeof I?""==I:I.test(""))&&(I=/x^/),I}function Z(I,pe,ae){pe.queryText=ae,pe.query=N(ae),I.removeOverlay(pe.overlay,L(pe.query)),pe.overlay=function ue(I,pe){return"string"==typeof I?I=new RegExp(I.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),pe?"gi":"g"):I.global||(I=new RegExp(I.source,I.ignoreCase?"gi":"g")),{token:function(ae){I.lastIndex=ae.pos;var de=I.exec(ae.string);if(de&&de.index==ae.pos)return ae.pos+=de[0].length||1,"searching";de?ae.pos=de.index:ae.skipToEnd()}}}(pe.query,L(pe.query)),I.addOverlay(pe.overlay),I.showMatchesOnScrollbar&&(pe.annotate&&(pe.annotate.clear(),pe.annotate=null),pe.annotate=I.showMatchesOnScrollbar(pe.query,L(pe.query)))}function Q(I,pe,ae,de){var me=j(I);if(me.query)return B(I,pe);var F=I.getSelection()||me.lastQuery;if(F instanceof RegExp&&"x^"==F.source&&(F=null),ae&&I.openDialog){var ee=null,R=function(fe,Ee){p.e_stop(Ee),fe&&(fe!=me.queryText&&(Z(I,me,fe),me.posFrom=me.posTo=I.getCursor()),ee&&(ee.style.opacity=1),B(I,Ee.shiftKey,function(be,Ze){var Be;Ze.line<3&&document.querySelector&&(Be=I.display.wrapper.querySelector(".CodeMirror-dialog"))&&Be.getBoundingClientRect().bottom-4>I.cursorCoords(Ze,"window").top&&((ee=Be).style.opacity=.4)}))};(function q(I,pe,ae,de,me){I.openDialog(pe,de,{value:ae,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){se(I)},onKeyDown:me,bottom:I.options.search.bottom})})(I,H(I),F,R,function(fe,Ee){var be=p.keyName(fe),Ze=I.getOption("extraKeys"),Be=Ze&&Ze[be]||p.keyMap[I.getOption("keyMap")][be];"findNext"==Be||"findPrev"==Be||"findPersistentNext"==Be||"findPersistentPrev"==Be?(p.e_stop(fe),Z(I,j(I),Ee),I.execCommand(Be)):("find"==Be||"findPersistent"==Be)&&(p.e_stop(fe),R(Ee,fe))}),de&&F&&(Z(I,me,F),B(I,pe))}else ie(I,H(I),"Search for:",F,function(fe){fe&&!me.query&&I.operation(function(){Z(I,me,fe),me.posFrom=me.posTo=I.getCursor(),B(I,pe)})})}function B(I,pe,ae){I.operation(function(){var de=j(I),me=V(I,de.query,pe?de.posFrom:de.posTo);!me.find(pe)&&!(me=V(I,de.query,pe?p.Pos(I.lastLine()):p.Pos(I.firstLine(),0))).find(pe)||(I.setSelection(me.from(),me.to()),I.scrollIntoView({from:me.from(),to:me.to()},20),de.posFrom=me.from(),de.posTo=me.to(),ae&&ae(me.from(),me.to()))})}function se(I){I.operation(function(){var pe=j(I);pe.lastQuery=pe.query,pe.query&&(pe.query=pe.queryText=null,I.removeOverlay(pe.overlay),pe.annotate&&(pe.annotate.clear(),pe.annotate=null))})}function z(I,pe){var ae=I?document.createElement(I):document.createDocumentFragment();for(var de in pe)ae[de]=pe[de];for(var me=2;me<arguments.length;me++){var F=arguments[me];ae.appendChild("string"==typeof F?document.createTextNode(F):F)}return ae}function H(I){var pe=z("label",{className:"CodeMirror-search-label"},I.phrase("Search:"),z("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field",id:"CodeMirror-search-field"}));return pe.setAttribute("for","CodeMirror-search-field"),z("",null,pe," ",z("span",{style:"color: #666",className:"CodeMirror-search-hint"},I.phrase("(Use /re/ syntax for regexp search)")))}function W(I,pe,ae){I.operation(function(){for(var de=V(I,pe);de.findNext();)if("string"!=typeof pe){var me=I.getRange(de.from(),de.to()).match(pe);de.replace(ae.replace(/\$(\d)/g,function(F,ee){return me[ee]}))}else de.replace(ae)})}function te(I,pe){if(!I.getOption("readOnly")){var ae=I.getSelection()||j(I).lastQuery,de=I.phrase(pe?"Replace all:":"Replace:"),me=z("",null,z("span",{className:"CodeMirror-search-label"},de),function ne(I){return z("",null," ",z("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"})," ",z("span",{style:"color: #666",className:"CodeMirror-search-hint"},I.phrase("(Use /re/ syntax for regexp search)")))}(I));ie(I,me,de,ae,function(F){!F||(F=N(F),ie(I,function X(I){return z("",null,z("span",{className:"CodeMirror-search-label"},I.phrase("With:"))," ",z("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"}))}(I),I.phrase("Replace with:"),"",function(ee){if(ee=k(ee),pe)W(I,F,ee);else{se(I);var R=V(I,F,I.getCursor("from")),fe=function(){var Ze,be=R.from();!(Ze=R.findNext())&&(R=V(I,F),!(Ze=R.findNext())||be&&R.from().line==be.line&&R.from().ch==be.ch)||(I.setSelection(R.from(),R.to()),I.scrollIntoView({from:R.from(),to:R.to()}),function A(I,pe,ae,de){I.openConfirm?I.openConfirm(pe,de):confirm(ae)&&de[0]()}(I,function G(I){return z("",null,z("span",{className:"CodeMirror-search-label"},I.phrase("Replace?"))," ",z("button",{},I.phrase("Yes"))," ",z("button",{},I.phrase("No"))," ",z("button",{},I.phrase("All"))," ",z("button",{},I.phrase("Stop")))}(I),I.phrase("Replace?"),[function(){Ee(Ze)},fe,function(){W(I,F,ee)}]))},Ee=function(be){R.replace("string"==typeof F?ee:ee.replace(/\$(\d)/g,function(Ze,Be){return be[Be]})),fe()};fe()}}))})}}p.defineOption("search",{bottom:!1}),p.commands.find=function(I){se(I),Q(I)},p.commands.findPersistent=function(I){se(I),Q(I,!1,!0)},p.commands.findPersistentNext=function(I){Q(I,!1,!0,!0)},p.commands.findPersistentPrev=function(I){Q(I,!0,!0,!0)},p.commands.findNext=Q,p.commands.findPrev=function(I){Q(I,!0)},p.commands.clearSearch=se,p.commands.replace=te,p.commands.replaceAll=function(I){te(I,!0)}}(K(8266),K(6653),K(539))},6653:(Ve,ve,K)=>{!function(p){"use strict";var N,Z,ue=p.Pos;function j(H,ne){for(var X=function re(H){return H.flags??(H.ignoreCase?"i":"")+(H.global?"g":"")+(H.multiline?"m":"")}(H),G=X,W=0;W<ne.length;W++)-1==G.indexOf(ne.charAt(W))&&(G+=ne.charAt(W));return X==G?H:new RegExp(H.source,G)}function L(H){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(H.source)}function V(H,ne,X){ne=j(ne,"g");for(var G=X.line,W=X.ch,te=H.lastLine();G<=te;G++,W=0){ne.lastIndex=W;var I=H.getLine(G),pe=ne.exec(I);if(pe)return{from:ue(G,pe.index),to:ue(G,pe.index+pe[0].length),match:pe}}}function q(H,ne,X){if(!L(ne))return V(H,ne,X);ne=j(ne,"gm");for(var G,W=1,te=X.line,I=H.lastLine();te<=I;){for(var pe=0;pe<W&&!(te>I);pe++){var ae=H.getLine(te++);G=null==G?ae:G+"\n"+ae}W*=2,ne.lastIndex=X.ch;var de=ne.exec(G);if(de){var me=G.slice(0,de.index).split("\n"),F=de[0].split("\n"),ee=X.line+me.length-1,R=me[me.length-1].length;return{from:ue(ee,R),to:ue(ee+F.length-1,1==F.length?R+F[0].length:F[F.length-1].length),match:de}}}}function ie(H,ne,X){for(var G,W=0;W<=H.length;){ne.lastIndex=W;var te=ne.exec(H);if(!te)break;var I=te.index+te[0].length;if(I>H.length-X)break;(!G||I>G.index+G[0].length)&&(G=te),W=te.index+1}return G}function A(H,ne,X){ne=j(ne,"g");for(var G=X.line,W=X.ch,te=H.firstLine();G>=te;G--,W=-1){var I=H.getLine(G),pe=ie(I,ne,W<0?0:I.length-W);if(pe)return{from:ue(G,pe.index),to:ue(G,pe.index+pe[0].length),match:pe}}}function k(H,ne,X){if(!L(ne))return A(H,ne,X);ne=j(ne,"gm");for(var G,W=1,te=H.getLine(X.line).length-X.ch,I=X.line,pe=H.firstLine();I>=pe;){for(var ae=0;ae<W&&I>=pe;ae++){var de=H.getLine(I--);G=null==G?de:de+"\n"+G}W*=2;var me=ie(G,ne,te);if(me){var F=G.slice(0,me.index).split("\n"),ee=me[0].split("\n"),R=I+F.length,fe=F[F.length-1].length;return{from:ue(R,fe),to:ue(R+ee.length-1,1==ee.length?fe+ee[0].length:ee[ee.length-1].length),match:me}}}}function Q(H,ne,X,G){if(H.length==ne.length)return X;for(var W=0,te=X+Math.max(0,H.length-ne.length);;){if(W==te)return W;var I=W+te>>1,pe=G(H.slice(0,I)).length;if(pe==X)return I;pe>X?te=I:W=I+1}}function B(H,ne,X,G){if(!ne.length)return null;var W=G?N:Z,te=W(ne).split(/\r|\n\r?/);e:for(var I=X.line,pe=X.ch,ae=H.lastLine()+1-te.length;I<=ae;I++,pe=0){var de=H.getLine(I).slice(pe),me=W(de);if(1==te.length){var F=me.indexOf(te[0]);if(-1==F)continue e;return X=Q(de,me,F,W)+pe,{from:ue(I,Q(de,me,F,W)+pe),to:ue(I,Q(de,me,F+te[0].length,W)+pe)}}var ee=me.length-te[0].length;if(me.slice(ee)==te[0]){for(var R=1;R<te.length-1;R++)if(W(H.getLine(I+R))!=te[R])continue e;var fe=H.getLine(I+te.length-1),Ee=W(fe),be=te[te.length-1];if(Ee.slice(0,be.length)==be)return{from:ue(I,Q(de,me,ee,W)+pe),to:ue(I+te.length-1,Q(fe,Ee,be.length,W))}}}}function se(H,ne,X,G){if(!ne.length)return null;var W=G?N:Z,te=W(ne).split(/\r|\n\r?/);e:for(var I=X.line,pe=X.ch,ae=H.firstLine()-1+te.length;I>=ae;I--,pe=-1){var de=H.getLine(I);pe>-1&&(de=de.slice(0,pe));var me=W(de);if(1==te.length){var F=me.lastIndexOf(te[0]);if(-1==F)continue e;return{from:ue(I,Q(de,me,F,W)),to:ue(I,Q(de,me,F+te[0].length,W))}}var ee=te[te.length-1];if(me.slice(0,ee.length)==ee){var R=1;for(X=I-te.length+1;R<te.length-1;R++)if(W(H.getLine(X+R))!=te[R])continue e;var fe=H.getLine(I+1-te.length),Ee=W(fe);if(Ee.slice(Ee.length-te[0].length)==te[0])return{from:ue(I+1-te.length,Q(fe,Ee,fe.length-te[0].length,W)),to:ue(I,Q(de,me,ee.length,W))}}}}function z(H,ne,X,G){var W;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=H,X=X?H.clipPos(X):ue(0,0),this.pos={from:X,to:X},"object"==typeof G?W=G.caseFold:(W=G,G=null),"string"==typeof ne?(null==W&&(W=!1),this.matches=function(te,I){return(te?se:B)(H,ne,I,W)}):(ne=j(ne,"gm"),this.matches=G&&!1===G.multiline?function(te,I){return(te?A:V)(H,ne,I)}:function(te,I){return(te?k:q)(H,ne,I)})}String.prototype.normalize?(N=function(H){return H.normalize("NFD").toLowerCase()},Z=function(H){return H.normalize("NFD")}):(N=function(H){return H.toLowerCase()},Z=function(H){return H}),z.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(H){var ne=this.doc.clipPos(H?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(ne=ue(ne.line,ne.ch),H?(ne.ch--,ne.ch<0&&(ne.line--,ne.ch=(this.doc.getLine(ne.line)||"").length)):(ne.ch++,ne.ch>(this.doc.getLine(ne.line)||"").length&&(ne.ch=0,ne.line++)),0!=p.cmpPos(ne,this.doc.clipPos(ne))))return this.atOccurrence=!1;var X=this.matches(H,ne);if(this.afterEmptyMatch=X&&0==p.cmpPos(X.from,X.to),X)return this.pos=X,this.atOccurrence=!0,this.pos.match||!0;var G=ue(H?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:G,to:G},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(H,ne){if(this.atOccurrence){var X=p.splitLines(H);this.doc.replaceRange(X,this.pos.from,this.pos.to,ne),this.pos.to=ue(this.pos.from.line+X.length-1,X[X.length-1].length+(1==X.length?this.pos.from.ch:0))}}},p.defineExtension("getSearchCursor",function(H,ne,X){return new z(this.doc,H,ne,X)}),p.defineDocExtension("getSearchCursor",function(H,ne,X){return new z(this,H,ne,X)}),p.defineExtension("selectMatches",function(H,ne){for(var X=[],G=this.getSearchCursor(H,this.getCursor("from"),ne);G.findNext()&&!(p.cmpPos(G.to(),this.getCursor("to"))>0);)X.push({anchor:G.from(),head:G.to()});X.length&&this.setSelections(X,0)})}(K(8266))},1812:(Ve,ve,K)=>{!function(p){"use strict";var ue="CodeMirror-activeline",re="CodeMirror-activeline-background",j="CodeMirror-activeline-gutter";function L(A){for(var k=0;k<A.state.activeLines.length;k++)A.removeLineClass(A.state.activeLines[k],"wrap",ue),A.removeLineClass(A.state.activeLines[k],"background",re),A.removeLineClass(A.state.activeLines[k],"gutter",j)}function q(A,k){for(var N=[],Z=0;Z<k.length;Z++){var Q=k[Z],B=A.getOption("styleActiveLine");if(!("object"==typeof B&&B.nonEmpty?Q.anchor.line!=Q.head.line:!Q.empty())){var se=A.getLineHandleVisualStart(Q.head.line);N[N.length-1]!=se&&N.push(se)}}(function V(A,k){if(A.length!=k.length)return!1;for(var N=0;N<A.length;N++)if(A[N]!=k[N])return!1;return!0})(A.state.activeLines,N)||A.operation(function(){L(A);for(var z=0;z<N.length;z++)A.addLineClass(N[z],"wrap",ue),A.addLineClass(N[z],"background",re),A.addLineClass(N[z],"gutter",j);A.state.activeLines=N})}function ie(A,k){q(A,k.ranges)}p.defineOption("styleActiveLine",!1,function(A,k,N){var Z=N!=p.Init&&N;k!=Z&&(Z&&(A.off("beforeSelectionChange",ie),L(A),delete A.state.activeLines),k&&(A.state.activeLines=[],q(A,A.listSelections()),A.on("beforeSelectionChange",ie)))})}(K(8266))},8266:function(Ve){Ve.exports=function(){"use strict";var ve=navigator.userAgent,K=navigator.platform,p=/gecko\/\d/i.test(ve),ue=/MSIE \d/.test(ve),re=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ve),j=/Edge\/(\d+)/.exec(ve),L=ue||re||j,V=L&&(ue?document.documentMode||6:+(j||re)[1]),q=!j&&/WebKit\//.test(ve),ie=q&&/Qt\/\d+\.\d+/.test(ve),A=!j&&/Chrome\/(\d+)/.exec(ve),k=A&&+A[1],N=/Opera\//.test(ve),Z=/Apple Computer/.test(navigator.vendor),Q=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ve),B=/PhantomJS/.test(ve),se=Z&&(/Mobile\/\w+/.test(ve)||navigator.maxTouchPoints>2),z=/Android/.test(ve),H=se||z||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ve),ne=se||/Mac/.test(K),X=/\bCrOS\b/.test(ve),G=/win/i.test(K),W=N&&ve.match(/Version\/(\d*\.\d*)/);W&&(W=Number(W[1])),W&&W>=15&&(N=!1,q=!0);var te=ne&&(ie||N&&(null==W||W<12.11)),I=p||L&&V>=9;function pe(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}var R,ae=function(n,o){var f=n.className,c=pe(o).exec(f);if(c){var h=f.slice(c.index+c[0].length);n.className=f.slice(0,c.index)+(h?c[1]+h:"")}};function de(n){for(var o=n.childNodes.length;o>0;--o)n.removeChild(n.firstChild);return n}function me(n,o){return de(n).appendChild(o)}function F(n,o,f,c){var h=document.createElement(n);if(f&&(h.className=f),c&&(h.style.cssText=c),"string"==typeof o)h.appendChild(document.createTextNode(o));else if(o)for(var y=0;y<o.length;++y)h.appendChild(o[y]);return h}function ee(n,o,f,c){var h=F(n,o,f,c);return h.setAttribute("role","presentation"),h}function fe(n,o){if(3==o.nodeType&&(o=o.parentNode),n.contains)return n.contains(o);do{if(11==o.nodeType&&(o=o.host),o==n)return!0}while(o=o.parentNode)}function Ee(n){var o;try{o=n.activeElement}catch{o=n.body||null}for(;o&&o.shadowRoot&&o.shadowRoot.activeElement;)o=o.shadowRoot.activeElement;return o}function be(n,o){var f=n.className;pe(o).test(f)||(n.className+=(f?" ":"")+o)}function Ze(n,o){for(var f=n.split(" "),c=0;c<f.length;c++)f[c]&&!pe(f[c]).test(o)&&(o+=" "+f[c]);return o}R=document.createRange?function(n,o,f,c){var h=document.createRange();return h.setEnd(c||n,f),h.setStart(n,o),h}:function(n,o,f){var c=document.body.createTextRange();try{c.moveToElementText(n.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",f),c.moveStart("character",o),c};var Be=function(n){n.select()};function ft(n){return n.display.wrapper.ownerDocument}function rt(n){return ft(n).defaultView}function It(n){var o=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,o)}}function nn(n,o,f){for(var c in o||(o={}),n)n.hasOwnProperty(c)&&(!1!==f||!o.hasOwnProperty(c))&&(o[c]=n[c]);return o}function ht(n,o,f,c,h){null==o&&-1==(o=n.search(/[^\s\u00a0]/))&&(o=n.length);for(var y=c||0,C=h||0;;){var b=n.indexOf("\t",y);if(b<0||b>=o)return C+(o-y);C+=b-y,C+=f-C%f,y=b+1}}se?Be=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:L&&(Be=function(n){try{n.select()}catch{}});var Qe=function(){this.id=null,this.f=null,this.time=0,this.handler=It(this.onTimeout,this)};function ze(n,o){for(var f=0;f<n.length;++f)if(n[f]==o)return f;return-1}Qe.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},Qe.prototype.set=function(n,o){this.f=o;var f=+new Date+n;(!this.id||f<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=f)};var St={toString:function(){return"CodeMirror.Pass"}},wt={scroll:!1},Ht={origin:"*mouse"},Ln={origin:"+move"};function es(n,o,f){for(var c=0,h=0;;){var y=n.indexOf("\t",c);-1==y&&(y=n.length);var C=y-c;if(y==n.length||h+C>=o)return c+Math.min(C,o-h);if(h+=y-c,c=y+1,(h+=f-h%f)>=o)return c}}var rn=[""];function ni(n){for(;rn.length<=n;)rn.push(mt(rn)+" ");return rn[n]}function mt(n){return n[n.length-1]}function ir(n,o){for(var f=[],c=0;c<n.length;c++)f[c]=o(n[c],c);return f}function zn(){}function So(n,o){var f;return Object.create?f=Object.create(n):(zn.prototype=n,f=new zn),o&&nn(o,f),f}var Ba=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ts(n){return/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Ba.test(n))}function _i(n,o){return o?!!(o.source.indexOf("\\w")>-1&&ts(n))||o.test(n):ts(n)}function ns(n){for(var o in n)if(n.hasOwnProperty(o)&&n[o])return!1;return!0}var Ki=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function $s(n){return n.charCodeAt(0)>=768&&Ki.test(n)}function je(n,o,f){for(;(f<0?o>0:o<n.length)&&$s(n.charAt(o));)o+=f;return o}function Je(n,o,f){for(var c=o>f?-1:1;;){if(o==f)return o;var h=(o+f)/2,y=c<0?Math.ceil(h):Math.floor(h);if(y==o)return n(y)?o:f;n(y)?f=y:o=y+c}}var Tt=null;function Zn(n,o,f){var c;Tt=null;for(var h=0;h<n.length;++h){var y=n[h];if(y.from<o&&y.to>o)return h;y.to==o&&(y.from!=y.to&&"before"==f?c=h:Tt=h),y.from==o&&(y.from!=y.to&&"before"!=f?c=h:Tt=h)}return c??Tt}var vr=function(){function f(T){return T<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(T):1424<=T&&T<=1524?"R":1536<=T&&T<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(T-1536):1774<=T&&T<=2220?"r":8192<=T&&T<=8203?"w":8204==T?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,h=/[stwN]/,y=/[LRr]/,C=/[Lb1n]/,b=/[1n]/;function S(T,$,J){this.level=T,this.from=$,this.to=J}return function(T,$){var J="ltr"==$?"L":"R";if(0==T.length||"ltr"==$&&!c.test(T))return!1;for(var he=T.length,ce=[],ye=0;ye<he;++ye)ce.push(f(T.charCodeAt(ye)));for(var De=0,Me=J;De<he;++De){var ke=ce[De];"m"==ke?ce[De]=Me:Me=ke}for(var Ne=0,Le=J;Ne<he;++Ne){var He=ce[Ne];"1"==He&&"r"==Le?ce[Ne]="n":y.test(He)&&(Le=He,"r"==He&&(ce[Ne]="R"))}for(var Xe=1,Ye=ce[0];Xe<he-1;++Xe){var yt=ce[Xe];"+"==yt&&"1"==Ye&&"1"==ce[Xe+1]?ce[Xe]="1":","==yt&&Ye==ce[Xe+1]&&("1"==Ye||"n"==Ye)&&(ce[Xe]=Ye),Ye=yt}for(var Pt=0;Pt<he;++Pt){var jt=ce[Pt];if(","==jt)ce[Pt]="N";else if("%"==jt){var Vt=void 0;for(Vt=Pt+1;Vt<he&&"%"==ce[Vt];++Vt);for(var xr=Pt&&"!"==ce[Pt-1]||Vt<he&&"1"==ce[Vt]?"1":"N",Un=Pt;Un<Vt;++Un)ce[Un]=xr;Pt=Vt-1}}for(var Zt=0,On=J;Zt<he;++Zt){var jn=ce[Zt];"L"==On&&"1"==jn?ce[Zt]="L":y.test(jn)&&(On=jn)}for(var Mn=0;Mn<he;++Mn)if(h.test(ce[Mn])){var yn=void 0;for(yn=Mn+1;yn<he&&h.test(ce[yn]);++yn);for(var tn="L"==(Mn?ce[Mn-1]:J),mo=tn==("L"==(yn<he?ce[yn]:J))?tn?"L":"R":J,yo=Mn;yo<yn;++yo)ce[yo]=mo;Mn=yn-1}for(var Tr,Fn=[],Kt=0;Kt<he;)if(C.test(ce[Kt])){var _o=Kt;for(++Kt;Kt<he&&C.test(ce[Kt]);++Kt);Fn.push(new S(0,_o,Kt))}else{var Jr=Kt,ei=Fn.length,Go="rtl"==$?1:0;for(++Kt;Kt<he&&"L"!=ce[Kt];++Kt);for(var Yn=Jr;Yn<Kt;)if(b.test(ce[Yn])){Jr<Yn&&(Fn.splice(ei,0,new S(1,Jr,Yn)),ei+=Go);var Fs=Yn;for(++Yn;Yn<Kt&&b.test(ce[Yn]);++Yn);Fn.splice(ei,0,new S(2,Fs,Yn)),ei+=Go,Jr=Yn}else++Yn;Jr<Kt&&Fn.splice(ei,0,new S(1,Jr,Kt))}return"ltr"==$&&(1==Fn[0].level&&(Tr=T.match(/^\s+/))&&(Fn[0].from=Tr[0].length,Fn.unshift(new S(0,0,Tr[0].length))),1==mt(Fn).level&&(Tr=T.match(/\s+$/))&&(mt(Fn).to-=Tr[0].length,Fn.push(new S(0,he-Tr[0].length,he)))),"rtl"==$?Fn.reverse():Fn}}();function Ut(n,o){var f=n.order;return null==f&&(f=n.order=vr(n.text,o)),f}var Yt=[],et=function(n,o,f){if(n.addEventListener)n.addEventListener(o,f,!1);else if(n.attachEvent)n.attachEvent("on"+o,f);else{var c=n._handlers||(n._handlers={});c[o]=(c[o]||Yt).concat(f)}};function Qt(n,o){return n._handlers&&n._handlers[o]||Yt}function it(n,o,f){if(n.removeEventListener)n.removeEventListener(o,f,!1);else if(n.detachEvent)n.detachEvent("on"+o,f);else{var c=n._handlers,h=c&&c[o];if(h){var y=ze(h,f);y>-1&&(c[o]=h.slice(0,y).concat(h.slice(y+1)))}}}function Ge(n,o){var f=Qt(n,o);if(f.length)for(var c=Array.prototype.slice.call(arguments,2),h=0;h<f.length;++h)f[h].apply(null,c)}function on(n,o,f){return"string"==typeof o&&(o={type:o,preventDefault:function(){this.defaultPrevented=!0}}),Ge(n,f||o.type,n,o),Ci(o)||o.codemirrorIgnore}function ri(n){var o=n._handlers&&n._handlers.cursorActivity;if(o)for(var f=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),c=0;c<o.length;++c)-1==ze(f,o[c])&&f.push(o[c])}function un(n,o){return Qt(n,o).length>0}function _t(n){n.prototype.on=function(o,f){et(this,o,f)},n.prototype.off=function(o,f){it(this,o,f)}}function sn(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function Kn(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function Ci(n){return null!=n.defaultPrevented?n.defaultPrevented:0==n.returnValue}function or(n){sn(n),Kn(n)}function Qn(n){return n.target||n.srcElement}function ii(n){var o=n.which;return null==o&&(1&n.button?o=1:2&n.button?o=3:4&n.button&&(o=2)),ne&&n.ctrlKey&&1==o&&(o=3),o}var Qi,mr,sr=function(){if(L&&V<9)return!1;var n=F("div");return"draggable"in n||"dragDrop"in n}();function Rl(n){if(null==Qi){var o=F("span","\u200b");me(n,F("span",[o,document.createTextNode("x")])),0!=n.firstChild.offsetHeight&&(Qi=o.offsetWidth<=1&&o.offsetHeight>2&&!(L&&V<8))}var f=Qi?F("span","\u200b"):F("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return f.setAttribute("cm-text",""),f}function Ha(n){if(null!=mr)return mr;var o=me(n,document.createTextNode("A\u062eA")),f=R(o,0,1).getBoundingClientRect(),c=R(o,1,2).getBoundingClientRect();return de(n),!(!f||f.left==f.right)&&(mr=c.right-f.right<3)}var n,wi=3!="\n\nb".split(/\n/).length?function(n){for(var o=0,f=[],c=n.length;o<=c;){var h=n.indexOf("\n",o);-1==h&&(h=n.length);var y=n.slice(o,"\r"==n.charAt(h-1)?h-1:h),C=y.indexOf("\r");-1!=C?(f.push(y.slice(0,C)),o+=C+1):(f.push(y),o=h+1)}return f}:function(n){return n.split(/\r\n?|\n/)},Ua=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){var o;try{o=n.ownerDocument.selection.createRange()}catch{}return!(!o||o.parentElement()!=n)&&0!=o.compareEndPoints("StartToEnd",o)},Gs="oncopy"in(n=F("div"))||(n.setAttribute("oncopy","return;"),"function"==typeof n.oncopy),ar=null;var bt={},Xt={};function $t(n,o){arguments.length>2&&(o.dependencies=Array.prototype.slice.call(arguments,2)),bt[n]=o}function wn(n){if("string"==typeof n&&Xt.hasOwnProperty(n))n=Xt[n];else if(n&&"string"==typeof n.name&&Xt.hasOwnProperty(n.name)){var o=Xt[n.name];"string"==typeof o&&(o={name:o}),(n=So(o,n)).name=o.name}else{if("string"==typeof n&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return wn("application/xml");if("string"==typeof n&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return wn("application/json")}return"string"==typeof n?{name:n}:n||{name:"null"}}function cn(n,o){o=wn(o);var f=bt[o.name];if(!f)return cn(n,"text/plain");var c=f(n,o);if(Fe.hasOwnProperty(o.name)){var h=Fe[o.name];for(var y in h)!h.hasOwnProperty(y)||(c.hasOwnProperty(y)&&(c["_"+y]=c[y]),c[y]=h[y])}if(c.name=o.name,o.helperType&&(c.helperType=o.helperType),o.modeProps)for(var C in o.modeProps)c[C]=o.modeProps[C];return c}var Fe={};function lt(n,o){nn(o,Fe.hasOwnProperty(n)?Fe[n]:Fe[n]={})}function Ot(n,o){if(!0===o)return o;if(n.copyState)return n.copyState(o);var f={};for(var c in o){var h=o[c];h instanceof Array&&(h=h.concat([])),f[c]=h}return f}function hn(n,o){for(var f;n.innerMode&&(f=n.innerMode(o))&&f.mode!=n;)o=f.state,n=f.mode;return f||{mode:n,state:o}}function oi(n,o,f){return!n.startState||n.startState(o,f)}var gt=function(n,o,f){this.pos=this.start=0,this.string=n,this.tabSize=o||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=f};function $e(n,o){if((o-=n.first)<0||o>=n.size)throw new Error("There is no line "+(o+n.first)+" in the document.");for(var f=n;!f.lines;)for(var c=0;;++c){var h=f.children[c],y=h.chunkSize();if(o<y){f=h;break}o-=y}return f.lines[o]}function Ft(n,o,f){var c=[],h=o.line;return n.iter(o.line,f.line+1,function(y){var C=y.text;h==f.line&&(C=C.slice(0,f.ch)),h==o.line&&(C=C.slice(o.ch)),c.push(C),++h}),c}function yr(n,o,f){var c=[];return n.iter(o,f,function(h){c.push(h.text)}),c}function Pn(n,o){var f=o-n.height;if(f)for(var c=n;c;c=c.parent)c.height+=f}function Ue(n){if(null==n.parent)return null;for(var o=n.parent,f=ze(o.lines,n),c=o.parent;c;o=c,c=c.parent)for(var h=0;c.children[h]!=o;++h)f+=c.children[h].chunkSize();return f+o.first}function qr(n,o){var f=n.first;e:do{for(var c=0;c<n.children.length;++c){var h=n.children[c],y=h.height;if(o<y){n=h;continue e}o-=y,f+=h.chunkSize()}return f}while(!n.lines);for(var C=0;C<n.lines.length;++C){var S=n.lines[C].height;if(o<S)break;o-=S}return f+C}function Or(n,o){return o>=n.first&&o<n.first+n.size}function bi(n,o){return String(n.lineNumberFormatter(o+n.firstLineNumber))}function M(n,o,f){if(void 0===f&&(f=null),!(this instanceof M))return new M(n,o,f);this.line=n,this.ch=o,this.sticky=f}function U(n,o){return n.line-o.line||n.ch-o.ch}function Ce(n,o){return n.sticky==o.sticky&&0==U(n,o)}function Ae(n){return M(n.line,n.ch)}function Ke(n,o){return U(n,o)<0?o:n}function pt(n,o){return U(n,o)<0?n:o}function kt(n,o){return Math.max(n.first,Math.min(o,n.first+n.size-1))}function Oe(n,o){if(o.line<n.first)return M(n.first,0);var f=n.first+n.size-1;return o.line>f?M(f,$e(n,f).text.length):function Fr(n,o){var f=n.ch;return null==f||f>o?M(n.line,o):f<0?M(n.line,0):n}(o,$e(n,o.line).text.length)}function Ws(n,o){for(var f=[],c=0;c<o.length;c++)f[c]=Oe(n,o[c]);return f}gt.prototype.eol=function(){return this.pos>=this.string.length},gt.prototype.sol=function(){return this.pos==this.lineStart},gt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},gt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},gt.prototype.eat=function(n){var o=this.string.charAt(this.pos);if("string"==typeof n?o==n:o&&(n.test?n.test(o):n(o)))return++this.pos,o},gt.prototype.eatWhile=function(n){for(var o=this.pos;this.eat(n););return this.pos>o},gt.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},gt.prototype.skipToEnd=function(){this.pos=this.string.length},gt.prototype.skipTo=function(n){var o=this.string.indexOf(n,this.pos);if(o>-1)return this.pos=o,!0},gt.prototype.backUp=function(n){this.pos-=n},gt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ht(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ht(this.string,this.lineStart,this.tabSize):0)},gt.prototype.indentation=function(){return ht(this.string,null,this.tabSize)-(this.lineStart?ht(this.string,this.lineStart,this.tabSize):0)},gt.prototype.match=function(n,o,f){if("string"!=typeof n){var y=this.string.slice(this.pos).match(n);return y&&y.index>0?null:(y&&!1!==o&&(this.pos+=y[0].length),y)}var c=function(C){return f?C.toLowerCase():C};if(c(this.string.substr(this.pos,n.length))==c(n))return!1!==o&&(this.pos+=n.length),!0},gt.prototype.current=function(){return this.string.slice(this.start,this.pos)},gt.prototype.hideFirstChars=function(n,o){this.lineStart+=n;try{return o()}finally{this.lineStart-=n}},gt.prototype.lookAhead=function(n){var o=this.lineOracle;return o&&o.lookAhead(n)},gt.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};var Si=function(n,o){this.state=n,this.lookAhead=o},lr=function(n,o,f,c){this.state=o,this.doc=n,this.line=f,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};function rs(n,o,f,c){var h=[n.state.modeGen],y={};qs(n,o.text,n.doc.mode,f,function(T,$){return h.push(T,$)},y,c);for(var C=f.state,b=function(T){f.baseTokens=h;var $=n.state.overlays[T],J=1,he=0;f.state=!0,qs(n,o.text,$.mode,f,function(ce,ye){for(var De=J;he<ce;){var Me=h[J];Me>ce&&h.splice(J,1,ce,h[J+1],Me),J+=2,he=Math.min(ce,Me)}if(ye)if($.opaque)h.splice(De,J-De,ce,"overlay "+ye),J=De+2;else for(;De<J;De+=2){var ke=h[De+1];h[De+1]=(ke?ke+" ":"")+"overlay "+ye}},y),f.state=C,f.baseTokens=null,f.baseTokenPos=1},S=0;S<n.state.overlays.length;++S)b(S);return{styles:h,classes:y.bgClass||y.textClass?y:null}}function Ys(n,o,f){if(!o.styles||o.styles[0]!=n.state.modeGen){var c=si(n,Ue(o)),h=o.text.length>n.options.maxHighlightLength&&Ot(n.doc.mode,c.state),y=rs(n,o,c);h&&(c.state=h),o.stateAfter=c.save(!h),o.styles=y.styles,y.classes?o.styleClasses=y.classes:o.styleClasses&&(o.styleClasses=null),f===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return o.styles}function si(n,o,f){var c=n.doc,h=n.display;if(!c.mode.startState)return new lr(c,!0,o);var y=function Zr(n,o,f){for(var c,h,y=n.doc,C=f?-1:o-(n.doc.mode.innerMode?1e3:100),b=o;b>C;--b){if(b<=y.first)return y.first;var S=$e(y,b-1),T=S.stateAfter;if(T&&(!f||b+(T instanceof Si?T.lookAhead:0)<=y.modeFrontier))return b;var $=ht(S.text,null,n.options.tabSize);(null==h||c>$)&&(h=b-1,c=$)}return h}(n,o,f),C=y>c.first&&$e(c,y-1).stateAfter,b=C?lr.fromSaved(c,C,y):new lr(c,oi(c.mode),y);return c.iter(y,o,function(S){Dn(n,S.text,b);var T=b.line;S.stateAfter=T==o-1||T%5==0||T>=h.viewFrom&&T<h.viewTo?b.save():null,b.nextLine()}),f&&(c.modeFrontier=b.line),b}function Dn(n,o,f,c){var h=n.doc.mode,y=new gt(o,n.options.tabSize,f);for(y.start=y.pos=c||0,""==o&&Zu(h,f.state);!y.eol();)$n(h,y,f.state),y.start=y.pos}function Zu(n,o){if(n.blankLine)return n.blankLine(o);if(n.innerMode){var f=hn(n,o);if(f.mode.blankLine)return f.mode.blankLine(f.state)}}function $n(n,o,f,c){for(var h=0;h<10;h++){c&&(c[0]=hn(n,f).mode);var y=n.token(o,f);if(o.pos>o.start)return y}throw new Error("Mode "+n.name+" failed to advance stream.")}lr.prototype.lookAhead=function(n){var o=this.doc.getLine(this.line+n);return null!=o&&n>this.maxLookAhead&&(this.maxLookAhead=n),o},lr.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var o=this.baseTokens[this.baseTokenPos+1];return{type:o&&o.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},lr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},lr.fromSaved=function(n,o,f){return o instanceof Si?new lr(n,Ot(n.mode,o.state),f,o.lookAhead):new lr(n,Ot(n.mode,o),f)},lr.prototype.save=function(n){var o=!1!==n?Ot(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Si(o,this.maxLookAhead):o};var kr=function(n,o,f){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=o||null,this.state=f};function Vl(n,o,f,c){var C,$,h=n.doc,y=h.mode,b=$e(h,(o=Oe(h,o)).line),S=si(n,o.line,f),T=new gt(b.text,n.options.tabSize,S);for(c&&($=[]);(c||T.pos<o.ch)&&!T.eol();)T.start=T.pos,C=$n(y,T,S.state),c&&$.push(new kr(T,C,Ot(h.mode,S.state)));return c?$:new kr(T,C,S.state)}function Jn(n,o){if(n)for(;;){var f=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f)break;n=n.slice(0,f.index)+n.slice(f.index+f[0].length);var c=f[1]?"bgClass":"textClass";null==o[c]?o[c]=f[2]:new RegExp("(?:^|\\s)"+f[2]+"(?:$|\\s)").test(o[c])||(o[c]+=" "+f[2])}return n}function qs(n,o,f,c,h,y,C){var b=f.flattenSpans;null==b&&(b=n.options.flattenSpans);var J,S=0,T=null,$=new gt(o,n.options.tabSize,c),he=n.options.addModeClass&&[null];for(""==o&&Jn(Zu(f,c.state),y);!$.eol();){if($.pos>n.options.maxHighlightLength?(b=!1,C&&Dn(n,o,c,$.pos),$.pos=o.length,J=null):J=Jn($n(f,$,c.state,he),y),he){var ce=he[0].name;ce&&(J="m-"+(J?ce+" "+J:ce))}if(!b||T!=J){for(;S<$.start;)h(S=Math.min($.start,S+5e3),T);T=J}$.start=$.pos}for(;S<$.pos;){var ye=Math.min($.pos,S+5e3);h(ye,T),S=ye}}var Pf=!1,Lr=!1;function Bl(n,o,f){this.marker=n,this.from=o,this.to=f}function ja(n,o){if(n)for(var f=0;f<n.length;++f){var c=n[f];if(c.marker==o)return c}}function _h(n,o){for(var f,c=0;c<n.length;++c)n[c]!=o&&(f||(f=[])).push(n[c]);return f}function Ku(n,o){if(o.full)return null;var f=Or(n,o.from.line)&&$e(n,o.from.line).markedSpans,c=Or(n,o.to.line)&&$e(n,o.to.line).markedSpans;if(!f&&!c)return null;var h=o.from.ch,y=o.to.ch,C=0==U(o.from,o.to),b=function wh(n,o,f){var c;if(n)for(var h=0;h<n.length;++h){var y=n[h],C=y.marker;null!=y.from&&!(C.inclusiveLeft?y.from<=o:y.from<o)&&(y.from!=o||"bookmark"!=C.type||f&&y.marker.insertLeft)||(c||(c=[])).push(new Bl(C,y.from,null==y.to||(C.inclusiveRight?y.to>=o:y.to>o)?null:y.to))}return c}(f,h,C),S=function Dh(n,o,f){var c;if(n)for(var h=0;h<n.length;++h){var y=n[h],C=y.marker;(null==y.to||(C.inclusiveRight?y.to>=o:y.to>o)||y.from==o&&"bookmark"==C.type&&(!f||y.marker.insertLeft))&&(c||(c=[])).push(new Bl(C,null==y.from||(C.inclusiveLeft?y.from<=o:y.from<o)?null:y.from-o,null==y.to?null:y.to-o))}return c}(c,y,C),T=1==o.text.length,$=mt(o.text).length+(T?h:0);if(b)for(var J=0;J<b.length;++J){var he=b[J];if(null==he.to){var ce=ja(S,he.marker);ce?T&&(he.to=null==ce.to?null:ce.to+$):he.to=h}}if(S)for(var ye=0;ye<S.length;++ye){var De=S[ye];null!=De.to&&(De.to+=$),null==De.from?ja(b,De.marker)||(De.from=$,T&&(b||(b=[])).push(De)):(De.from+=$,T&&(b||(b=[])).push(De))}b&&(b=Rf(b)),S&&S!=b&&(S=Rf(S));var ke=[b];if(!T){var Le,Ne=o.text.length-2;if(Ne>0&&b)for(var He=0;He<b.length;++He)null==b[He].to&&(Le||(Le=[])).push(new Bl(b[He].marker,null,null));for(var Xe=0;Xe<Ne;++Xe)ke.push(Le);ke.push(S)}return ke}function Rf(n){for(var o=0;o<n.length;++o){var f=n[o];null!=f.from&&f.from==f.to&&!1!==f.marker.clearWhenEmpty&&n.splice(o--,1)}return n.length?n:null}function Vf(n){var o=n.markedSpans;if(o){for(var f=0;f<o.length;++f)o[f].marker.detachLine(n);n.markedSpans=null}}function Qu(n,o){if(o){for(var f=0;f<o.length;++f)o[f].marker.attachLine(n);n.markedSpans=o}}function Hl(n){return n.inclusiveLeft?-1:0}function Ul(n){return n.inclusiveRight?1:0}function za(n,o){var f=n.lines.length-o.lines.length;if(0!=f)return f;var c=n.find(),h=o.find(),y=U(c.from,h.from)||Hl(n)-Hl(o);return y?-y:U(c.to,h.to)||Ul(n)-Ul(o)||o.id-n.id}function is(n,o){var c,f=Lr&&n.markedSpans;if(f)for(var h=void 0,y=0;y<f.length;++y)(h=f[y]).marker.collapsed&&null==(o?h.from:h.to)&&(!c||za(c,h.marker)<0)&&(c=h.marker);return c}function jl(n){return is(n,!0)}function zl(n){return is(n,!1)}function dg(n,o){var c,f=Lr&&n.markedSpans;if(f)for(var h=0;h<f.length;++h){var y=f[h];y.marker.collapsed&&(null==y.from||y.from<o)&&(null==y.to||y.to>o)&&(!c||za(c,y.marker)<0)&&(c=y.marker)}return c}function Xi(n,o,f,c,h){var y=$e(n,o),C=Lr&&y.markedSpans;if(C)for(var b=0;b<C.length;++b){var S=C[b];if(S.marker.collapsed){var T=S.marker.find(0),$=U(T.from,f)||Hl(S.marker)-Hl(h),J=U(T.to,c)||Ul(S.marker)-Ul(h);if(!($>=0&&J<=0||$<=0&&J>=0)&&($<=0&&(S.marker.inclusiveRight&&h.inclusiveLeft?U(T.to,f)>=0:U(T.to,f)>0)||$>=0&&(S.marker.inclusiveRight&&h.inclusiveLeft?U(T.from,c)<=0:U(T.from,c)<0)))return!0}}}function Pr(n){for(var o;o=jl(n);)n=o.find(-1,!0).line;return n}function Gl(n,o){var f=$e(n,o),c=Pr(f);return f==c?o:Ue(c)}function Bf(n,o){if(o>n.lastLine())return o;var c,f=$e(n,o);if(!Ji(n,f))return o;for(;c=zl(f);)f=c.find(1,!0).line;return Ue(f)+1}function Ji(n,o){var f=Lr&&o.markedSpans;if(f)for(var c=void 0,h=0;h<f.length;++h)if((c=f[h]).marker.collapsed){if(null==c.from)return!0;if(!c.marker.widgetNode&&0==c.from&&c.marker.inclusiveLeft&&Wl(n,o,c))return!0}}function Wl(n,o,f){if(null==f.to){var c=f.marker.find(1,!0);return Wl(n,c.line,ja(c.line.markedSpans,f.marker))}if(f.marker.inclusiveRight&&f.to==o.text.length)return!0;for(var h=void 0,y=0;y<o.markedSpans.length;++y)if((h=o.markedSpans[y]).marker.collapsed&&!h.marker.widgetNode&&h.from==f.to&&(null==h.to||h.to!=f.from)&&(h.marker.inclusiveLeft||f.marker.inclusiveRight)&&Wl(n,o,h))return!0}function eo(n){for(var o=0,f=(n=Pr(n)).parent,c=0;c<f.lines.length;++c){var h=f.lines[c];if(h==n)break;o+=h.height}for(var y=f.parent;y;y=(f=y).parent)for(var C=0;C<y.children.length;++C){var b=y.children[C];if(b==f)break;o+=b.height}return o}function Zs(n){if(0==n.height)return 0;for(var f,o=n.text.length,c=n;f=jl(c);){var h=f.find(0,!0);c=h.from.line,o+=h.from.ch-h.to.ch}for(c=n;f=zl(c);){var y=f.find(0,!0);o-=c.text.length-y.from.ch,o+=(c=y.to.line).text.length-y.to.ch}return o}function Yl(n){var o=n.display,f=n.doc;o.maxLine=$e(f,f.first),o.maxLineLength=Zs(o.maxLine),o.maxLineChanged=!0,f.iter(function(c){var h=Zs(c);h>o.maxLineLength&&(o.maxLineLength=h,o.maxLine=c)})}var Nn=function(n,o,f){this.text=n,Qu(this,o),this.height=f?f(this):1};function Hf(n){n.parent=null,Vf(n)}Nn.prototype.lineNo=function(){return Ue(this)},_t(Nn);var Ju={},Uf={};function Sh(n,o){if(!n||/^\s*$/.test(n))return null;var f=o.addModeClass?Uf:Ju;return f[n]||(f[n]=n.replace(/\S+/g,"cm-$&"))}function Mt(n,o){var f=ee("span",null,null,q?"padding-right: .1px":null),c={pre:ee("pre",[f],"CodeMirror-line"),content:f,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")};o.measure={};for(var h=0;h<=(o.rest?o.rest.length:0);h++){var y=h?o.rest[h-1]:o.line,C=void 0;c.pos=0,c.addToken=ec,Ha(n.display.measure)&&(C=Ut(y,n.doc.direction))&&(c.addToken=Nr(c.addToken,C)),c.map=[],Zl(y,c,Ys(n,y,o!=n.display.externalMeasured&&Ue(y))),y.styleClasses&&(y.styleClasses.bgClass&&(c.bgClass=Ze(y.styleClasses.bgClass,c.bgClass||"")),y.styleClasses.textClass&&(c.textClass=Ze(y.styleClasses.textClass,c.textClass||""))),0==c.map.length&&c.map.push(0,0,c.content.appendChild(Rl(n.display.measure))),0==h?(o.measure.map=c.map,o.measure.cache={}):((o.measure.maps||(o.measure.maps=[])).push(c.map),(o.measure.caches||(o.measure.caches=[])).push({}))}if(q){var S=c.content.lastChild;(/\bcm-tab\b/.test(S.className)||S.querySelector&&S.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return Ge(n,"renderLine",n,o.line,c.pre),c.pre.className&&(c.textClass=Ze(c.pre.className,c.textClass||"")),c}function Eh(n){var o=F("span","\u2022","cm-invalidchar");return o.title="\\u"+n.charCodeAt(0).toString(16),o.setAttribute("aria-label",o.title),o}function ec(n,o,f,c,h,y,C){if(o){var $,b=n.splitSpaces?function ql(n,o){if(n.length>1&&!/  /.test(n))return n;for(var f=o,c="",h=0;h<n.length;h++){var y=n.charAt(h);" "==y&&f&&(h==n.length-1||32==n.charCodeAt(h+1))&&(y="\xa0"),c+=y,f=" "==y}return c}(o,n.trailingSpace):o,S=n.cm.state.specialChars,T=!1;if(S.test(o)){$=document.createDocumentFragment();for(var J=0;;){S.lastIndex=J;var he=S.exec(o),ce=he?he.index-J:o.length-J;if(ce){var ye=document.createTextNode(b.slice(J,J+ce));$.appendChild(L&&V<9?F("span",[ye]):ye),n.map.push(n.pos,n.pos+ce,ye),n.col+=ce,n.pos+=ce}if(!he)break;J+=ce+1;var De=void 0;if("\t"==he[0]){var Me=n.cm.options.tabSize,ke=Me-n.col%Me;(De=$.appendChild(F("span",ni(ke),"cm-tab"))).setAttribute("role","presentation"),De.setAttribute("cm-text","\t"),n.col+=ke}else"\r"==he[0]||"\n"==he[0]?((De=$.appendChild(F("span","\r"==he[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",he[0]),n.col+=1):((De=n.cm.options.specialCharPlaceholder(he[0])).setAttribute("cm-text",he[0]),$.appendChild(L&&V<9?F("span",[De]):De),n.col+=1);n.map.push(n.pos,n.pos+1,De),n.pos++}}else n.col+=o.length,$=document.createTextNode(b),n.map.push(n.pos,n.pos+o.length,$),L&&V<9&&(T=!0),n.pos+=o.length;if(n.trailingSpace=32==b.charCodeAt(o.length-1),f||c||h||T||y||C){var Ne=f||"";c&&(Ne+=c),h&&(Ne+=h);var Le=F("span",[$],Ne,y);if(C)for(var He in C)C.hasOwnProperty(He)&&"style"!=He&&"class"!=He&&Le.setAttribute(He,C[He]);return n.content.appendChild(Le)}n.content.appendChild($)}}function Nr(n,o){return function(f,c,h,y,C,b,S){h=h?h+" cm-force-border":"cm-force-border";for(var T=f.pos,$=T+c.length;;){for(var J=void 0,he=0;he<o.length&&!((J=o[he]).to>T&&J.from<=T);he++);if(J.to>=$)return n(f,c,h,y,C,b,S);n(f,c.slice(0,J.to-T),h,y,null,b,S),y=null,c=c.slice(J.to-T),T=J.to}}}function tc(n,o,f,c){var h=!c&&f.widgetNode;h&&n.map.push(n.pos,n.pos+o,h),!c&&n.cm.display.input.needsContentAttribute&&(h||(h=n.content.appendChild(document.createElement("span"))),h.setAttribute("cm-marker",f.id)),h&&(n.cm.display.input.setUneditable(h),n.content.appendChild(h)),n.pos+=o,n.trailingSpace=!1}function Zl(n,o,f){var c=n.markedSpans,h=n.text,y=0;if(c)for(var J,he,ye,De,Me,ke,Ne,b=h.length,S=0,T=1,$="",ce=0;;){if(ce==S){ye=De=Me=he="",Ne=null,ke=null,ce=1/0;for(var Le=[],He=void 0,Xe=0;Xe<c.length;++Xe){var Ye=c[Xe],yt=Ye.marker;if("bookmark"==yt.type&&Ye.from==S&&yt.widgetNode)Le.push(yt);else if(Ye.from<=S&&(null==Ye.to||Ye.to>S||yt.collapsed&&Ye.to==S&&Ye.from==S)){if(null!=Ye.to&&Ye.to!=S&&ce>Ye.to&&(ce=Ye.to,De=""),yt.className&&(ye+=" "+yt.className),yt.css&&(he=(he?he+";":"")+yt.css),yt.startStyle&&Ye.from==S&&(Me+=" "+yt.startStyle),yt.endStyle&&Ye.to==ce&&(He||(He=[])).push(yt.endStyle,Ye.to),yt.title&&((Ne||(Ne={})).title=yt.title),yt.attributes)for(var Pt in yt.attributes)(Ne||(Ne={}))[Pt]=yt.attributes[Pt];yt.collapsed&&(!ke||za(ke.marker,yt)<0)&&(ke=Ye)}else Ye.from>S&&ce>Ye.from&&(ce=Ye.from)}if(He)for(var jt=0;jt<He.length;jt+=2)He[jt+1]==ce&&(De+=" "+He[jt]);if(!ke||ke.from==S)for(var Vt=0;Vt<Le.length;++Vt)tc(o,0,Le[Vt]);if(ke&&(ke.from||0)==S){if(tc(o,(ke.to??b+1)-S,ke.marker,null==ke.from),null==ke.to)return;ke.to==S&&(ke=!1)}}if(S>=b)break;for(var xr=Math.min(b,ce);;){if($){var Un=S+$.length;if(!ke){var Zt=Un>xr?$.slice(0,xr-S):$;o.addToken(o,Zt,J?J+ye:ye,Me,S+Zt.length==ce?De:"",he,Ne)}if(Un>=xr){$=$.slice(xr-S),S=xr;break}S=Un,Me=""}$=h.slice(y,y=f[T++]),J=Sh(f[T++],o.cm.options)}}else for(var C=1;C<f.length;C+=2)o.addToken(o,h.slice(y,y=f[C]),Sh(f[C+1],o.cm.options))}function os(n,o,f){this.line=o,this.rest=function Xu(n){for(var o,f;o=zl(n);)n=o.find(1,!0).line,(f||(f=[])).push(n);return f}(o),this.size=this.rest?Ue(mt(this.rest))-f+1:1,this.node=this.text=null,this.hidden=Ji(n,o)}function er(n,o,f){for(var h,c=[],y=o;y<f;y=h){var C=new os(n.doc,$e(n.doc,y),y);h=y+C.size,c.push(C)}return c}var Ks=null;var Ei=null;function fn(n,o){var f=Qt(n,o);if(f.length){var h,c=Array.prototype.slice.call(arguments,2);Ks?h=Ks.delayedCallbacks:Ei?h=Ei:(h=Ei=[],setTimeout(dt,0));for(var y=function(b){h.push(function(){return f[b].apply(null,c)})},C=0;C<f.length;++C)y(C)}}function dt(){var n=Ei;Ei=null;for(var o=0;o<n.length;++o)n[o]()}function nc(n,o,f,c){for(var h=0;h<o.changes.length;h++){var y=o.changes[h];"text"==y?xh(n,o):"gutter"==y?zf(n,o,f,c):"class"==y?Ya(n,o):"widget"==y&&$f(n,o,c)}o.changes=null}function Wa(n){return n.node==n.text&&(n.node=F("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),L&&V<8&&(n.node.style.zIndex=2)),n.node}function rc(n,o){var f=n.display.externalMeasured;return f&&f.line==o.line?(n.display.externalMeasured=null,o.measure=f.measure,f.built):Mt(n,o)}function xh(n,o){var f=o.text.className,c=rc(n,o);o.text==o.node&&(o.node=c.pre),o.text.parentNode.replaceChild(c.pre,o.text),o.text=c.pre,c.bgClass!=o.bgClass||c.textClass!=o.textClass?(o.bgClass=c.bgClass,o.textClass=c.textClass,Ya(n,o)):f&&(o.text.className=f)}function Ya(n,o){(function Mh(n,o){var f=o.bgClass?o.bgClass+" "+(o.line.bgClass||""):o.line.bgClass;if(f&&(f+=" CodeMirror-linebackground"),o.background)f?o.background.className=f:(o.background.parentNode.removeChild(o.background),o.background=null);else if(f){var c=Wa(o);o.background=c.insertBefore(F("div",null,f),c.firstChild),n.display.input.setUneditable(o.background)}})(n,o),o.line.wrapClass?Wa(o).className=o.line.wrapClass:o.node!=o.text&&(o.node.className=""),o.text.className=(o.textClass?o.textClass+" "+(o.line.textClass||""):o.line.textClass)||""}function zf(n,o,f,c){if(o.gutter&&(o.node.removeChild(o.gutter),o.gutter=null),o.gutterBackground&&(o.node.removeChild(o.gutterBackground),o.gutterBackground=null),o.line.gutterClass){var h=Wa(o);o.gutterBackground=F("div",null,"CodeMirror-gutter-background "+o.line.gutterClass,"left: "+(n.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),n.display.input.setUneditable(o.gutterBackground),h.insertBefore(o.gutterBackground,o.text)}var y=o.line.gutterMarkers;if(n.options.lineNumbers||y){var C=Wa(o),b=o.gutter=F("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(b.setAttribute("aria-hidden","true"),n.display.input.setUneditable(b),C.insertBefore(b,o.text),o.line.gutterClass&&(b.className+=" "+o.line.gutterClass),n.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(o.lineNumber=b.appendChild(F("div",bi(n.options,f),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),y)for(var S=0;S<n.display.gutterSpecs.length;++S){var T=n.display.gutterSpecs[S].className,$=y.hasOwnProperty(T)&&y[T];$&&b.appendChild(F("div",[$],"CodeMirror-gutter-elt","left: "+c.gutterLeft[T]+"px; width: "+c.gutterWidth[T]+"px"))}}}function $f(n,o,f){o.alignable&&(o.alignable=null);for(var c=pe("CodeMirror-linewidget"),h=o.node.firstChild,y=void 0;h;h=y)y=h.nextSibling,c.test(h.className)&&o.node.removeChild(h);At(n,o,f)}function xe(n,o,f,c){var h=rc(n,o);return o.text=o.node=h.pre,h.bgClass&&(o.bgClass=h.bgClass),h.textClass&&(o.textClass=h.textClass),Ya(n,o),zf(n,o,f,c),At(n,o,c),o.node}function At(n,o,f){if(Kl(n,o.line,o,f,!0),o.rest)for(var c=0;c<o.rest.length;c++)Kl(n,o.rest[c],o,f,!1)}function Kl(n,o,f,c,h){if(o.widgets)for(var y=Wa(f),C=0,b=o.widgets;C<b.length;++C){var S=b[C],T=F("div",[S.node],"CodeMirror-linewidget"+(S.className?" "+S.className:""));S.handleMouseEvents||T.setAttribute("cm-ignore-events","true"),Gf(S,T,f,c),n.display.input.setUneditable(T),h&&S.above?y.insertBefore(T,f.gutter||f.text):y.appendChild(T),fn(S,"redraw")}}function Gf(n,o,f,c){if(n.noHScroll){(f.alignable||(f.alignable=[])).push(o);var h=c.wrapperWidth;o.style.left=c.fixedPos+"px",n.coverGutter||(h-=c.gutterTotalWidth,o.style.paddingLeft=c.gutterTotalWidth+"px"),o.style.width=h+"px"}n.coverGutter&&(o.style.zIndex=5,o.style.position="relative",n.noHScroll||(o.style.marginLeft=-c.gutterTotalWidth+"px"))}function Jt(n){if(null!=n.height)return n.height;var o=n.doc.cm;if(!o)return 0;if(!fe(document.body,n.node)){var f="position: relative;";n.coverGutter&&(f+="margin-left: -"+o.display.gutters.offsetWidth+"px;"),n.noHScroll&&(f+="width: "+o.display.wrapper.clientWidth+"px;"),me(o.display.measure,F("div",[n.node],null,f))}return n.height=n.node.parentNode.offsetHeight}function Rr(n,o){for(var f=Qn(o);f!=n.wrapper;f=f.parentNode)if(!f||1==f.nodeType&&"true"==f.getAttribute("cm-ignore-events")||f.parentNode==n.sizer&&f!=n.mover)return!0}function Vr(n){return n.lineSpace.offsetTop}function _r(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function Qs(n){if(n.cachedPaddingH)return n.cachedPaddingH;var o=me(n.measure,F("pre","x","CodeMirror-line-like")),f=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,c={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};return!isNaN(c.left)&&!isNaN(c.right)&&(n.cachedPaddingH=c),c}function Kr(n){return 50-n.display.nativeBarWidth}function Xs(n){return n.display.scroller.clientWidth-Kr(n)-n.display.barWidth}function ic(n){return n.display.scroller.clientHeight-Kr(n)-n.display.barHeight}function oc(n,o,f){if(n.line==o)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var c=0;c<n.rest.length;c++)if(n.rest[c]==o)return{map:n.measure.maps[c],cache:n.measure.caches[c]};for(var h=0;h<n.rest.length;h++)if(Ue(n.rest[h])>f)return{map:n.measure.maps[h],cache:n.measure.caches[h],before:!0}}}function Mi(n,o,f,c){return Tn(n,ai(n,o),f,c)}function qa(n,o){if(o>=n.display.viewFrom&&o<n.display.viewTo)return n.display.view[ro(n,o)];var f=n.display.externalMeasured;return f&&o>=f.lineN&&o<f.lineN+f.size?f:void 0}function ai(n,o){var f=Ue(o),c=qa(n,f);c&&!c.text?c=null:c&&c.changes&&(nc(n,c,f,ls(n)),n.curOp.forceUpdate=!0),c||(c=function ur(n,o){var f=Ue(o=Pr(o)),c=n.display.externalMeasured=new os(n.doc,o,f);c.lineN=f;var h=c.built=Mt(n,c);return c.text=h.pre,me(n.display.lineMeasure,h.pre),c}(n,o));var h=oc(c,o,f);return{line:o,view:c,rect:null,map:h.map,cache:h.cache,before:h.before,hasHeights:!1}}function Tn(n,o,f,c,h){o.before&&(f=-1);var C,y=f+(c||"");return o.cache.hasOwnProperty(y)?C=o.cache[y]:(o.rect||(o.rect=o.view.text.getBoundingClientRect()),o.hasHeights||(function hg(n,o,f){var c=n.options.lineWrapping,h=c&&Xs(n);if(!o.measure.heights||c&&o.measure.width!=h){var y=o.measure.heights=[];if(c){o.measure.width=h;for(var C=o.text.firstChild.getClientRects(),b=0;b<C.length-1;b++){var S=C[b],T=C[b+1];Math.abs(S.bottom-T.bottom)>2&&y.push((S.bottom+T.top)/2-f.top)}}y.push(f.bottom-f.top)}}(n,o.view,o.rect),o.hasHeights=!0),(C=function Ah(n,o,f,c){var T,h=ac(o.map,f,c),y=h.node,C=h.start,b=h.end,S=h.collapse;if(3==y.nodeType){for(var $=0;$<4;$++){for(;C&&$s(o.line.text.charAt(h.coverStart+C));)--C;for(;h.coverStart+b<h.coverEnd&&$s(o.line.text.charAt(h.coverStart+b));)++b;if((T=L&&V<9&&0==C&&b==h.coverEnd-h.coverStart?y.parentNode.getBoundingClientRect():Th(R(y,C,b).getClientRects(),c)).left||T.right||0==C)break;b=C,C-=1,S="right"}L&&V<11&&(T=function lc(n,o){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function Xn(n){if(null!=ar)return ar;var o=me(n,F("span","x")),f=o.getBoundingClientRect(),c=R(o,0,1).getBoundingClientRect();return ar=Math.abs(f.left-c.left)>1}(n))return o;var f=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:o.left*f,right:o.right*f,top:o.top*c,bottom:o.bottom*c}}(n.display.measure,T))}else{var J;C>0&&(S=c="right"),T=n.options.lineWrapping&&(J=y.getClientRects()).length>1?J["right"==c?J.length-1:0]:y.getBoundingClientRect()}if(L&&V<9&&!C&&(!T||!T.left&&!T.right)){var he=y.parentNode.getClientRects()[0];T=he?{left:he.left,right:he.left+Mo(n.display),top:he.top,bottom:he.bottom}:sc}for(var ce=T.top-o.rect.top,ye=T.bottom-o.rect.top,De=(ce+ye)/2,Me=o.view.measure.heights,ke=0;ke<Me.length-1&&!(De<Me[ke]);ke++);var He={left:("right"==S?T.right:T.left)-o.rect.left,right:("left"==S?T.left:T.right)-o.rect.left,top:ke?Me[ke-1]:0,bottom:Me[ke]};return!T.left&&!T.right&&(He.bogus=!0),n.options.singleCursorHeightPerLine||(He.rtop=ce,He.rbottom=ye),He}(n,o,f,c)).bogus||(o.cache[y]=C)),{left:C.left,right:C.right,top:h?C.rtop:C.top,bottom:h?C.rbottom:C.bottom}}var Ti,sc={left:0,right:0,top:0,bottom:0};function ac(n,o,f){for(var c,h,y,C,b,S,T=0;T<n.length;T+=3)if(S=n[T+1],o<(b=n[T])?(h=0,y=1,C="left"):o<S?y=1+(h=o-b):(T==n.length-3||o==S&&n[T+3]>o)&&(h=(y=S-b)-1,o>=S&&(C="right")),null!=h){if(c=n[T+2],b==S&&f==(c.insertLeft?"left":"right")&&(C=f),"left"==f&&0==h)for(;T&&n[T-2]==n[T-3]&&n[T-1].insertLeft;)c=n[2+(T-=3)],C="left";if("right"==f&&h==S-b)for(;T<n.length-3&&n[T+3]==n[T+4]&&!n[T+5].insertLeft;)c=n[(T+=3)+2],C="right";break}return{node:c,start:h,end:y,collapse:C,coverStart:b,coverEnd:S}}function Th(n,o){var f=sc;if("left"==o)for(var c=0;c<n.length&&(f=n[c]).left==f.right;c++);else for(var h=n.length-1;h>=0&&(f=n[h]).left==f.right;h--);return f}function Ql(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var o=0;o<n.rest.length;o++)n.measure.caches[o]={}}function Xl(n){n.display.externalMeasure=null,de(n.display.lineMeasure);for(var o=0;o<n.display.view.length;o++)Ql(n.display.view[o])}function xi(n){Xl(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function ss(n){return A&&z?-(n.body.getBoundingClientRect().left-parseInt(getComputedStyle(n.body).marginLeft)):n.defaultView.pageXOffset||(n.documentElement||n.body).scrollLeft}function Jl(n){return A&&z?-(n.body.getBoundingClientRect().top-parseInt(getComputedStyle(n.body).marginTop)):n.defaultView.pageYOffset||(n.documentElement||n.body).scrollTop}function no(n){var f=Pr(n).widgets,c=0;if(f)for(var h=0;h<f.length;++h)f[h].above&&(c+=Jt(f[h]));return c}function Js(n,o,f,c,h){if(!h){var y=no(o);f.top+=y,f.bottom+=y}if("line"==c)return f;c||(c="local");var C=eo(o);if("local"==c?C+=Vr(n.display):C-=n.display.viewOffset,"page"==c||"window"==c){var b=n.display.lineSpace.getBoundingClientRect();C+=b.top+("window"==c?0:Jl(ft(n)));var S=b.left+("window"==c?0:ss(ft(n)));f.left+=S,f.right+=S}return f.top+=C,f.bottom+=C,f}function Za(n,o,f){if("div"==f)return o;var c=o.left,h=o.top;if("page"==f)c-=ss(ft(n)),h-=Jl(ft(n));else if("local"==f||!f){var y=n.display.sizer.getBoundingClientRect();c+=y.left,h+=y.top}var C=n.display.lineSpace.getBoundingClientRect();return{left:c-C.left,top:h-C.top}}function ea(n,o,f,c,h){return c||(c=$e(n.doc,o.line)),Js(n,c,Mi(n,c,o.ch,h),f)}function Br(n,o,f,c,h,y){function C(ye,De){var Me=Tn(n,h,ye,De?"right":"left",y);return De?Me.left=Me.right:Me.right=Me.left,Js(n,c,Me,f)}c=c||$e(n.doc,o.line),h||(h=ai(n,c));var b=Ut(c,n.doc.direction),S=o.ch,T=o.sticky;if(S>=c.text.length?(S=c.text.length,T="before"):S<=0&&(S=0,T="after"),!b)return C("before"==T?S-1:S,"before"==T);function $(ye,De,Me){return C(Me?ye-1:ye,1==b[De].level!=Me)}var J=Zn(b,S,T),he=Tt,ce=$(S,J,"before"==T);return null!=he&&(ce.other=$(S,he,"before"!=T)),ce}function Ka(n,o){var f=0;o=Oe(n.doc,o),n.options.lineWrapping||(f=Mo(n.display)*o.ch);var c=$e(n.doc,o.line),h=eo(c)+Vr(n.display);return{left:f,right:f,top:h,bottom:h+c.height}}function eu(n,o,f,c,h){var y=M(n,o,f);return y.xRel=h,c&&(y.outside=c),y}function as(n,o,f){var c=n.doc;if((f+=n.display.viewOffset)<0)return eu(c.first,0,null,-1,-1);var h=qr(c,f),y=c.first+c.size-1;if(h>y)return eu(c.first+c.size-1,$e(c,y).text.length,null,1,1);o<0&&(o=0);for(var C=$e(c,h);;){var b=ta(n,C,h,o,f),S=dg(C,b.ch+(b.xRel>0||b.outside>0?1:0));if(!S)return b;var T=S.find(1);if(T.line==h)return T;C=$e(c,h=T.line)}}function bn(n,o,f,c){c-=no(o);var h=o.text.length,y=Je(function(C){return Tn(n,f,C-1).bottom<=c},h,0);return{begin:y,end:h=Je(function(C){return Tn(n,f,C).top>c},y,h)}}function li(n,o,f,c){return f||(f=ai(n,o)),bn(n,o,f,Js(n,o,Tn(n,f,c),"line").top)}function Gt(n,o,f,c){return!(n.bottom<=f)&&(n.top>f||(c?n.left:n.right)>o)}function ta(n,o,f,c,h){h-=eo(o);var y=ai(n,o),C=no(o),b=0,S=o.text.length,T=!0,$=Ut(o,n.doc.direction);if($){var J=(n.options.lineWrapping?tu:uc)(n,o,f,y,$,c,h);b=(T=1!=J.level)?J.from:J.to-1,S=T?J.to:J.from-1}var De,Me,he=null,ce=null,ye=Je(function(Xe){var Ye=Tn(n,y,Xe);return Ye.top+=C,Ye.bottom+=C,!!Gt(Ye,c,h,!1)&&(Ye.top<=h&&Ye.left<=c&&(he=Xe,ce=Ye),!0)},b,S),ke=!1;if(ce){var Ne=c-ce.left<ce.right-c,Le=Ne==T;ye=he+(Le?0:1),Me=Le?"after":"before",De=Ne?ce.left:ce.right}else{!T&&(ye==S||ye==b)&&ye++,Me=0==ye?"after":ye==o.text.length?"before":Tn(n,y,ye-(T?1:0)).bottom+C<=h==T?"after":"before";var He=Br(n,M(f,ye,Me),"line",o,y);De=He.left,ke=h<He.top?-1:h>=He.bottom?1:0}return eu(f,ye=je(o.text,ye,1),Me,ke,c-De)}function uc(n,o,f,c,h,y,C){var b=Je(function(J){var he=h[J],ce=1!=he.level;return Gt(Br(n,M(f,ce?he.to:he.from,ce?"before":"after"),"line",o,c),y,C,!0)},0,h.length-1),S=h[b];if(b>0){var T=1!=S.level,$=Br(n,M(f,T?S.from:S.to,T?"after":"before"),"line",o,c);Gt($,y,C,!0)&&$.top>C&&(S=h[b-1])}return S}function tu(n,o,f,c,h,y,C){var b=bn(n,o,c,C),S=b.begin,T=b.end;/\s/.test(o.text.charAt(T-1))&&T--;for(var $=null,J=null,he=0;he<h.length;he++){var ce=h[he];if(!(ce.from>=T||ce.to<=S)){var De=Tn(n,c,1!=ce.level?Math.min(T,ce.to)-1:Math.max(S,ce.from)).right,Me=De<y?y-De+1e9:De-y;(!$||J>Me)&&($=ce,J=Me)}}return $||($=h[h.length-1]),$.from<S&&($={from:S,to:$.to,level:$.level}),$.to>T&&($={from:$.from,to:T,level:$.level}),$}function Eo(n){if(null!=n.cachedTextHeight)return n.cachedTextHeight;if(null==Ti){Ti=F("pre",null,"CodeMirror-line-like");for(var o=0;o<49;++o)Ti.appendChild(document.createTextNode("x")),Ti.appendChild(F("br"));Ti.appendChild(document.createTextNode("x"))}me(n.measure,Ti);var f=Ti.offsetHeight/50;return f>3&&(n.cachedTextHeight=f),de(n.measure),f||1}function Mo(n){if(null!=n.cachedCharWidth)return n.cachedCharWidth;var o=F("span","xxxxxxxxxx"),f=F("pre",[o],"CodeMirror-line-like");me(n.measure,f);var c=o.getBoundingClientRect(),h=(c.right-c.left)/10;return h>2&&(n.cachedCharWidth=h),h||10}function ls(n){for(var o=n.display,f={},c={},h=o.gutters.clientLeft,y=o.gutters.firstChild,C=0;y;y=y.nextSibling,++C){var b=n.display.gutterSpecs[C].className;f[b]=y.offsetLeft+y.clientLeft+h,c[b]=y.clientWidth}return{fixedPos:us(o),gutterTotalWidth:o.gutters.offsetWidth,gutterLeft:f,gutterWidth:c,wrapperWidth:o.wrapper.clientWidth}}function us(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function na(n){var o=Eo(n.display),f=n.options.lineWrapping,c=f&&Math.max(5,n.display.scroller.clientWidth/Mo(n.display)-3);return function(h){if(Ji(n.doc,h))return 0;var y=0;if(h.widgets)for(var C=0;C<h.widgets.length;C++)h.widgets[C].height&&(y+=h.widgets[C].height);return f?y+(Math.ceil(h.text.length/c)||1)*o:y+o}}function ra(n){var o=n.doc,f=na(n);o.iter(function(c){var h=f(c);h!=c.height&&Pn(c,h)})}function Qr(n,o,f,c){var h=n.display;if(!f&&"true"==Qn(o).getAttribute("cm-not-content"))return null;var y,C,b=h.lineSpace.getBoundingClientRect();try{y=o.clientX-b.left,C=o.clientY-b.top}catch{return null}var T,S=as(n,y,C);if(c&&S.xRel>0&&(T=$e(n.doc,S.line).text).length==S.ch){var $=ht(T,T.length,n.options.tabSize)-T.length;S=M(S.line,Math.max(0,Math.round((y-Qs(n.display).left)/Mo(n.display))-$))}return S}function ro(n,o){if(o>=n.display.viewTo||(o-=n.display.viewFrom)<0)return null;for(var f=n.display.view,c=0;c<f.length;c++)if((o-=f[c].size)<0)return c}function dn(n,o,f,c){null==o&&(o=n.doc.first),null==f&&(f=n.doc.first+n.doc.size),c||(c=0);var h=n.display;if(c&&f<h.viewTo&&(null==h.updateLineNumbers||h.updateLineNumbers>o)&&(h.updateLineNumbers=o),n.curOp.viewChanged=!0,o>=h.viewTo)Lr&&Gl(n.doc,o)<h.viewTo&&ui(n);else if(f<=h.viewFrom)Lr&&Bf(n.doc,f+c)>h.viewFrom?ui(n):(h.viewFrom+=c,h.viewTo+=c);else if(o<=h.viewFrom&&f>=h.viewTo)ui(n);else if(o<=h.viewFrom){var y=Qa(n,f,f+c,1);y?(h.view=h.view.slice(y.index),h.viewFrom=y.lineN,h.viewTo+=c):ui(n)}else if(f>=h.viewTo){var C=Qa(n,o,o,-1);C?(h.view=h.view.slice(0,C.index),h.viewTo=C.lineN):ui(n)}else{var b=Qa(n,o,o,-1),S=Qa(n,f,f+c,1);b&&S?(h.view=h.view.slice(0,b.index).concat(er(n,b.lineN,S.lineN)).concat(h.view.slice(S.index)),h.viewTo+=c):ui(n)}var T=h.externalMeasured;T&&(f<T.lineN?T.lineN+=c:o<T.lineN+T.size&&(h.externalMeasured=null))}function cr(n,o,f){n.curOp.viewChanged=!0;var c=n.display,h=n.display.externalMeasured;if(h&&o>=h.lineN&&o<h.lineN+h.size&&(c.externalMeasured=null),!(o<c.viewFrom||o>=c.viewTo)){var y=c.view[ro(n,o)];if(null!=y.node){var C=y.changes||(y.changes=[]);-1==ze(C,f)&&C.push(f)}}}function ui(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function Qa(n,o,f,c){var y,h=ro(n,o),C=n.display.view;if(!Lr||f==n.doc.first+n.doc.size)return{index:h,lineN:f};for(var b=n.display.viewFrom,S=0;S<h;S++)b+=C[S].size;if(b!=o){if(c>0){if(h==C.length-1)return null;y=b+C[h].size-o,h++}else y=b-o;o+=y,f+=y}for(;Gl(n.doc,f)!=f;){if(h==(c<0?0:C.length-1))return null;f+=c*C[h-(c<0?1:0)].size,h+=c}return{index:h,lineN:f}}function ia(n){for(var o=n.display.view,f=0,c=0;c<o.length;c++){var h=o[c];!h.hidden&&(!h.node||h.changes)&&++f}return f}function oa(n){n.display.input.showSelection(n.display.input.prepareSelection())}function cc(n,o){void 0===o&&(o=!0);var f=n.doc,c={},h=c.cursors=document.createDocumentFragment(),y=c.selection=document.createDocumentFragment(),C=n.options.$customCursor;C&&(o=!0);for(var b=0;b<f.sel.ranges.length;b++)if(o||b!=f.sel.primIndex){var S=f.sel.ranges[b];if(!(S.from().line>=n.display.viewTo||S.to().line<n.display.viewFrom)){var T=S.empty();if(C){var $=C(n,S);$&&fc(n,$,h)}else(T||n.options.showCursorWhenSelecting)&&fc(n,S.head,h);T||Ja(n,S,y)}}return c}function fc(n,o,f){var c=Br(n,o,"div",null,null,!n.options.singleCursorHeightPerLine),h=f.appendChild(F("div","\xa0","CodeMirror-cursor"));if(h.style.left=c.left+"px",h.style.top=c.top+"px",h.style.height=Math.max(0,c.bottom-c.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)){var y=ea(n,o,"div",null,null),C=y.right-y.left;h.style.width=(C>0?C:n.defaultCharWidth())+"px"}if(c.other){var b=f.appendChild(F("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));b.style.display="",b.style.left=c.other.left+"px",b.style.top=c.other.top+"px",b.style.height=.85*(c.other.bottom-c.other.top)+"px"}}function Xa(n,o){return n.top-o.top||n.left-o.left}function Ja(n,o,f){var c=n.display,h=n.doc,y=document.createDocumentFragment(),C=Qs(n.display),b=C.left,S=Math.max(c.sizerWidth,Xs(n)-c.sizer.offsetLeft)-C.right,T="ltr"==h.direction;function $(Le,He,Xe,Ye){He<0&&(He=0),He=Math.round(He),Ye=Math.round(Ye),y.appendChild(F("div",null,"CodeMirror-selected","position: absolute; left: "+Le+"px;\n                             top: "+He+"px; width: "+(Xe??S-Le)+"px;\n                             height: "+(Ye-He)+"px"))}function J(Le,He,Xe){var Pt,jt,Ye=$e(h,Le),yt=Ye.text.length;function Vt(Zt,On){return ea(n,M(Le,Zt),"div",Ye,On)}function xr(Zt,On,jn){var Mn=li(n,Ye,null,Zt),yn="ltr"==On==("after"==jn)?"left":"right";return Vt("after"==jn?Mn.begin:Mn.end-(/\s/.test(Ye.text.charAt(Mn.end-1))?2:1),yn)[yn]}var Un=Ut(Ye,h.direction);return function st(n,o,f,c){if(!n)return c(o,f,"ltr",0);for(var h=!1,y=0;y<n.length;++y){var C=n[y];(C.from<f&&C.to>o||o==f&&C.to==o)&&(c(Math.max(C.from,o),Math.min(C.to,f),1==C.level?"rtl":"ltr",y),h=!0)}h||c(o,f,"ltr")}(Un,He||0,Xe??yt,function(Zt,On,jn,Mn){var yn="ltr"==jn,tn=Vt(Zt,yn?"left":"right"),Wn=Vt(On-1,yn?"right":"left"),mo=null==He&&0==Zt,yo=null==Xe&&On==yt,Fn=0==Mn,Tr=!Un||Mn==Un.length-1;if(Wn.top-tn.top<=3){var Jr=(T?mo:yo)&&Fn?b:(yn?tn:Wn).left;$(Jr,tn.top,((T?yo:mo)&&Tr?S:(yn?Wn:tn).right)-Jr,tn.bottom)}else{var Go,Yn,Fs,Sl;yn?(Go=T&&mo&&Fn?b:tn.left,Yn=T?S:xr(Zt,jn,"before"),Fs=T?b:xr(On,jn,"after"),Sl=T&&yo&&Tr?S:Wn.right):(Go=T?xr(Zt,jn,"before"):b,Yn=!T&&mo&&Fn?S:tn.right,Fs=!T&&yo&&Tr?b:Wn.left,Sl=T?xr(On,jn,"after"):S),$(Go,tn.top,Yn-Go,tn.bottom),tn.bottom<Wn.top&&$(b,tn.bottom,null,Wn.top),$(Fs,Wn.top,Sl-Fs,Wn.bottom)}(!Pt||Xa(tn,Pt)<0)&&(Pt=tn),Xa(Wn,Pt)<0&&(Pt=Wn),(!jt||Xa(tn,jt)<0)&&(jt=tn),Xa(Wn,jt)<0&&(jt=Wn)}),{start:Pt,end:jt}}var he=o.from(),ce=o.to();if(he.line==ce.line)J(he.line,he.ch,ce.ch);else{var ye=$e(h,he.line),De=$e(h,ce.line),Me=Pr(ye)==Pr(De),ke=J(he.line,he.ch,Me?ye.text.length+1:null).end,Ne=J(ce.line,Me?0:null,ce.ch).start;Me&&(ke.top<Ne.top-2?($(ke.right,ke.top,null,ke.bottom),$(b,Ne.top,Ne.left,Ne.bottom)):$(ke.right,ke.top,Ne.left-ke.right,ke.bottom)),ke.bottom<Ne.top&&$(b,ke.bottom,null,Ne.top)}f.appendChild(y)}function el(n){if(n.state.focused){var o=n.display;clearInterval(o.blinker);var f=!0;o.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?o.blinker=setInterval(function(){n.hasFocus()||fs(n),o.cursorDiv.style.visibility=(f=!f)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(o.cursorDiv.style.visibility="hidden")}}function nu(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||ru(n))}function io(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&fs(n))},100)}function ru(n,o){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),"nocursor"!=n.options.readOnly&&(n.state.focused||(Ge(n,"focus",n,o),n.state.focused=!0,be(n.display.wrapper,"CodeMirror-focused"),!n.curOp&&n.display.selForContextMenu!=n.doc.sel&&(n.display.input.reset(),q&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),el(n))}function fs(n,o){n.state.delayingBlurEvent||(n.state.focused&&(Ge(n,"blur",n,o),n.state.focused=!1,ae(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function ci(n){for(var o=n.display,f=o.lineDiv.offsetTop,c=Math.max(0,o.scroller.getBoundingClientRect().top),h=o.lineDiv.getBoundingClientRect().top,y=0,C=0;C<o.view.length;C++){var b=o.view[C],S=n.options.lineWrapping,T=void 0,$=0;if(!b.hidden){if(h+=b.line.height,L&&V<8){var J=b.node.offsetTop+b.node.offsetHeight;T=J-f,f=J}else{var he=b.node.getBoundingClientRect();T=he.bottom-he.top,!S&&b.text.firstChild&&($=b.text.firstChild.getBoundingClientRect().right-he.left-1)}var ce=b.line.height-T;if((ce>.005||ce<-.005)&&(h<c&&(y-=ce),Pn(b.line,T),Wf(b.line),b.rest))for(var ye=0;ye<b.rest.length;ye++)Wf(b.rest[ye]);if($>n.display.sizerWidth){var De=Math.ceil($/Mo(n.display));De>n.display.maxLineLength&&(n.display.maxLineLength=De,n.display.maxLine=b.line,n.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(o.scroller.scrollTop+=y)}function Wf(n){if(n.widgets)for(var o=0;o<n.widgets.length;++o){var f=n.widgets[o],c=f.node.parentNode;c&&(f.height=c.offsetHeight)}}function Ai(n,o,f){var c=f&&null!=f.top?Math.max(0,f.top):n.scroller.scrollTop;c=Math.floor(c-Vr(n));var h=f&&null!=f.bottom?f.bottom:c+n.wrapper.clientHeight,y=qr(o,c),C=qr(o,h);if(f&&f.ensure){var b=f.ensure.from.line,S=f.ensure.to.line;b<y?(y=b,C=qr(o,eo($e(o,b))+n.wrapper.clientHeight)):Math.min(S,o.lastLine())>=C&&(y=qr(o,eo($e(o,S))-n.wrapper.clientHeight),C=S)}return{from:y,to:Math.max(C,y+1)}}function nl(n,o){var f=n.display,c=Eo(n.display);o.top<0&&(o.top=0);var h=n.curOp&&null!=n.curOp.scrollTop?n.curOp.scrollTop:f.scroller.scrollTop,y=ic(n),C={};o.bottom-o.top>y&&(o.bottom=o.top+y);var b=n.doc.height+_r(f),T=o.bottom>b-c;if(o.top<h)C.scrollTop=o.top<c?0:o.top;else if(o.bottom>h+y){var $=Math.min(o.top,(T?b:o.bottom)-y);$!=h&&(C.scrollTop=$)}var J=n.options.fixedGutter?0:f.gutters.offsetWidth,he=n.curOp&&null!=n.curOp.scrollLeft?n.curOp.scrollLeft:f.scroller.scrollLeft-J,ce=Xs(n)-f.gutters.offsetWidth,ye=o.right-o.left>ce;return ye&&(o.right=o.left+ce),o.left<10?C.scrollLeft=0:o.left<he?C.scrollLeft=Math.max(0,o.left+J-(ye?0:10)):o.right>ce+he-3&&(C.scrollLeft=o.right+(ye?0:10)-ce),C}function sa(n,o){null!=o&&(To(n),n.curOp.scrollTop=(n.curOp.scrollTop??n.doc.scrollTop)+o)}function xo(n){To(n);var o=n.getCursor();n.curOp.scrollToPos={from:o,to:o,margin:n.options.cursorScrollMargin}}function tr(n,o,f){(null!=o||null!=f)&&To(n),null!=o&&(n.curOp.scrollLeft=o),null!=f&&(n.curOp.scrollTop=f)}function To(n){var o=n.curOp.scrollToPos;o&&(n.curOp.scrollToPos=null,rl(n,Ka(n,o.from),Ka(n,o.to),o.margin))}function rl(n,o,f,c){var h=nl(n,{left:Math.min(o.left,f.left),top:Math.min(o.top,f.top)-c,right:Math.max(o.right,f.right),bottom:Math.max(o.bottom,f.bottom)+c});tr(n,h.scrollLeft,h.scrollTop)}function ds(n,o){Math.abs(n.doc.scrollTop-o)<2||(p||pc(n,{top:o}),aa(n,o,!0),p&&pc(n),ki(n,100))}function aa(n,o,f){o=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,o)),(n.display.scroller.scrollTop!=o||f)&&(n.doc.scrollTop=o,n.display.scrollbars.setScrollTop(o),n.display.scroller.scrollTop!=o&&(n.display.scroller.scrollTop=o))}function Xr(n,o,f,c){o=Math.max(0,Math.min(o,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),(!(f?o==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-o)<2)||c)&&(n.doc.scrollLeft=o,nt(n),n.display.scroller.scrollLeft!=o&&(n.display.scroller.scrollLeft=o),n.display.scrollbars.setScrollLeft(o))}function la(n){var o=n.display,f=o.gutters.offsetWidth,c=Math.round(n.doc.height+_r(n.display));return{clientHeight:o.scroller.clientHeight,viewHeight:o.wrapper.clientHeight,scrollWidth:o.scroller.scrollWidth,clientWidth:o.scroller.clientWidth,viewWidth:o.wrapper.clientWidth,barLeft:n.options.fixedGutter?f:0,docHeight:c,scrollHeight:c+Kr(n)+o.barHeight,nativeBarWidth:o.nativeBarWidth,gutterWidth:f}}var oo=function(n,o,f){this.cm=f;var c=this.vert=F("div",[F("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),h=this.horiz=F("div",[F("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=h.tabIndex=-1,n(c),n(h),et(c,"scroll",function(){c.clientHeight&&o(c.scrollTop,"vertical")}),et(h,"scroll",function(){h.clientWidth&&o(h.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,L&&V<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};oo.prototype.update=function(n){var o=n.scrollWidth>n.clientWidth+1,f=n.scrollHeight>n.clientHeight+1,c=n.nativeBarWidth;return f?(this.vert.style.display="block",this.vert.style.bottom=o?c+"px":"0",this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+(n.viewHeight-(o?c:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),o?(this.horiz.style.display="block",this.horiz.style.right=f?c+"px":"0",this.horiz.style.left=n.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+(n.viewWidth-n.barLeft-(f?c:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&n.clientHeight>0&&(0==c&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:f?c:0,bottom:o?c:0}},oo.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},oo.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},oo.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ne&&!Q?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Qe,this.disableVert=new Qe},oo.prototype.enableZeroWidthBar=function(n,o,f){n.style.visibility="",o.set(1e3,function c(){var h=n.getBoundingClientRect();("vert"==f?document.elementFromPoint(h.right-1,(h.top+h.bottom)/2):document.elementFromPoint((h.right+h.left)/2,h.bottom-1))!=n?n.style.visibility="hidden":o.set(1e3,c)})},oo.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var ua=function(){};function hs(n,o){o||(o=la(n));var f=n.display.barWidth,c=n.display.barHeight;il(n,o);for(var h=0;h<4&&f!=n.display.barWidth||c!=n.display.barHeight;h++)f!=n.display.barWidth&&n.options.lineWrapping&&ci(n),il(n,la(n)),f=n.display.barWidth,c=n.display.barHeight}function il(n,o){var f=n.display,c=f.scrollbars.update(o);f.sizer.style.paddingRight=(f.barWidth=c.right)+"px",f.sizer.style.paddingBottom=(f.barHeight=c.bottom)+"px",f.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(f.scrollbarFiller.style.display="block",f.scrollbarFiller.style.height=c.bottom+"px",f.scrollbarFiller.style.width=c.right+"px"):f.scrollbarFiller.style.display="",c.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(f.gutterFiller.style.display="block",f.gutterFiller.style.height=c.bottom+"px",f.gutterFiller.style.width=o.gutterWidth+"px"):f.gutterFiller.style.display=""}ua.prototype.update=function(){return{bottom:0,right:0}},ua.prototype.setScrollLeft=function(){},ua.prototype.setScrollTop=function(){},ua.prototype.clear=function(){};var Ii={native:oo,null:ua};function ca(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&ae(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new Ii[n.options.scrollbarStyle](function(o){n.display.wrapper.insertBefore(o,n.display.scrollbarFiller),et(o,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),o.setAttribute("cm-not-content","true")},function(o,f){"horizontal"==f?Xr(n,o):ds(n,o)},n),n.display.scrollbars.addClass&&be(n.display.wrapper,n.display.scrollbars.addClass)}var fa=0;function Oi(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++fa,markArrays:null},function Ga(n){Ks?Ks.ops.push(n):n.ownsGroup=Ks={ops:[n],delayedCallbacks:[]}}(n.curOp)}function Fi(n){var o=n.curOp;o&&function to(n,o){var f=n.ownsGroup;if(f)try{!function jf(n){var o=n.delayedCallbacks,f=0;do{for(;f<o.length;f++)o[f].call(null);for(var c=0;c<n.ops.length;c++){var h=n.ops[c];if(h.cursorActivityHandlers)for(;h.cursorActivityCalled<h.cursorActivityHandlers.length;)h.cursorActivityHandlers[h.cursorActivityCalled++].call(null,h.cm)}}while(f<o.length)}(f)}finally{Ks=null,o(f)}}(o,function(f){for(var c=0;c<f.ops.length;c++)f.ops[c].cm.curOp=null;!function Zf(n){for(var o=n.ops,f=0;f<o.length;f++)da(o[f]);for(var c=0;c<o.length;c++)Ih(o[c]);for(var h=0;h<o.length;h++)dc(o[h]);for(var y=0;y<o.length;y++)hc(o[y]);for(var C=0;C<o.length;C++)Oh(o[C])}(f)})}function da(n){var o=n.cm,f=o.display;(function pa(n){var o=n.display;!o.scrollbarsClipped&&o.scroller.offsetWidth&&(o.nativeBarWidth=o.scroller.offsetWidth-o.scroller.clientWidth,o.heightForcer.style.height=Kr(n)+"px",o.sizer.style.marginBottom=-o.nativeBarWidth+"px",o.sizer.style.borderRightWidth=Kr(n)+"px",o.scrollbarsClipped=!0)})(o),n.updateMaxLine&&Yl(o),n.mustUpdate=n.viewChanged||n.forceUpdate||null!=n.scrollTop||n.scrollToPos&&(n.scrollToPos.from.line<f.viewFrom||n.scrollToPos.to.line>=f.viewTo)||f.maxLineChanged&&o.options.lineWrapping,n.update=n.mustUpdate&&new ha(o,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function Ih(n){n.updatedDisplay=n.mustUpdate&&Lt(n.cm,n.update)}function dc(n){var o=n.cm,f=o.display;n.updatedDisplay&&ci(o),n.barMeasure=la(o),f.maxLineChanged&&!o.options.lineWrapping&&(n.adjustWidthTo=Mi(o,f.maxLine,f.maxLine.text.length).left+3,o.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(f.scroller.clientWidth,f.sizer.offsetLeft+n.adjustWidthTo+Kr(o)+o.display.barWidth),n.maxScrollLeft=Math.max(0,f.sizer.offsetLeft+n.adjustWidthTo-Xs(o))),(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=f.input.prepareSelection())}function hc(n){var o=n.cm;null!=n.adjustWidthTo&&(o.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<o.doc.scrollLeft&&Xr(o,Math.min(o.display.scroller.scrollLeft,n.maxScrollLeft),!0),o.display.maxLineChanged=!1);var f=n.focus&&n.focus==Ee(ft(o));n.preparedSelection&&o.display.input.showSelection(n.preparedSelection,f),(n.updatedDisplay||n.startHeight!=o.doc.height)&&hs(o,n.barMeasure),n.updatedDisplay&&Ao(o,n.barMeasure),n.selectionChanged&&el(o),o.state.focused&&n.updateInput&&o.display.input.reset(n.typing),f&&nu(n.cm)}function Oh(n){var o=n.cm,f=o.display,c=o.doc;n.updatedDisplay&&kh(o,n.update),null!=f.wheelStartX&&(null!=n.scrollTop||null!=n.scrollLeft||n.scrollToPos)&&(f.wheelStartX=f.wheelStartY=null),null!=n.scrollTop&&aa(o,n.scrollTop,n.forceScroll),null!=n.scrollLeft&&Xr(o,n.scrollLeft,!0,!0),n.scrollToPos&&function iu(n,o){if(!on(n,"scrollCursorIntoView")){var f=n.display,c=f.sizer.getBoundingClientRect(),h=null,y=f.wrapper.ownerDocument;if(o.top+c.top<0?h=!0:o.bottom+c.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(h=!1),null!=h&&!B){var C=F("div","\u200b",null,"position: absolute;\n                         top: "+(o.top-f.viewOffset-Vr(n.display))+"px;\n                         height: "+(o.bottom-o.top+Kr(n)+f.barHeight)+"px;\n                         left: "+o.left+"px; width: "+Math.max(2,o.right-o.left)+"px;");n.display.lineSpace.appendChild(C),C.scrollIntoView(h),n.display.lineSpace.removeChild(C)}}}(o,function tl(n,o,f,c){var h;null==c&&(c=0),!n.options.lineWrapping&&o==f&&(f="before"==o.sticky?M(o.line,o.ch+1,"before"):o,o=o.ch?M(o.line,"before"==o.sticky?o.ch-1:o.ch,"after"):o);for(var y=0;y<5;y++){var C=!1,b=Br(n,o),S=f&&f!=o?Br(n,f):b,T=nl(n,h={left:Math.min(b.left,S.left),top:Math.min(b.top,S.top)-c,right:Math.max(b.left,S.left),bottom:Math.max(b.bottom,S.bottom)+c}),$=n.doc.scrollTop,J=n.doc.scrollLeft;if(null!=T.scrollTop&&(ds(n,T.scrollTop),Math.abs(n.doc.scrollTop-$)>1&&(C=!0)),null!=T.scrollLeft&&(Xr(n,T.scrollLeft),Math.abs(n.doc.scrollLeft-J)>1&&(C=!0)),!C)break}return h}(o,Oe(c,n.scrollToPos.from),Oe(c,n.scrollToPos.to),n.scrollToPos.margin));var y=n.maybeHiddenMarkers,C=n.maybeUnhiddenMarkers;if(y)for(var b=0;b<y.length;++b)y[b].lines.length||Ge(y[b],"hide");if(C)for(var S=0;S<C.length;++S)C[S].lines.length&&Ge(C[S],"unhide");f.wrapper.offsetHeight&&(c.scrollTop=o.display.scroller.scrollTop),n.changeObjs&&Ge(o,"changes",o,n.changeObjs),n.update&&n.update.finish()}function fr(n,o){if(n.curOp)return o();Oi(n);try{return o()}finally{Fi(n)}}function pn(n,o){return function(){if(n.curOp)return o.apply(n,arguments);Oi(n);try{return o.apply(n,arguments)}finally{Fi(n)}}}function gn(n){return function(){if(this.curOp)return n.apply(this,arguments);Oi(this);try{return n.apply(this,arguments)}finally{Fi(this)}}}function qt(n){return function(){var o=this.cm;if(!o||o.curOp)return n.apply(this,arguments);Oi(o);try{return n.apply(this,arguments)}finally{Fi(o)}}}function ki(n,o){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(o,It(Kf,n))}function Kf(n){var o=n.doc;if(!(o.highlightFrontier>=n.display.viewTo)){var f=+new Date+n.options.workTime,c=si(n,o.highlightFrontier),h=[];o.iter(c.line,Math.min(o.first+o.size,n.display.viewTo+500),function(y){if(c.line>=n.display.viewFrom){var C=y.styles,b=y.text.length>n.options.maxHighlightLength?Ot(o.mode,c.state):null,S=rs(n,y,c,!0);b&&(c.state=b),y.styles=S.styles;var T=y.styleClasses,$=S.classes;$?y.styleClasses=$:T&&(y.styleClasses=null);for(var J=!C||C.length!=y.styles.length||T!=$&&(!T||!$||T.bgClass!=$.bgClass||T.textClass!=$.textClass),he=0;!J&&he<C.length;++he)J=C[he]!=y.styles[he];J&&h.push(c.line),y.stateAfter=c.save(),c.nextLine()}else y.text.length<=n.options.maxHighlightLength&&Dn(n,y.text,c),y.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>f)return ki(n,n.options.workDelay),!0}),o.highlightFrontier=c.line,o.modeFrontier=Math.max(o.modeFrontier,c.line),h.length&&fr(n,function(){for(var y=0;y<h.length;y++)cr(n,h[y],"text")})}}var ha=function(n,o,f){var c=n.display;this.viewport=o,this.visible=Ai(c,n.doc,o),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=Xs(n),this.force=f,this.dims=ls(n),this.events=[]};function Lt(n,o){var f=n.display,c=n.doc;if(o.editorIsHidden)return ui(n),!1;if(!o.force&&o.visible.from>=f.viewFrom&&o.visible.to<=f.viewTo&&(null==f.updateLineNumbers||f.updateLineNumbers>=f.viewTo)&&f.renderedView==f.view&&0==ia(n))return!1;Cr(n)&&(ui(n),o.dims=ls(n));var h=c.first+c.size,y=Math.max(o.visible.from-n.options.viewportMargin,c.first),C=Math.min(h,o.visible.to+n.options.viewportMargin);f.viewFrom<y&&y-f.viewFrom<20&&(y=Math.max(c.first,f.viewFrom)),f.viewTo>C&&f.viewTo-C<20&&(C=Math.min(h,f.viewTo)),Lr&&(y=Gl(n.doc,y),C=Bf(n.doc,C));var b=y!=f.viewFrom||C!=f.viewTo||f.lastWrapHeight!=o.wrapperHeight||f.lastWrapWidth!=o.wrapperWidth;(function cs(n,o,f){var c=n.display;0==c.view.length||o>=c.viewTo||f<=c.viewFrom?(c.view=er(n,o,f),c.viewFrom=o):(c.viewFrom>o?c.view=er(n,o,c.viewFrom).concat(c.view):c.viewFrom<o&&(c.view=c.view.slice(ro(n,o))),c.viewFrom=o,c.viewTo<f?c.view=c.view.concat(er(n,c.viewTo,f)):c.viewTo>f&&(c.view=c.view.slice(0,ro(n,f)))),c.viewTo=f})(n,y,C),f.viewOffset=eo($e(n.doc,f.viewFrom)),n.display.mover.style.top=f.viewOffset+"px";var S=ia(n);if(!b&&0==S&&!o.force&&f.renderedView==f.view&&(null==f.updateLineNumbers||f.updateLineNumbers>=f.viewTo))return!1;var T=function pg(n){if(n.hasFocus())return null;var o=Ee(ft(n));if(!o||!fe(n.display.lineDiv,o))return null;var f={activeElt:o};if(window.getSelection){var c=rt(n).getSelection();c.anchorNode&&c.extend&&fe(n.display.lineDiv,c.anchorNode)&&(f.anchorNode=c.anchorNode,f.anchorOffset=c.anchorOffset,f.focusNode=c.focusNode,f.focusOffset=c.focusOffset)}return f}(n);return S>4&&(f.lineDiv.style.display="none"),function gg(n,o,f){var c=n.display,h=n.options.lineNumbers,y=c.lineDiv,C=y.firstChild;function b(ye){var De=ye.nextSibling;return q&&ne&&n.display.currentWheelTarget==ye?ye.style.display="none":ye.parentNode.removeChild(ye),De}for(var S=c.view,T=c.viewFrom,$=0;$<S.length;$++){var J=S[$];if(!J.hidden)if(J.node&&J.node.parentNode==y){for(;C!=J.node;)C=b(C);var ce=h&&null!=o&&o<=T&&J.lineNumber;J.changes&&(ze(J.changes,"gutter")>-1&&(ce=!1),nc(n,J,T,f)),ce&&(de(J.lineNumber),J.lineNumber.appendChild(document.createTextNode(bi(n.options,T)))),C=J.node.nextSibling}else{var he=xe(n,J,T,f);y.insertBefore(he,C)}T+=J.size}for(;C;)C=b(C)}(n,f.updateLineNumbers,o.dims),S>4&&(f.lineDiv.style.display=""),f.renderedView=f.view,function Fh(n){if(n&&n.activeElt&&n.activeElt!=Ee(n.activeElt.ownerDocument)&&(n.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(n.activeElt.nodeName)&&n.anchorNode&&fe(document.body,n.anchorNode)&&fe(document.body,n.focusNode))){var o=n.activeElt.ownerDocument,f=o.defaultView.getSelection(),c=o.createRange();c.setEnd(n.anchorNode,n.anchorOffset),c.collapse(!1),f.removeAllRanges(),f.addRange(c),f.extend(n.focusNode,n.focusOffset)}}(T),de(f.cursorDiv),de(f.selectionDiv),f.gutters.style.height=f.sizer.style.minHeight=0,b&&(f.lastWrapHeight=o.wrapperHeight,f.lastWrapWidth=o.wrapperWidth,ki(n,400)),f.updateLineNumbers=null,!0}function kh(n,o){for(var f=o.viewport,c=!0;;c=!1){if(c&&n.options.lineWrapping&&o.oldDisplayWidth!=Xs(n))c&&(o.visible=Ai(n.display,n.doc,f));else if(f&&null!=f.top&&(f={top:Math.min(n.doc.height+_r(n.display)-ic(n),f.top)}),o.visible=Ai(n.display,n.doc,f),o.visible.from>=n.display.viewFrom&&o.visible.to<=n.display.viewTo)break;if(!Lt(n,o))break;ci(n);var h=la(n);oa(n),hs(n,h),Ao(n,h),o.force=!1}o.signal(n,"update",n),(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)&&(o.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function pc(n,o){var f=new ha(n,o);if(Lt(n,f)){ci(n),kh(n,f);var c=la(n);oa(n),hs(n,c),Ao(n,c),f.finish()}}function vn(n){n.sizer.style.marginLeft=n.gutters.offsetWidth+"px",fn(n,"gutterChanged",n)}function Ao(n,o){n.display.sizer.style.minHeight=o.docHeight+"px",n.display.heightForcer.style.top=o.docHeight+"px",n.display.gutters.style.height=o.docHeight+n.display.barHeight+Kr(n)+"px"}function nt(n){var o=n.display,f=o.view;if(o.alignWidgets||o.gutters.firstChild&&n.options.fixedGutter){for(var c=us(o)-o.scroller.scrollLeft+n.doc.scrollLeft,h=o.gutters.offsetWidth,y=c+"px",C=0;C<f.length;C++)if(!f[C].hidden){n.options.fixedGutter&&(f[C].gutter&&(f[C].gutter.style.left=y),f[C].gutterBackground&&(f[C].gutterBackground.style.left=y));var b=f[C].alignable;if(b)for(var S=0;S<b.length;S++)b[S].style.left=y}n.options.fixedGutter&&(o.gutters.style.left=c+h+"px")}}function Cr(n){if(!n.options.lineNumbers)return!1;var o=n.doc,f=bi(n.options,o.first+o.size-1),c=n.display;if(f.length!=c.lineNumChars){var h=c.measure.appendChild(F("div",[F("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=h.firstChild.offsetWidth,C=h.offsetWidth-y;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(y,c.lineGutter.offsetWidth-C)+1,c.lineNumWidth=c.lineNumInnerWidth+C,c.lineNumChars=c.lineNumInnerWidth?f.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",vn(n.display),!0}return!1}function Io(n,o){for(var f=[],c=!1,h=0;h<n.length;h++){var y=n[h],C=null;if("string"!=typeof y&&(C=y.style,y=y.className),"CodeMirror-linenumbers"==y){if(!o)continue;c=!0}f.push({className:y,style:C})}return o&&!c&&f.push({className:"CodeMirror-linenumbers",style:null}),f}function ol(n){var o=n.gutters,f=n.gutterSpecs;de(o),n.lineGutter=null;for(var c=0;c<f.length;++c){var h=f[c],y=h.className,C=h.style,b=o.appendChild(F("div",null,"CodeMirror-gutter "+y));C&&(b.style.cssText=C),"CodeMirror-linenumbers"==y&&(n.lineGutter=b,b.style.width=(n.lineNumWidth||1)+"px")}o.style.display=f.length?"":"none",vn(n)}function Li(n){ol(n.display),dn(n),nt(n)}function Sn(n,o,f,c){var h=this;this.input=f,h.scrollbarFiller=F("div",null,"CodeMirror-scrollbar-filler"),h.scrollbarFiller.setAttribute("cm-not-content","true"),h.gutterFiller=F("div",null,"CodeMirror-gutter-filler"),h.gutterFiller.setAttribute("cm-not-content","true"),h.lineDiv=ee("div",null,"CodeMirror-code"),h.selectionDiv=F("div",null,null,"position: relative; z-index: 1"),h.cursorDiv=F("div",null,"CodeMirror-cursors"),h.measure=F("div",null,"CodeMirror-measure"),h.lineMeasure=F("div",null,"CodeMirror-measure"),h.lineSpace=ee("div",[h.measure,h.lineMeasure,h.selectionDiv,h.cursorDiv,h.lineDiv],null,"position: relative; outline: none");var y=ee("div",[h.lineSpace],"CodeMirror-lines");h.mover=F("div",[y],null,"position: relative"),h.sizer=F("div",[h.mover],"CodeMirror-sizer"),h.sizerWidth=null,h.heightForcer=F("div",null,null,"position: absolute; height: 50px; width: 1px;"),h.gutters=F("div",null,"CodeMirror-gutters"),h.lineGutter=null,h.scroller=F("div",[h.sizer,h.heightForcer,h.gutters],"CodeMirror-scroll"),h.scroller.setAttribute("tabIndex","-1"),h.wrapper=F("div",[h.scrollbarFiller,h.gutterFiller,h.scroller],"CodeMirror"),h.wrapper.setAttribute("translate","no"),L&&V<8&&(h.gutters.style.zIndex=-1,h.scroller.style.paddingRight=0),!q&&!(p&&H)&&(h.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(h.wrapper):n(h.wrapper)),h.viewFrom=h.viewTo=o.first,h.reportedViewFrom=h.reportedViewTo=o.first,h.view=[],h.renderedView=null,h.externalMeasured=null,h.viewOffset=0,h.lastWrapHeight=h.lastWrapWidth=0,h.updateLineNumbers=null,h.nativeBarWidth=h.barHeight=h.barWidth=0,h.scrollbarsClipped=!1,h.lineNumWidth=h.lineNumInnerWidth=h.lineNumChars=null,h.alignWidgets=!1,h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.maxLine=null,h.maxLineLength=0,h.maxLineChanged=!1,h.wheelDX=h.wheelDY=h.wheelStartX=h.wheelStartY=null,h.shift=!1,h.selForContextMenu=null,h.activeTouch=null,h.gutterSpecs=Io(c.gutters,c.lineNumbers),ol(h),f.init(h)}ha.prototype.signal=function(n,o){un(n,o)&&this.events.push(arguments)},ha.prototype.finish=function(){for(var n=0;n<this.events.length;n++)Ge.apply(null,this.events[n])};var ps=0,wr=null;function Qf(n){var o=n.wheelDeltaX,f=n.wheelDeltaY;return null==o&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(o=n.detail),null==f&&n.detail&&n.axis==n.VERTICAL_AXIS?f=n.detail:null==f&&(f=n.wheelDelta),{x:o,y:f}}function gc(n){var o=Qf(n);return o.x*=wr,o.y*=wr,o}function dr(n,o){A&&102==k&&(null==n.display.chromeScrollHack?n.display.sizer.style.pointerEvents="none":clearTimeout(n.display.chromeScrollHack),n.display.chromeScrollHack=setTimeout(function(){n.display.chromeScrollHack=null,n.display.sizer.style.pointerEvents=""},100));var f=Qf(o),c=f.x,h=f.y,y=wr;0===o.deltaMode&&(c=o.deltaX,h=o.deltaY,y=1);var C=n.display,b=C.scroller,T=b.scrollHeight>b.clientHeight;if(c&&b.scrollWidth>b.clientWidth||h&&T){if(h&&ne&&q)e:for(var $=o.target,J=C.view;$!=b;$=$.parentNode)for(var he=0;he<J.length;he++)if(J[he].node==$){n.display.currentWheelTarget=$;break e}if(c&&!p&&!N&&null!=y)return h&&T&&ds(n,Math.max(0,b.scrollTop+h*y)),Xr(n,Math.max(0,b.scrollLeft+c*y)),(!h||h&&T)&&sn(o),void(C.wheelStartX=null);if(h&&null!=y){var ce=h*y,ye=n.doc.scrollTop,De=ye+C.wrapper.clientHeight;ce<0?ye=Math.max(0,ye+ce-50):De=Math.min(n.doc.height,De+ce+50),pc(n,{top:ye,bottom:De})}ps<20&&0!==o.deltaMode&&(null==C.wheelStartX?(C.wheelStartX=b.scrollLeft,C.wheelStartY=b.scrollTop,C.wheelDX=c,C.wheelDY=h,setTimeout(function(){if(null!=C.wheelStartX){var Me=b.scrollLeft-C.wheelStartX,ke=b.scrollTop-C.wheelStartY,Ne=ke&&C.wheelDY&&ke/C.wheelDY||Me&&C.wheelDX&&Me/C.wheelDX;C.wheelStartX=C.wheelStartY=null,Ne&&(wr=(wr*ps+Ne)/(ps+1),++ps)}},200)):(C.wheelDX+=c,C.wheelDY+=h))}}L?wr=-.53:p?wr=15:A?wr=-.7:Z&&(wr=-1/3);var Wt=function(n,o){this.ranges=n,this.primIndex=o};Wt.prototype.primary=function(){return this.ranges[this.primIndex]},Wt.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var o=0;o<this.ranges.length;o++){var f=this.ranges[o],c=n.ranges[o];if(!Ce(f.anchor,c.anchor)||!Ce(f.head,c.head))return!1}return!0},Wt.prototype.deepCopy=function(){for(var n=[],o=0;o<this.ranges.length;o++)n[o]=new We(Ae(this.ranges[o].anchor),Ae(this.ranges[o].head));return new Wt(n,this.primIndex)},Wt.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},Wt.prototype.contains=function(n,o){o||(o=n);for(var f=0;f<this.ranges.length;f++){var c=this.ranges[f];if(U(o,c.from())>=0&&U(n,c.to())<=0)return f}return-1};var We=function(n,o){this.anchor=n,this.head=o};function hr(n,o,f){var c=n&&n.options.selectionsMayTouch,h=o[f];o.sort(function(he,ce){return U(he.from(),ce.from())}),f=ze(o,h);for(var y=1;y<o.length;y++){var C=o[y],b=o[y-1],S=U(b.to(),C.from());if(c&&!C.empty()?S>0:S>=0){var T=pt(b.from(),C.from()),$=Ke(b.to(),C.to()),J=b.empty()?C.from()==C.head:b.from()==b.head;y<=f&&--f,o.splice(--y,2,new We(J?$:T,J?T:$))}}return new Wt(o,f)}function Hr(n,o){return new Wt([new We(n,o||n)],0)}function fi(n){return n.text?M(n.from.line+n.text.length-1,mt(n.text).length+(1==n.text.length?n.from.ch:0)):n.to}function ou(n,o){if(U(n,o.from)<0)return n;if(U(n,o.to)<=0)return fi(o);var f=n.line+o.text.length-(o.to.line-o.from.line)-1,c=n.ch;return n.line==o.to.line&&(c+=fi(o).ch-o.to.ch),M(f,c)}function Rn(n,o){for(var f=[],c=0;c<n.sel.ranges.length;c++){var h=n.sel.ranges[c];f.push(new We(ou(h.anchor,o),ou(h.head,o)))}return hr(n.cm,f,n.sel.primIndex)}function Xf(n,o,f){return n.line==o.line?M(f.line,n.ch-o.ch+f.ch):M(f.line+(n.line-o.line),n.ch)}function sl(n){n.doc.mode=cn(n.options,n.doc.modeOption),An(n)}function An(n){n.doc.iter(function(o){o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,ki(n,100),n.state.modeGen++,n.curOp&&dn(n)}function so(n,o){return 0==o.from.ch&&0==o.to.ch&&""==mt(o.text)&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function ao(n,o,f,c){function h(Ne){return f?f[Ne]:null}function y(Ne,Le,He){(function $a(n,o,f,c){n.text=o,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),null!=n.order&&(n.order=null),Vf(n),Qu(n,f);var h=c?c(n):1;h!=n.height&&Pn(n,h)})(Ne,Le,He,c),fn(Ne,"change",Ne,o)}function C(Ne,Le){for(var He=[],Xe=Ne;Xe<Le;++Xe)He.push(new Nn(T[Xe],h(Xe),c));return He}var b=o.from,S=o.to,T=o.text,$=$e(n,b.line),J=$e(n,S.line),he=mt(T),ce=h(T.length-1),ye=S.line-b.line;if(o.full)n.insert(0,C(0,T.length)),n.remove(T.length,n.size-T.length);else if(so(n,o)){var De=C(0,T.length-1);y(J,J.text,ce),ye&&n.remove(b.line,ye),De.length&&n.insert(b.line,De)}else if($==J)if(1==T.length)y($,$.text.slice(0,b.ch)+he+$.text.slice(S.ch),ce);else{var Me=C(1,T.length-1);Me.push(new Nn(he+$.text.slice(S.ch),ce,c)),y($,$.text.slice(0,b.ch)+T[0],h(0)),n.insert(b.line+1,Me)}else if(1==T.length)y($,$.text.slice(0,b.ch)+T[0]+J.text.slice(S.ch),h(0)),n.remove(b.line+1,ye);else{y($,$.text.slice(0,b.ch)+T[0],h(0)),y(J,he+J.text.slice(S.ch),ce);var ke=C(1,T.length-1);ye>1&&n.remove(b.line+1,ye-1),n.insert(b.line+1,ke)}fn(n,"change",n,o)}function Pi(n,o,f){!function c(h,y,C){if(h.linked)for(var b=0;b<h.linked.length;++b){var S=h.linked[b];if(S.doc!=y){var T=C&&S.sharedHist;f&&!T||(o(S.doc,T),c(S.doc,h,T))}}}(n,null,!0)}function gs(n,o){if(o.cm)throw new Error("This document is already in use.");n.doc=o,o.cm=n,ra(n),sl(n),su(n),n.options.direction=o.direction,n.options.lineWrapping||Yl(n),n.options.mode=o.modeOption,dn(n)}function su(n){("rtl"==n.doc.direction?be:ae)(n.display.lineDiv,"CodeMirror-rtl")}function vs(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function Oo(n,o){var f={from:Ae(o.from),to:fi(o),text:Ft(n,o.from,o.to)};return br(n,f,o.from.line,o.to.line+1),Pi(n,function(c){return br(c,f,o.from.line,o.to.line+1)},!0),f}function lo(n){for(;n.length&&mt(n).ranges;)n.pop()}function Vn(n,o,f,c){var h=n.history;h.undone.length=0;var C,b,y=+new Date;if((h.lastOp==c||h.lastOrigin==o.origin&&o.origin&&("+"==o.origin.charAt(0)&&h.lastModTime>y-(n.cm?n.cm.options.historyEventDelay:500)||"*"==o.origin.charAt(0)))&&(C=function vc(n,o){return o?(lo(n.done),mt(n.done)):n.done.length&&!mt(n.done).ranges?mt(n.done):n.done.length>1&&!n.done[n.done.length-2].ranges?(n.done.pop(),mt(n.done)):void 0}(h,h.lastOp==c)))b=mt(C.changes),0==U(o.from,o.to)&&0==U(o.from,b.to)?b.to=fi(o):C.changes.push(Oo(n,o));else{var S=mt(h.done);for((!S||!S.ranges)&&Dr(n.sel,h.done),C={changes:[Oo(n,o)],generation:h.generation},h.done.push(C);h.done.length>h.undoDepth;)h.done.shift(),h.done[0].ranges||h.done.shift()}h.done.push(f),h.generation=++h.maxGeneration,h.lastModTime=h.lastSelTime=y,h.lastOp=h.lastSelOp=c,h.lastOrigin=h.lastSelOrigin=o.origin,b||Ge(n,"historyAdded")}function td(n,o,f,c){var h=n.history,y=c&&c.origin;f==h.lastSelOp||y&&h.lastSelOrigin==y&&(h.lastModTime==h.lastSelTime&&h.lastOrigin==y||function ms(n,o,f,c){var h=o.charAt(0);return"*"==h||"+"==h&&f.ranges.length==c.ranges.length&&f.somethingSelected()==c.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}(n,y,mt(h.done),o))?h.done[h.done.length-1]=o:Dr(o,h.done),h.lastSelTime=+new Date,h.lastSelOrigin=y,h.lastSelOp=f,c&&!1!==c.clearRedo&&lo(h.undone)}function Dr(n,o){var f=mt(o);f&&f.ranges&&f.equals(n)||o.push(n)}function br(n,o,f,c){var h=o["spans_"+n.id],y=0;n.iter(Math.max(n.first,f),Math.min(n.first+n.size,c),function(C){C.markedSpans&&((h||(h=o["spans_"+n.id]={}))[y]=C.markedSpans),++y})}function uo(n){if(!n)return null;for(var o,f=0;f<n.length;++f)n[f].marker.explicitlyCleared?o||(o=n.slice(0,f)):o&&o.push(n[f]);return o?o.length?o:null:n}function Ni(n,o){var f=function nd(n,o){var f=o["spans_"+n.id];if(!f)return null;for(var c=[],h=0;h<o.text.length;++h)c.push(uo(f[h]));return c}(n,o),c=Ku(n,o);if(!f)return c;if(!c)return f;for(var h=0;h<f.length;++h){var y=f[h],C=c[h];if(y&&C)e:for(var b=0;b<C.length;++b){for(var S=C[b],T=0;T<y.length;++T)if(y[T].marker==S.marker)continue e;y.push(S)}else C&&(f[h]=C)}return f}function mn(n,o,f){for(var c=[],h=0;h<n.length;++h){var y=n[h];if(y.ranges)c.push(f?Wt.prototype.deepCopy.call(y):y);else{var C=y.changes,b=[];c.push({changes:b});for(var S=0;S<C.length;++S){var T=C[S],$=void 0;if(b.push({from:T.from,to:T.to,text:T.text}),o)for(var J in T)($=J.match(/^spans_(\d+)$/))&&ze(o,Number($[1]))>-1&&(mt(b)[J]=T[J],delete T[J])}}}return c}function Fo(n,o,f,c){if(c){var h=n.anchor;if(f){var y=U(o,h)<0;y!=U(f,h)<0?(h=o,o=f):y!=U(o,f)<0&&(o=f)}return new We(h,o)}return new We(f||o,o)}function Ri(n,o,f,c,h){null==h&&(h=n.cm&&(n.cm.display.shift||n.extend)),En(n,new Wt([Fo(n.sel.primary(),o,f,h)],0),c)}function ko(n,o,f){for(var c=[],h=n.cm&&(n.cm.display.shift||n.extend),y=0;y<n.sel.ranges.length;y++)c[y]=Fo(n.sel.ranges[y],o[y],null,h);En(n,hr(n.cm,c,n.sel.primIndex),f)}function di(n,o,f,c){var h=n.sel.ranges.slice(0);h[o]=f,En(n,hr(n.cm,h,n.sel.primIndex),c)}function Nt(n,o,f,c){En(n,Hr(o,f),c)}function hi(n,o,f){var c=n.history.done,h=mt(c);h&&h.ranges?(c[c.length-1]=o,Vi(n,o,f)):En(n,o,f)}function En(n,o,f){Vi(n,o,f),td(n,n.sel,n.cm?n.cm.curOp.id:NaN,f)}function Vi(n,o,f){(un(n,"beforeSelectionChange")||n.cm&&un(n.cm,"beforeSelectionChange"))&&(o=function Bn(n,o,f){var c={ranges:o.ranges,update:function(h){this.ranges=[];for(var y=0;y<h.length;y++)this.ranges[y]=new We(Oe(n,h[y].anchor),Oe(n,h[y].head))},origin:f&&f.origin};return Ge(n,"beforeSelectionChange",n,c),n.cm&&Ge(n.cm,"beforeSelectionChange",n.cm,c),c.ranges!=o.ranges?hr(n.cm,c.ranges,c.ranges.length-1):o}(n,o,f));var c=f&&f.bias||(U(o.primary().head,n.sel.primary().head)<0?-1:1);al(n,mc(n,o,c,!0)),(!f||!1!==f.scroll)&&n.cm&&"nocursor"!=n.cm.getOption("readOnly")&&xo(n.cm)}function al(n,o){o.equals(n.sel)||(n.sel=o,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,ri(n.cm)),fn(n,"cursorActivity",n))}function au(n){al(n,mc(n,n.sel,null,!1))}function mc(n,o,f,c){for(var h,y=0;y<o.ranges.length;y++){var C=o.ranges[y],b=o.ranges.length==n.sel.ranges.length&&n.sel.ranges[y],S=pi(n,C.anchor,b&&b.anchor,f,c),T=C.head==C.anchor?S:pi(n,C.head,b&&b.head,f,c);(h||S!=C.anchor||T!=C.head)&&(h||(h=o.ranges.slice(0,y)),h[y]=new We(S,T))}return h?hr(n.cm,h,o.primIndex):o}function co(n,o,f,c,h){var y=$e(n,o.line);if(y.markedSpans)for(var C=0;C<y.markedSpans.length;++C){var b=y.markedSpans[C],S=b.marker,T="selectLeft"in S?!S.selectLeft:S.inclusiveLeft,$="selectRight"in S?!S.selectRight:S.inclusiveRight;if((null==b.from||(T?b.from<=o.ch:b.from<o.ch))&&(null==b.to||($?b.to>=o.ch:b.to>o.ch))){if(h&&(Ge(S,"beforeCursorEnter"),S.explicitlyCleared)){if(y.markedSpans){--C;continue}break}if(!S.atomic)continue;if(f){var J=S.find(c<0?1:-1),he=void 0;if((c<0?$:T)&&(J=Ct(n,J,-c,J&&J.line==o.line?y:null)),J&&J.line==o.line&&(he=U(J,f))&&(c<0?he<0:he>0))return co(n,J,o,c,h)}var ce=S.find(c<0?-1:1);return(c<0?T:$)&&(ce=Ct(n,ce,c,ce.line==o.line?y:null)),ce?co(n,ce,o,c,h):null}}return o}function pi(n,o,f,c,h){var y=c||1;return co(n,o,f,y,h)||!h&&co(n,o,f,y,!0)||co(n,o,f,-y,h)||!h&&co(n,o,f,-y,!0)||(n.cantEdit=!0,M(n.first,0))}function Ct(n,o,f,c){return f<0&&0==o.ch?o.line>n.first?Oe(n,M(o.line-1)):null:f>0&&o.ch==(c||$e(n,o.line)).text.length?o.line<n.first+n.size-1?M(o.line+1,0):null:new M(o.line,o.ch+f)}function gi(n){n.setSelection(M(n.firstLine(),0),M(n.lastLine()),wt)}function yc(n,o,f){var c={canceled:!1,from:o.from,to:o.to,text:o.text,origin:o.origin,cancel:function(){return c.canceled=!0}};return f&&(c.update=function(h,y,C,b){h&&(c.from=Oe(n,h)),y&&(c.to=Oe(n,y)),C&&(c.text=C),void 0!==b&&(c.origin=b)}),Ge(n,"beforeChange",n,c),n.cm&&Ge(n.cm,"beforeChange",n.cm,c),c.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function Ur(n,o,f){if(n.cm){if(!n.cm.curOp)return pn(n.cm,Ur)(n,o,f);if(n.cm.state.suppressEdits)return}if(!(un(n,"beforeChange")||n.cm&&un(n.cm,"beforeChange"))||(o=yc(n,o,!0))){var c=Pf&&!f&&function bh(n,o,f){var c=null;if(n.iter(o.line,f.line+1,function(ce){if(ce.markedSpans)for(var ye=0;ye<ce.markedSpans.length;++ye){var De=ce.markedSpans[ye].marker;De.readOnly&&(!c||-1==ze(c,De))&&(c||(c=[])).push(De)}}),!c)return null;for(var h=[{from:o,to:f}],y=0;y<c.length;++y)for(var C=c[y],b=C.find(0),S=0;S<h.length;++S){var T=h[S];if(!(U(T.to,b.from)<0||U(T.from,b.to)>0)){var $=[S,1],J=U(T.from,b.from),he=U(T.to,b.to);(J<0||!C.inclusiveLeft&&!J)&&$.push({from:T.from,to:b.from}),(he>0||!C.inclusiveRight&&!he)&&$.push({from:b.to,to:T.to}),h.splice.apply(h,$),S+=$.length-3}}return h}(n,o.from,o.to);if(c)for(var h=c.length-1;h>=0;--h)ys(n,{from:c[h].from,to:c[h].to,text:h?[""]:o.text,origin:o.origin});else ys(n,o)}}function ys(n,o){if(1!=o.text.length||""!=o.text[0]||0!=U(o.from,o.to)){var f=Rn(n,o);Vn(n,o,f,n.cm?n.cm.curOp.id:NaN),_s(n,o,f,Ku(n,o));var c=[];Pi(n,function(h,y){!y&&-1==ze(c,h.history)&&(fo(h.history,o),c.push(h.history)),_s(h,o,null,Ku(h,o))})}}function Lo(n,o,f){var c=n.cm&&n.cm.state.suppressEdits;if(!c||f){for(var y,h=n.history,C=n.sel,b="undo"==o?h.done:h.undone,S="undo"==o?h.undone:h.done,T=0;T<b.length&&(y=b[T],!(f?y.ranges&&!y.equals(n.sel):!y.ranges));T++);if(T!=b.length){for(h.lastOrigin=h.lastSelOrigin=null;;){if(!(y=b.pop()).ranges){if(c)return void b.push(y);break}if(Dr(y,S),f&&!y.equals(n.sel))return void En(n,y,{clearRedo:!1});C=y}var $=[];Dr(C,S),S.push({changes:$,generation:h.generation}),h.generation=y.generation||++h.maxGeneration;for(var J=un(n,"beforeChange")||n.cm&&un(n.cm,"beforeChange"),he=function(De){var Me=y.changes[De];if(Me.origin=o,J&&!yc(n,Me,!1))return b.length=0,{};$.push(Oo(n,Me));var ke=De?Rn(n,Me):mt(b);_s(n,Me,ke,Ni(n,Me)),!De&&n.cm&&n.cm.scrollIntoView({from:Me.from,to:fi(Me)});var Ne=[];Pi(n,function(Le,He){!He&&-1==ze(Ne,Le.history)&&(fo(Le.history,Me),Ne.push(Le.history)),_s(Le,Me,null,Ni(Le,Me))})},ce=y.changes.length-1;ce>=0;--ce){var ye=he(ce);if(ye)return ye.v}}}}function jr(n,o){if(0!=o&&(n.first+=o,n.sel=new Wt(ir(n.sel.ranges,function(h){return new We(M(h.anchor.line+o,h.anchor.ch),M(h.head.line+o,h.head.ch))}),n.sel.primIndex),n.cm)){dn(n.cm,n.first,n.first-o,o);for(var f=n.cm.display,c=f.viewFrom;c<f.viewTo;c++)cr(n.cm,c,"gutter")}}function _s(n,o,f,c){if(n.cm&&!n.cm.curOp)return pn(n.cm,_s)(n,o,f,c);if(o.to.line<n.first)jr(n,o.text.length-1-(o.to.line-o.from.line));else if(!(o.from.line>n.lastLine())){if(o.from.line<n.first){var h=o.text.length-1-(n.first-o.from.line);jr(n,h),o={from:M(n.first,0),to:M(o.to.line+h,o.to.ch),text:[mt(o.text)],origin:o.origin}}var y=n.lastLine();o.to.line>y&&(o={from:o.from,to:M(y,$e(n,y).text.length),text:[o.text[0]],origin:o.origin}),o.removed=Ft(n,o.from,o.to),f||(f=Rn(n,o)),n.cm?function _c(n,o,f){var c=n.doc,h=n.display,y=o.from,C=o.to,b=!1,S=y.line;n.options.lineWrapping||(S=Ue(Pr($e(c,y.line))),c.iter(S,C.line+1,function(ce){if(ce==h.maxLine)return b=!0,!0})),c.sel.contains(o.from,o.to)>-1&&ri(n),ao(c,o,f,na(n)),n.options.lineWrapping||(c.iter(S,y.line+o.text.length,function(ce){var ye=Zs(ce);ye>h.maxLineLength&&(h.maxLine=ce,h.maxLineLength=ye,h.maxLineChanged=!0,b=!1)}),b&&(n.curOp.updateMaxLine=!0)),function Lf(n,o){if(n.modeFrontier=Math.min(n.modeFrontier,o),!(n.highlightFrontier<o-10)){for(var f=n.first,c=o-1;c>f;c--){var h=$e(n,c).stateAfter;if(h&&(!(h instanceof Si)||c+h.lookAhead<o)){f=c+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,f)}}(c,y.line),ki(n,400);var T=o.text.length-(C.line-y.line)-1;o.full?dn(n):y.line!=C.line||1!=o.text.length||so(n.doc,o)?dn(n,y.line,C.line+1,T):cr(n,y.line,"text");var $=un(n,"changes"),J=un(n,"change");if(J||$){var he={from:y,to:C,text:o.text,removed:o.removed,origin:o.origin};J&&fn(n,"change",n,he),$&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(he)}n.display.selForContextMenu=null}(n.cm,o,c):ao(n,o,c),Vi(n,f,wt),n.cantEdit&&pi(n,M(n.firstLine(),0))&&(n.cantEdit=!1)}}function zr(n,o,f,c,h){var y;c||(c=f),U(c,f)<0&&(f=(y=[c,f])[0],c=y[1]),"string"==typeof o&&(o=n.splitLines(o)),Ur(n,{from:f,to:c,text:o,origin:h})}function ga(n,o,f,c){f<n.line?n.line+=c:o<n.line&&(n.line=o,n.ch=0)}function In(n,o,f,c){for(var h=0;h<n.length;++h){var y=n[h],C=!0;if(y.ranges){y.copied||((y=n[h]=y.deepCopy()).copied=!0);for(var b=0;b<y.ranges.length;b++)ga(y.ranges[b].anchor,o,f,c),ga(y.ranges[b].head,o,f,c)}else{for(var S=0;S<y.changes.length;++S){var T=y.changes[S];if(f<T.from.line)T.from=M(T.from.line+c,T.from.ch),T.to=M(T.to.line+c,T.to.ch);else if(o<=T.to.line){C=!1;break}}C||(n.splice(0,h+1),h=0)}}}function fo(n,o){var f=o.from.line,c=o.to.line,h=o.text.length-(c-f)-1;In(n.done,f,c,h),In(n.undone,f,c,h)}function ho(n,o,f,c){var h=o,y=o;return"number"==typeof o?y=$e(n,kt(n,o)):h=Ue(o),null==h?null:(c(y,h)&&n.cm&&cr(n.cm,h,f),y)}function va(n){this.lines=n,this.parent=null;for(var o=0,f=0;f<n.length;++f)n[f].parent=this,o+=n[f].height;this.height=o}function ll(n){this.children=n;for(var o=0,f=0,c=0;c<n.length;++c){var h=n[c];o+=h.chunkSize(),f+=h.height,h.parent=this}this.size=o,this.height=f,this.parent=null}We.prototype.from=function(){return pt(this.anchor,this.head)},We.prototype.to=function(){return Ke(this.anchor,this.head)},We.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},va.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,o){for(var f=n,c=n+o;f<c;++f){var h=this.lines[f];this.height-=h.height,Hf(h),fn(h,"delete")}this.lines.splice(n,o)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,o,f){this.height+=f,this.lines=this.lines.slice(0,n).concat(o).concat(this.lines.slice(n));for(var c=0;c<o.length;++c)o[c].parent=this},iterN:function(n,o,f){for(var c=n+o;n<c;++n)if(f(this.lines[n]))return!0}},ll.prototype={chunkSize:function(){return this.size},removeInner:function(n,o){this.size-=o;for(var f=0;f<this.children.length;++f){var c=this.children[f],h=c.chunkSize();if(n<h){var y=Math.min(o,h-n),C=c.height;if(c.removeInner(n,y),this.height-=C-c.height,h==y&&(this.children.splice(f--,1),c.parent=null),0==(o-=y))break;n=0}else n-=h}if(this.size-o<25&&(this.children.length>1||!(this.children[0]instanceof va))){var b=[];this.collapse(b),this.children=[new va(b)],this.children[0].parent=this}},collapse:function(n){for(var o=0;o<this.children.length;++o)this.children[o].collapse(n)},insertInner:function(n,o,f){this.size+=o.length,this.height+=f;for(var c=0;c<this.children.length;++c){var h=this.children[c],y=h.chunkSize();if(n<=y){if(h.insertInner(n,o,f),h.lines&&h.lines.length>50){for(var C=h.lines.length%25+25,b=C;b<h.lines.length;){var S=new va(h.lines.slice(b,b+=25));h.height-=S.height,this.children.splice(++c,0,S),S.parent=this}h.lines=h.lines.slice(0,C),this.maybeSpill()}break}n-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var n=this;do{var f=new ll(n.children.splice(n.children.length-5,5));if(n.parent){n.size-=f.size,n.height-=f.height;var h=ze(n.parent.children,n);n.parent.children.splice(h+1,0,f)}else{var c=new ll(n.children);c.parent=n,n.children=[c,f],n=c}f.parent=n.parent}while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,o,f){for(var c=0;c<this.children.length;++c){var h=this.children[c],y=h.chunkSize();if(n<y){var C=Math.min(o,y-n);if(h.iterN(n,C,f))return!0;if(0==(o-=C))break;n=0}else n-=y}}};var Cs=function(n,o,f){if(f)for(var c in f)f.hasOwnProperty(c)&&(this[c]=f[c]);this.doc=n,this.node=o};function lu(n,o,f){eo(o)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&sa(n,f)}Cs.prototype.clear=function(){var n=this.doc.cm,o=this.line.widgets,f=this.line,c=Ue(f);if(null!=c&&o){for(var h=0;h<o.length;++h)o[h]==this&&o.splice(h--,1);o.length||(f.widgets=null);var y=Jt(this);Pn(f,Math.max(0,f.height-y)),n&&(fr(n,function(){lu(n,f,-y),cr(n,c,"widget")}),fn(n,"lineWidgetCleared",n,this,c))}},Cs.prototype.changed=function(){var n=this,o=this.height,f=this.doc.cm,c=this.line;this.height=null;var h=Jt(this)-o;!h||(Ji(this.doc,c)||Pn(c,c.height+h),f&&fr(f,function(){f.curOp.forceUpdate=!0,lu(f,c,h),fn(f,"lineWidgetChanged",f,n,Ue(c))}))},_t(Cs);var ws=0,Bi=function(n,o){this.lines=[],this.type=o,this.doc=n,this.id=++ws};function Po(n,o,f,c,h){if(c&&c.shared)return function uu(n,o,f,c,h){(c=nn(c)).shared=!1;var y=[Po(n,o,f,c,h)],C=y[0],b=c.widgetNode;return Pi(n,function(S){b&&(c.widgetNode=b.cloneNode(!0)),y.push(Po(S,Oe(S,o),Oe(S,f),c,h));for(var T=0;T<S.linked.length;++T)if(S.linked[T].isParent)return;C=mt(y)}),new No(y,C)}(n,o,f,c,h);if(n.cm&&!n.cm.curOp)return pn(n.cm,Po)(n,o,f,c,h);var y=new Bi(n,h),C=U(o,f);if(c&&nn(c,y,!1),C>0||0==C&&!1!==y.clearWhenEmpty)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=ee("span",[y.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(Xi(n,o.line,o,f,y)||o.line!=f.line&&Xi(n,f.line,o,f,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function yh(){Lr=!0}()}y.addToHistory&&Vn(n,{from:o,to:f,origin:"markText"},n.sel,NaN);var T,b=o.line,S=n.cm;if(n.iter(b,f.line+1,function(J){S&&y.collapsed&&!S.options.lineWrapping&&Pr(J)==S.display.maxLine&&(T=!0),y.collapsed&&b!=o.line&&Pn(J,0),function Ch(n,o,f){var c=f&&window.WeakSet&&(f.markedSpans||(f.markedSpans=new WeakSet));c&&n.markedSpans&&c.has(n.markedSpans)?n.markedSpans.push(o):(n.markedSpans=n.markedSpans?n.markedSpans.concat([o]):[o],c&&c.add(n.markedSpans)),o.marker.attachLine(n)}(J,new Bl(y,b==o.line?o.ch:null,b==f.line?f.ch:null),n.cm&&n.cm.curOp),++b}),y.collapsed&&n.iter(o.line,f.line+1,function(J){Ji(n,J)&&Pn(J,0)}),y.clearOnEnter&&et(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(function Nf(){Pf=!0}(),(n.history.done.length||n.history.undone.length)&&n.clearHistory()),y.collapsed&&(y.id=++ws,y.atomic=!0),S){if(T&&(S.curOp.updateMaxLine=!0),y.collapsed)dn(S,o.line,f.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var $=o.line;$<=f.line;$++)cr(S,$,"text");y.atomic&&au(S.doc),fn(S,"markerAdded",S,y)}return y}Bi.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,o=n&&!n.curOp;if(o&&Oi(n),un(this,"clear")){var f=this.find();f&&fn(this,"clear",f.from,f.to)}for(var c=null,h=null,y=0;y<this.lines.length;++y){var C=this.lines[y],b=ja(C.markedSpans,this);n&&!this.collapsed?cr(n,Ue(C),"text"):n&&(null!=b.to&&(h=Ue(C)),null!=b.from&&(c=Ue(C))),C.markedSpans=_h(C.markedSpans,b),null==b.from&&this.collapsed&&!Ji(this.doc,C)&&n&&Pn(C,Eo(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var S=0;S<this.lines.length;++S){var T=Pr(this.lines[S]),$=Zs(T);$>n.display.maxLineLength&&(n.display.maxLine=T,n.display.maxLineLength=$,n.display.maxLineChanged=!0)}null!=c&&n&&this.collapsed&&dn(n,c,h+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&au(n.doc)),n&&fn(n,"markerCleared",n,this,c,h),o&&Fi(n),this.parent&&this.parent.clear()}},Bi.prototype.find=function(n,o){null==n&&"bookmark"==this.type&&(n=1);for(var f,c,h=0;h<this.lines.length;++h){var y=this.lines[h],C=ja(y.markedSpans,this);if(null!=C.from&&(f=M(o?y:Ue(y),C.from),-1==n))return f;if(null!=C.to&&(c=M(o?y:Ue(y),C.to),1==n))return c}return f&&{from:f,to:c}},Bi.prototype.changed=function(){var n=this,o=this.find(-1,!0),f=this,c=this.doc.cm;!o||!c||fr(c,function(){var h=o.line,y=Ue(o.line),C=qa(c,y);if(C&&(Ql(C),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!Ji(f.doc,h)&&null!=f.height){var b=f.height;f.height=null;var S=Jt(f)-b;S&&Pn(h,h.height+S)}fn(c,"markerChanged",c,n)})},Bi.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(!o.maybeHiddenMarkers||-1==ze(o.maybeHiddenMarkers,this))&&(o.maybeUnhiddenMarkers||(o.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},Bi.prototype.detachLine=function(n){if(this.lines.splice(ze(this.lines,n),1),!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(o.maybeHiddenMarkers||(o.maybeHiddenMarkers=[])).push(this)}},_t(Bi);var No=function(n,o){this.markers=n,this.primary=o;for(var f=0;f<n.length;++f)n[f].parent=this};function Hi(n){return n.findMarks(M(n.first,0),n.clipPos(M(n.lastLine())),function(o){return o.parent})}function Ro(n){for(var o=function(c){var h=n[c],y=[h.primary.doc];Pi(h.primary.doc,function(S){return y.push(S)});for(var C=0;C<h.markers.length;C++){var b=h.markers[C];-1==ze(y,b.doc)&&(b.parent=null,h.markers.splice(C--,1))}},f=0;f<n.length;f++)o(f)}No.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();fn(this,"clear")}},No.prototype.find=function(n,o){return this.primary.find(n,o)},_t(No);var id=0,an=function(n,o,f,c,h){if(!(this instanceof an))return new an(n,o,f,c,h);null==f&&(f=0),ll.call(this,[new va([new Nn("",null)])]),this.first=f,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=f;var y=M(f,0);this.sel=Hr(y),this.history=new vs(null),this.id=++id,this.modeOption=o,this.lineSep=c,this.direction="rtl"==h?"rtl":"ltr",this.extend=!1,"string"==typeof n&&(n=this.splitLines(n)),ao(this,{from:y,to:y,text:n}),En(this,Hr(y),wt)};an.prototype=So(ll.prototype,{constructor:an,iter:function(n,o,f){f?this.iterN(n-this.first,o-n,f):this.iterN(this.first,this.first+this.size,n)},insert:function(n,o){for(var f=0,c=0;c<o.length;++c)f+=o[c].height;this.insertInner(n-this.first,o,f)},remove:function(n,o){this.removeInner(n-this.first,o)},getValue:function(n){var o=yr(this,this.first,this.first+this.size);return!1===n?o:o.join(n||this.lineSeparator())},setValue:qt(function(n){var o=M(this.first,0),f=this.first+this.size-1;Ur(this,{from:o,to:M(f,$e(this,f).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&tr(this.cm,0,0),En(this,Hr(o),wt)}),replaceRange:function(n,o,f,c){zr(this,n,o=Oe(this,o),f=f?Oe(this,f):o,c)},getRange:function(n,o,f){var c=Ft(this,Oe(this,n),Oe(this,o));return!1===f?c:c.join(""===f?"":f||this.lineSeparator())},getLine:function(n){var o=this.getLineHandle(n);return o&&o.text},getLineHandle:function(n){if(Or(this,n))return $e(this,n)},getLineNumber:function(n){return Ue(n)},getLineHandleVisualStart:function(n){return"number"==typeof n&&(n=$e(this,n)),Pr(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return Oe(this,n)},getCursor:function(n){var o=this.sel.primary();return null==n||"head"==n?o.head:"anchor"==n?o.anchor:"end"==n||"to"==n||!1===n?o.to():o.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qt(function(n,o,f){Nt(this,Oe(this,"number"==typeof n?M(n,o||0):n),null,f)}),setSelection:qt(function(n,o,f){Nt(this,Oe(this,n),Oe(this,o||n),f)}),extendSelection:qt(function(n,o,f){Ri(this,Oe(this,n),o&&Oe(this,o),f)}),extendSelections:qt(function(n,o){ko(this,Ws(this,n),o)}),extendSelectionsBy:qt(function(n,o){ko(this,Ws(this,ir(this.sel.ranges,n)),o)}),setSelections:qt(function(n,o,f){if(n.length){for(var c=[],h=0;h<n.length;h++)c[h]=new We(Oe(this,n[h].anchor),Oe(this,n[h].head||n[h].anchor));null==o&&(o=Math.min(n.length-1,this.sel.primIndex)),En(this,hr(this.cm,c,o),f)}}),addSelection:qt(function(n,o,f){var c=this.sel.ranges.slice(0);c.push(new We(Oe(this,n),Oe(this,o||n))),En(this,hr(this.cm,c,c.length-1),f)}),getSelection:function(n){for(var f,o=this.sel.ranges,c=0;c<o.length;c++){var h=Ft(this,o[c].from(),o[c].to());f=f?f.concat(h):h}return!1===n?f:f.join(n||this.lineSeparator())},getSelections:function(n){for(var o=[],f=this.sel.ranges,c=0;c<f.length;c++){var h=Ft(this,f[c].from(),f[c].to());!1!==n&&(h=h.join(n||this.lineSeparator())),o[c]=h}return o},replaceSelection:function(n,o,f){for(var c=[],h=0;h<this.sel.ranges.length;h++)c[h]=n;this.replaceSelections(c,o,f||"+input")},replaceSelections:qt(function(n,o,f){for(var c=[],h=this.sel,y=0;y<h.ranges.length;y++){var C=h.ranges[y];c[y]={from:C.from(),to:C.to(),text:this.splitLines(n[y]),origin:f}}for(var b=o&&"end"!=o&&function Jf(n,o,f){for(var c=[],h=M(n.first,0),y=h,C=0;C<o.length;C++){var b=o[C],S=Xf(b.from,h,y),T=Xf(fi(b),h,y);if(h=b.to,y=T,"around"==f){var $=n.sel.ranges[C],J=U($.head,$.anchor)<0;c[C]=new We(J?T:S,J?S:T)}else c[C]=new We(S,S)}return new Wt(c,n.sel.primIndex)}(this,c,o),S=c.length-1;S>=0;S--)Ur(this,c[S]);b?hi(this,b):this.cm&&xo(this.cm)}),undo:qt(function(){Lo(this,"undo")}),redo:qt(function(){Lo(this,"redo")}),undoSelection:qt(function(){Lo(this,"undo",!0)}),redoSelection:qt(function(){Lo(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,o=0,f=0,c=0;c<n.done.length;c++)n.done[c].ranges||++o;for(var h=0;h<n.undone.length;h++)n.undone[h].ranges||++f;return{undo:o,redo:f}},clearHistory:function(){var n=this;this.history=new vs(this.history),Pi(this,function(o){return o.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:mn(this.history.done),undone:mn(this.history.undone)}},setHistory:function(n){var o=this.history=new vs(this.history);o.done=mn(n.done.slice(0),null,!0),o.undone=mn(n.undone.slice(0),null,!0)},setGutterMarker:qt(function(n,o,f){return ho(this,n,"gutter",function(c){var h=c.gutterMarkers||(c.gutterMarkers={});return h[o]=f,!f&&ns(h)&&(c.gutterMarkers=null),!0})}),clearGutter:qt(function(n){var o=this;this.iter(function(f){f.gutterMarkers&&f.gutterMarkers[n]&&ho(o,f,"gutter",function(){return f.gutterMarkers[n]=null,ns(f.gutterMarkers)&&(f.gutterMarkers=null),!0})})}),lineInfo:function(n){var o;if("number"==typeof n){if(!(Or(this,n)&&(o=n,n=$e(this,n))))return null}else if(null==(o=Ue(n)))return null;return{line:o,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:qt(function(n,o,f){return ho(this,n,"gutter"==o?"gutter":"class",function(c){var h="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass";if(c[h]){if(pe(f).test(c[h]))return!1;c[h]+=" "+f}else c[h]=f;return!0})}),removeLineClass:qt(function(n,o,f){return ho(this,n,"gutter"==o?"gutter":"class",function(c){var h="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",y=c[h];if(!y)return!1;if(null==f)c[h]=null;else{var C=y.match(pe(f));if(!C)return!1;var b=C.index+C[0].length;c[h]=y.slice(0,C.index)+(C.index&&b!=y.length?" ":"")+y.slice(b)||null}return!0})}),addLineWidget:qt(function(n,o,f){return function rd(n,o,f,c){var h=new Cs(n,f,c),y=n.cm;return y&&h.noHScroll&&(y.display.alignWidgets=!0),ho(n,o,"widget",function(C){var b=C.widgets||(C.widgets=[]);if(null==h.insertAt?b.push(h):b.splice(Math.min(b.length,Math.max(0,h.insertAt)),0,h),h.line=C,y&&!Ji(n,C)){var S=eo(C)<n.scrollTop;Pn(C,C.height+Jt(h)),S&&sa(y,h.height),y.curOp.forceUpdate=!0}return!0}),y&&fn(y,"lineWidgetAdded",y,h,"number"==typeof o?o:Ue(o)),h}(this,n,o,f)}),removeLineWidget:function(n){n.clear()},markText:function(n,o,f){return Po(this,Oe(this,n),Oe(this,o),f,f&&f.type||"range")},setBookmark:function(n,o){var f={replacedWith:o&&(null==o.nodeType?o.widget:o),insertLeft:o&&o.insertLeft,clearWhenEmpty:!1,shared:o&&o.shared,handleMouseEvents:o&&o.handleMouseEvents};return Po(this,n=Oe(this,n),n,f,"bookmark")},findMarksAt:function(n){var o=[],f=$e(this,(n=Oe(this,n)).line).markedSpans;if(f)for(var c=0;c<f.length;++c){var h=f[c];(null==h.from||h.from<=n.ch)&&(null==h.to||h.to>=n.ch)&&o.push(h.marker.parent||h.marker)}return o},findMarks:function(n,o,f){n=Oe(this,n),o=Oe(this,o);var c=[],h=n.line;return this.iter(n.line,o.line+1,function(y){var C=y.markedSpans;if(C)for(var b=0;b<C.length;b++){var S=C[b];!(null!=S.to&&h==n.line&&n.ch>=S.to||null==S.from&&h!=n.line||null!=S.from&&h==o.line&&S.from>=o.ch)&&(!f||f(S.marker))&&c.push(S.marker.parent||S.marker)}++h}),c},getAllMarks:function(){var n=[];return this.iter(function(o){var f=o.markedSpans;if(f)for(var c=0;c<f.length;++c)null!=f[c].from&&n.push(f[c].marker)}),n},posFromIndex:function(n){var o,f=this.first,c=this.lineSeparator().length;return this.iter(function(h){var y=h.text.length+c;if(y>n)return o=n,!0;n-=y,++f}),Oe(this,M(f,o))},indexFromPos:function(n){var o=(n=Oe(this,n)).ch;if(n.line<this.first||n.ch<0)return 0;var f=this.lineSeparator().length;return this.iter(this.first,n.line,function(c){o+=c.text.length+f}),o},copy:function(n){var o=new an(yr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return o.scrollTop=this.scrollTop,o.scrollLeft=this.scrollLeft,o.sel=this.sel,o.extend=!1,n&&(o.history.undoDepth=this.history.undoDepth,o.setHistory(this.getHistory())),o},linkedDoc:function(n){n||(n={});var o=this.first,f=this.first+this.size;null!=n.from&&n.from>o&&(o=n.from),null!=n.to&&n.to<f&&(f=n.to);var c=new an(yr(this,o,f),n.mode||this.modeOption,o,this.lineSep,this.direction);return n.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:n.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],function Et(n,o){for(var f=0;f<o.length;f++){var c=o[f],h=c.find(),y=n.clipPos(h.from),C=n.clipPos(h.to);if(U(y,C)){var b=Po(n,y,C,c.primary,c.primary.type);c.markers.push(b),b.parent=c}}}(c,Hi(this)),c},unlinkDoc:function(n){if(n instanceof Rt&&(n=n.doc),this.linked)for(var o=0;o<this.linked.length;++o)if(this.linked[o].doc==n){this.linked.splice(o,1),n.unlinkDoc(this),Ro(Hi(this));break}if(n.history==this.history){var c=[n.id];Pi(n,function(h){return c.push(h.id)},!0),n.history=new vs(null),n.history.done=mn(this.history.done,c),n.history.undone=mn(this.history.undone,c)}},iterLinkedDocs:function(n){Pi(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):wi(n)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:qt(function(n){"rtl"!=n&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(o){return o.order=null}),this.cm&&function ed(n){fr(n,function(){su(n),dn(n)})}(this.cm))})}),an.prototype.eachLine=an.prototype.iter;var ma=0;function ul(n){var o=this;if(ya(o),!on(o,n)&&!Rr(o.display,n)){sn(n),L&&(ma=+new Date);var f=Qr(o,n,!0),c=n.dataTransfer.files;if(f&&!o.isReadOnly())if(c&&c.length&&window.FileReader&&window.File)for(var h=c.length,y=Array(h),C=0,b=function(){++C==h&&pn(o,function(){var ce={from:f=Oe(o.doc,f),to:f,text:o.doc.splitLines(y.filter(function(ye){return null!=ye}).join(o.doc.lineSeparator())),origin:"paste"};Ur(o.doc,ce),hi(o.doc,Hr(Oe(o.doc,f),Oe(o.doc,fi(ce))))})()},S=function(ce,ye){if(o.options.allowDropFileTypes&&-1==ze(o.options.allowDropFileTypes,ce.type))b();else{var De=new FileReader;De.onerror=function(){return b()},De.onload=function(){var Me=De.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Me)||(y[ye]=Me),b()},De.readAsText(ce)}},T=0;T<c.length;T++)S(c[T],T);else{if(o.state.draggingText&&o.doc.sel.contains(f)>-1)return o.state.draggingText(n),void setTimeout(function(){return o.display.input.focus()},20);try{var $=n.dataTransfer.getData("Text");if($){var J;if(o.state.draggingText&&!o.state.draggingText.copy&&(J=o.listSelections()),Vi(o.doc,Hr(f,f)),J)for(var he=0;he<J.length;++he)zr(o.doc,"",J[he].anchor,J[he].head,"drag");o.replaceSelection($,"around","paste"),o.display.input.focus()}}catch{}}}}function ya(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function _a(n){if(document.getElementsByClassName){for(var o=document.getElementsByClassName("CodeMirror"),f=[],c=0;c<o.length;c++){var h=o[c].CodeMirror;h&&f.push(h)}f.length&&f[0].operation(function(){for(var y=0;y<f.length;y++)n(f[y])})}}var Ds=!1;function bs(){Ds||(function Cc(){var n;et(window,"resize",function(){null==n&&(n=setTimeout(function(){n=null,_a(cl)},100))}),et(window,"blur",function(){return _a(fs)})}(),Ds=!0)}function cl(n){var o=n.display;o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.scrollbarsClipped=!1,n.setSize()}for(var $r={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vo=0;Vo<10;Vo++)$r[Vo+48]=$r[Vo+96]=String(Vo);for(var Ca=65;Ca<=90;Ca++)$r[Ca]=String.fromCharCode(Ca);for(var wa=1;wa<=12;wa++)$r[wa+111]=$r[wa+63235]="F"+wa;var Ui={};function sd(n){var o=n.split(/-(?!$)/);n=o[o.length-1];for(var f,c,h,y,C=0;C<o.length-1;C++){var b=o[C];if(/^(cmd|meta|m)$/i.test(b))y=!0;else if(/^a(lt)?$/i.test(b))f=!0;else if(/^(c|ctrl|control)$/i.test(b))c=!0;else{if(!/^s(hift)?$/i.test(b))throw new Error("Unrecognized modifier name: "+b);h=!0}}return f&&(n="Alt-"+n),c&&(n="Ctrl-"+n),y&&(n="Cmd-"+n),h&&(n="Shift-"+n),n}function fl(n){var o={};for(var f in n)if(n.hasOwnProperty(f)){var c=n[f];if(/^(name|fallthrough|(de|at)tach)$/.test(f))continue;if("..."==c){delete n[f];continue}for(var h=ir(f.split(" "),sd),y=0;y<h.length;y++){var C=void 0,b=void 0;y==h.length-1?(b=h.join(" "),C=c):(b=h.slice(0,y+1).join(" "),C="...");var S=o[b];if(S){if(S!=C)throw new Error("Inconsistent bindings for "+b)}else o[b]=C}delete n[f]}for(var T in o)n[T]=o[T];return n}function Sr(n,o,f,c){var h=(o=cu(o)).call?o.call(n,c):o[n];if(!1===h)return"nothing";if("..."===h)return"multi";if(null!=h&&f(h))return"handled";if(o.fallthrough){if("[object Array]"!=Object.prototype.toString.call(o.fallthrough))return Sr(n,o.fallthrough,f,c);for(var y=0;y<o.fallthrough.length;y++){var C=Sr(n,o.fallthrough[y],f,c);if(C)return C}}}function Ss(n){var o="string"==typeof n?n:$r[n.keyCode];return"Ctrl"==o||"Alt"==o||"Shift"==o||"Mod"==o}function wc(n,o,f){var c=n;return o.altKey&&"Alt"!=c&&(n="Alt-"+n),(te?o.metaKey:o.ctrlKey)&&"Ctrl"!=c&&(n="Ctrl-"+n),(te?o.ctrlKey:o.metaKey)&&"Mod"!=c&&(n="Cmd-"+n),!f&&o.shiftKey&&"Shift"!=c&&(n="Shift-"+n),n}function ad(n,o){if(N&&34==n.keyCode&&n.char)return!1;var f=$r[n.keyCode];return null!=f&&!n.altGraphKey&&(3==n.keyCode&&n.code&&(f=n.code),wc(f,n,o))}function cu(n){return"string"==typeof n?Ui[n]:n}function Bo(n,o){for(var f=n.doc.sel.ranges,c=[],h=0;h<f.length;h++){for(var y=o(f[h]);c.length&&U(y.from,mt(c).to)<=0;){var C=c.pop();if(U(C.from,y.from)<0){y.from=C.from;break}}c.push(y)}fr(n,function(){for(var b=c.length-1;b>=0;b--)zr(n.doc,"",c[b].from,c[b].to,"+delete");xo(n)})}function Da(n,o,f){var c=je(n.text,o+f,f);return c<0||c>n.text.length?null:c}function Dc(n,o,f){var c=Da(n,o.ch,f);return null==c?null:new M(o.line,c,f<0?"after":"before")}function vi(n,o,f,c,h){if(n){"rtl"==o.doc.direction&&(h=-h);var y=Ut(f,o.doc.direction);if(y){var T,C=h<0?mt(y):y[0],S=h<0==(1==C.level)?"after":"before";if(C.level>0||"rtl"==o.doc.direction){var $=ai(o,f),J=Tn(o,$,T=h<0?f.text.length-1:0).top;T=Je(function(he){return Tn(o,$,he).top==J},h<0==(1==C.level)?C.from:C.to-1,T),"before"==S&&(T=Da(f,T,1))}else T=h<0?C.to:C.from;return new M(c,T,S)}}return new M(c,h<0?f.text.length:0,h<0?"before":"after")}Ui.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ui.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ui.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ui.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ui.default=ne?Ui.macDefault:Ui.pcDefault;var dl={selectAll:gi,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),wt)},killLine:function(n){return Bo(n,function(o){if(o.empty()){var f=$e(n.doc,o.head.line).text.length;return o.head.ch==f&&o.head.line<n.lastLine()?{from:o.head,to:M(o.head.line+1,0)}:{from:o.head,to:M(o.head.line,f)}}return{from:o.from(),to:o.to()}})},deleteLine:function(n){return Bo(n,function(o){return{from:M(o.from().line,0),to:Oe(n.doc,M(o.to().line+1,0))}})},delLineLeft:function(n){return Bo(n,function(o){return{from:M(o.from().line,0),to:o.from()}})},delWrappedLineLeft:function(n){return Bo(n,function(o){var f=n.charCoords(o.head,"div").top+5;return{from:n.coordsChar({left:0,top:f},"div"),to:o.from()}})},delWrappedLineRight:function(n){return Bo(n,function(o){var f=n.charCoords(o.head,"div").top+5,c=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:f},"div");return{from:o.from(),to:c}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(M(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(M(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(o){return bc(n,o.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(o){return hl(n,o.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(o){return function ld(n,o){var f=$e(n.doc,o),c=function $l(n){for(var o;o=zl(n);)n=o.find(1,!0).line;return n}(f);return c!=f&&(o=Ue(c)),vi(!0,n,f,o,-1)}(n,o.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(o){var f=n.cursorCoords(o.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:f},"div")},Ln)},goLineLeft:function(n){return n.extendSelectionsBy(function(o){var f=n.cursorCoords(o.head,"div").top+5;return n.coordsChar({left:0,top:f},"div")},Ln)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(o){var f=n.cursorCoords(o.head,"div").top+5,c=n.coordsChar({left:0,top:f},"div");return c.ch<n.getLine(c.line).search(/\S/)?hl(n,o.head):c},Ln)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("\t")},insertSoftTab:function(n){for(var o=[],f=n.listSelections(),c=n.options.tabSize,h=0;h<f.length;h++){var y=f[h].from(),C=ht(n.getLine(y.line),y.ch,c);o.push(ni(c-C%c))}n.replaceSelections(o)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return fr(n,function(){for(var o=n.listSelections(),f=[],c=0;c<o.length;c++)if(o[c].empty()){var h=o[c].head,y=$e(n.doc,h.line).text;if(y)if(h.ch==y.length&&(h=new M(h.line,h.ch-1)),h.ch>0)h=new M(h.line,h.ch+1),n.replaceRange(y.charAt(h.ch-1)+y.charAt(h.ch-2),M(h.line,h.ch-2),h,"+transpose");else if(h.line>n.doc.first){var C=$e(n.doc,h.line-1).text;C&&(h=new M(h.line,1),n.replaceRange(y.charAt(0)+n.doc.lineSeparator()+C.charAt(C.length-1),M(h.line-1,C.length-1),h,"+transpose"))}f.push(new We(h,h))}n.setSelections(f)})},newlineAndIndent:function(n){return fr(n,function(){for(var o=n.listSelections(),f=o.length-1;f>=0;f--)n.replaceRange(n.doc.lineSeparator(),o[f].anchor,o[f].head,"+input");o=n.listSelections();for(var c=0;c<o.length;c++)n.indentLine(o[c].from().line,null,!0);xo(n)})},openLine:function(n){return n.replaceSelection("\n","start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};function bc(n,o){var f=$e(n.doc,o),c=Pr(f);return c!=f&&(o=Ue(c)),vi(!0,n,c,o,1)}function hl(n,o){var f=bc(n,o.line),c=$e(n.doc,f.line),h=Ut(c,n.doc.direction);if(!h||0==h[0].level){var y=Math.max(f.ch,c.text.search(/\S/));return M(f.line,o.line==f.line&&o.ch<=y&&o.ch?0:y,f.sticky)}return f}function Gn(n,o,f){if("string"==typeof o&&!(o=dl[o]))return!1;n.display.input.ensurePolled();var c=n.display.shift,h=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),f&&(n.display.shift=!1),h=o(n)!=St}finally{n.display.shift=c,n.state.suppressEdits=!1}return h}var Ho=new Qe;function Uo(n,o,f,c){var h=n.state.keySeq;if(h){if(Ss(o))return"handled";if(/\'$/.test(o)?n.state.keySeq=null:Ho.set(50,function(){n.state.keySeq==h&&(n.state.keySeq=null,n.display.input.reset())}),pl(n,h+" "+o,f,c))return!0}return pl(n,o,f,c)}function pl(n,o,f,c){var h=function ji(n,o,f){for(var c=0;c<n.state.keyMaps.length;c++){var h=Sr(o,n.state.keyMaps[c],f,n);if(h)return h}return n.options.extraKeys&&Sr(o,n.options.extraKeys,f,n)||Sr(o,n.options.keyMap,f,n)}(n,o,c);return"multi"==h&&(n.state.keySeq=o),"handled"==h&&fn(n,"keyHandled",n,o,f),("handled"==h||"multi"==h)&&(sn(f),el(n)),!!h}function Sc(n,o){var f=ad(o,!0);return!!f&&(o.shiftKey&&!n.state.keySeq?Uo(n,"Shift-"+f,o,function(c){return Gn(n,c,!0)})||Uo(n,f,o,function(c){if("string"==typeof c?/^go[A-Z]/.test(c):c.motion)return Gn(n,c)}):Uo(n,f,o,function(c){return Gn(n,c)}))}var Ec=null;function gl(n){var o=this;if(!(n.target&&n.target!=o.display.input.getField()||(o.curOp.focus=Ee(ft(o)),on(o,n)))){L&&V<11&&27==n.keyCode&&(n.returnValue=!1);var f=n.keyCode;o.display.shift=16==f||n.shiftKey;var c=Sc(o,n);N&&(Ec=c?f:null,!c&&88==f&&!Gs&&(ne?n.metaKey:n.ctrlKey)&&o.replaceSelection("",null,"cut")),p&&!ne&&!c&&46==f&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==f&&!/\bCodeMirror-crosshair\b/.test(o.display.lineDiv.className)&&function vl(n){var o=n.display.lineDiv;function f(c){(18==c.keyCode||!c.altKey)&&(ae(o,"CodeMirror-crosshair"),it(document,"keyup",f),it(document,"mouseover",f))}be(o,"CodeMirror-crosshair"),et(document,"keyup",f),et(document,"mouseover",f)}(o)}}function ud(n){16==n.keyCode&&(this.doc.sel.shift=!1),on(this,n)}function du(n){var o=this;if(!(n.target&&n.target!=o.display.input.getField()||Rr(o.display,n)||on(o,n)||n.ctrlKey&&!n.altKey||ne&&n.metaKey)){var f=n.keyCode,c=n.charCode;if(N&&f==Ec)return Ec=null,void sn(n);if(!N||n.which&&!(n.which<10)||!Sc(o,n)){var h=String.fromCharCode(c??f);"\b"!=h&&(function ba(n,o,f){return Uo(n,"'"+f+"'",o,function(c){return Gn(n,c,!0)})}(o,n,h)||o.display.input.onKeyPress(n))}}}var jo,Sa,hu=function(n,o,f){this.time=n,this.pos=o,this.button=f};function ml(n){var o=this,f=o.display;if(!(on(o,n)||f.activeTouch&&f.input.supportsTouch())){if(f.input.ensurePolled(),f.shift=n.shiftKey,Rr(f,n))return void(q||(f.scroller.draggable=!1,setTimeout(function(){return f.scroller.draggable=!0},100)));if(!Cl(o,n)){var c=Qr(o,n),h=ii(n),y=c?function Mc(n,o){var f=+new Date;return Sa&&Sa.compare(f,n,o)?(jo=Sa=null,"triple"):jo&&jo.compare(f,n,o)?(Sa=new hu(f,n,o),jo=null,"double"):(jo=new hu(f,n,o),Sa=null,"single")}(c,h):"single";rt(o).focus(),1==h&&o.state.selectingText&&o.state.selectingText(n),(!c||!function Gr(n,o,f,c,h){var y="Click";return"double"==c?y="Double"+y:"triple"==c&&(y="Triple"+y),Uo(n,wc(y=(1==o?"Left":2==o?"Middle":"Right")+y,h),h,function(C){if("string"==typeof C&&(C=dl[C]),!C)return!1;var b=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),b=C(n,f)!=St}finally{n.state.suppressEdits=!1}return b})}(o,h,c,y,n))&&(1==h?c?function zi(n,o,f,c){L?setTimeout(It(nu,n),0):n.curOp.focus=Ee(ft(n));var C,h=function pu(n,o,f){var c=n.getOption("configureMouse"),h=c?c(n,o,f):{};return null==h.unit&&(h.unit=(X?f.shiftKey&&f.metaKey:f.altKey)?"rectangle":"single"==o?"char":"double"==o?"word":"line"),(null==h.extend||n.doc.extend)&&(h.extend=n.doc.extend||f.shiftKey),null==h.addNew&&(h.addNew=ne?f.metaKey:f.ctrlKey),null==h.moveOnDrag&&(h.moveOnDrag=!(ne?f.altKey:f.ctrlKey)),h}(n,f,c),y=n.doc.sel;n.options.dragDrop&&sr&&!n.isReadOnly()&&"single"==f&&(C=y.contains(o))>-1&&(U((C=y.ranges[C]).from(),o)<0||o.xRel>0)&&(U(C.to(),o)>0||o.xRel<0)?function yl(n,o,f,c){var h=n.display,y=!1,C=pn(n,function(T){q&&(h.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:io(n)),it(h.wrapper.ownerDocument,"mouseup",C),it(h.wrapper.ownerDocument,"mousemove",b),it(h.scroller,"dragstart",S),it(h.scroller,"drop",C),y||(sn(T),c.addNew||Ri(n.doc,f,null,null,c.extend),q&&!Z||L&&9==V?setTimeout(function(){h.wrapper.ownerDocument.body.focus({preventScroll:!0}),h.input.focus()},20):h.input.focus())}),b=function(T){y=y||Math.abs(o.clientX-T.clientX)+Math.abs(o.clientY-T.clientY)>=10},S=function(){return y=!0};q&&(h.scroller.draggable=!0),n.state.draggingText=C,C.copy=!c.moveOnDrag,et(h.wrapper.ownerDocument,"mouseup",C),et(h.wrapper.ownerDocument,"mousemove",b),et(h.scroller,"dragstart",S),et(h.scroller,"drop",C),n.state.delayingBlurEvent=!0,setTimeout(function(){return h.input.focus()},20),h.scroller.dragDrop&&h.scroller.dragDrop()}(n,c,o,h):function cd(n,o,f,c){L&&io(n);var h=n.display,y=n.doc;sn(o);var C,b,S=y.sel,T=S.ranges;if(c.addNew&&!c.extend?(b=y.sel.contains(f),C=b>-1?T[b]:new We(f,f)):(C=y.sel.primary(),b=y.sel.primIndex),"rectangle"==c.unit)c.addNew||(C=new We(f,f)),f=Qr(n,o,!0,!0),b=-1;else{var $=ln(n,f,c.unit);C=c.extend?Fo(C,$.anchor,$.head,c.extend):$}c.addNew?-1==b?(b=T.length,En(y,hr(n,T.concat([C]),b),{scroll:!1,origin:"*mouse"})):T.length>1&&T[b].empty()&&"char"==c.unit&&!c.extend?(En(y,hr(n,T.slice(0,b).concat(T.slice(b+1)),0),{scroll:!1,origin:"*mouse"}),S=y.sel):di(y,b,C,Ht):(b=0,En(y,new Wt([C],0),Ht),S=y.sel);var J=f;function he(Le){if(0!=U(J,Le))if(J=Le,"rectangle"==c.unit){for(var He=[],Xe=n.options.tabSize,Ye=ht($e(y,f.line).text,f.ch,Xe),yt=ht($e(y,Le.line).text,Le.ch,Xe),Pt=Math.min(Ye,yt),jt=Math.max(Ye,yt),Vt=Math.min(f.line,Le.line),xr=Math.min(n.lastLine(),Math.max(f.line,Le.line));Vt<=xr;Vt++){var Un=$e(y,Vt).text,Zt=es(Un,Pt,Xe);Pt==jt?He.push(new We(M(Vt,Zt),M(Vt,Zt))):Un.length>Zt&&He.push(new We(M(Vt,Zt),M(Vt,es(Un,jt,Xe))))}He.length||He.push(new We(f,f)),En(y,hr(n,S.ranges.slice(0,b).concat(He),b),{origin:"*mouse",scroll:!1}),n.scrollIntoView(Le)}else{var yn,On=C,jn=ln(n,Le,c.unit),Mn=On.anchor;U(jn.anchor,Mn)>0?(yn=jn.head,Mn=pt(On.from(),jn.anchor)):(yn=jn.anchor,Mn=Ke(On.to(),jn.head));var tn=S.ranges.slice(0);tn[b]=function fd(n,o){var f=o.anchor,c=o.head,h=$e(n.doc,f.line);if(0==U(f,c)&&f.sticky==c.sticky)return o;var y=Ut(h);if(!y)return o;var C=Zn(y,f.ch,f.sticky),b=y[C];if(b.from!=f.ch&&b.to!=f.ch)return o;var T,S=C+(b.from==f.ch==(1!=b.level)?0:1);if(0==S||S==y.length)return o;if(c.line!=f.line)T=(c.line-f.line)*("ltr"==n.doc.direction?1:-1)>0;else{var $=Zn(y,c.ch,c.sticky),J=$-C||(c.ch-f.ch)*(1==b.level?-1:1);T=$==S-1||$==S?J<0:J>0}var he=y[S+(T?-1:0)],ce=T==(1==he.level),ye=ce?he.from:he.to,De=ce?"after":"before";return f.ch==ye&&f.sticky==De?o:new We(new M(f.line,ye,De),c)}(n,new We(Oe(y,Mn),yn)),En(y,hr(n,tn,b),Ht)}}var ce=h.wrapper.getBoundingClientRect(),ye=0;function De(Le){var He=++ye,Xe=Qr(n,Le,!0,"rectangle"==c.unit);if(Xe)if(0!=U(Xe,J)){n.curOp.focus=Ee(ft(n)),he(Xe);var Ye=Ai(h,y);(Xe.line>=Ye.to||Xe.line<Ye.from)&&setTimeout(pn(n,function(){ye==He&&De(Le)}),150)}else{var yt=Le.clientY<ce.top?-20:Le.clientY>ce.bottom?20:0;yt&&setTimeout(pn(n,function(){ye==He&&(h.scroller.scrollTop+=yt,De(Le))}),50)}}function Me(Le){n.state.selectingText=!1,ye=1/0,Le&&(sn(Le),h.input.focus()),it(h.wrapper.ownerDocument,"mousemove",ke),it(h.wrapper.ownerDocument,"mouseup",Ne),y.history.lastSelOrigin=null}var ke=pn(n,function(Le){0!==Le.buttons&&ii(Le)?De(Le):Me(Le)}),Ne=pn(n,Me);n.state.selectingText=Ne,et(h.wrapper.ownerDocument,"mousemove",ke),et(h.wrapper.ownerDocument,"mouseup",Ne)}(n,c,o,h)}(o,c,y,n):Qn(n)==f.scroller&&sn(n):2==h?(c&&Ri(o.doc,c),setTimeout(function(){return f.input.focus()},20)):3==h&&(I?o.display.input.onContextMenu(n):io(o)))}}}function ln(n,o,f){if("char"==f)return new We(o,o);if("word"==f)return n.findWordAt(o);if("line"==f)return new We(M(o.line,0),Oe(n.doc,M(o.line+1,0)));var c=f(n,o);return new We(c.from,c.to)}function _l(n,o,f,c){var h,y;if(o.touches)h=o.touches[0].clientX,y=o.touches[0].clientY;else try{h=o.clientX,y=o.clientY}catch{return!1}if(h>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;c&&sn(o);var C=n.display,b=C.lineDiv.getBoundingClientRect();if(y>b.bottom||!un(n,f))return Ci(o);y-=b.top-C.viewOffset;for(var S=0;S<n.display.gutterSpecs.length;++S){var T=C.gutters.childNodes[S];if(T&&T.getBoundingClientRect().right>=h)return Ge(n,f,n,qr(n.doc,y),n.display.gutterSpecs[S].className,o),Ci(o)}}function Cl(n,o){return _l(n,o,"gutterClick",!0)}function xc(n,o){Rr(n.display,o)||function dd(n,o){return!!un(n,"gutterContextMenu")&&_l(n,o,"gutterContextMenu",!1)}(n,o)||on(n,o,"contextmenu")||I||n.display.input.onContextMenu(o)}function Tc(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),xi(n)}hu.prototype.compare=function(n,o,f){return this.time+400>n&&0==U(o,this.pos)&&f==this.button};var Ms={toString:function(){return"CodeMirror.Init"}},Ac={},gu={};function xs(n,o,f){if(!o!=!(f&&f!=Ms)){var h=n.display.dragFunctions,y=o?et:it;y(n.display.scroller,"dragstart",h.start),y(n.display.scroller,"dragenter",h.enter),y(n.display.scroller,"dragover",h.over),y(n.display.scroller,"dragleave",h.leave),y(n.display.scroller,"drop",h.drop)}}function vu(n){n.options.lineWrapping?(be(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(ae(n.display.wrapper,"CodeMirror-wrap"),Yl(n)),ra(n),dn(n),xi(n),setTimeout(function(){return hs(n)},100)}function Rt(n,o){var f=this;if(!(this instanceof Rt))return new Rt(n,o);this.options=o=o?nn(o):{},nn(Ac,o,!1);var c=o.value;"string"==typeof c?c=new an(c,o.mode,null,o.lineSeparator,o.direction):o.mode&&(c.modeOption=o.mode),this.doc=c;var h=new Rt.inputStyles[o.inputStyle](this),y=this.display=new Sn(n,c,h,o);for(var C in y.wrapper.CodeMirror=this,Tc(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ca(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Qe,keySeq:null,specialChars:null},o.autofocus&&!H&&y.input.focus(),L&&V<11&&setTimeout(function(){return f.display.input.reset(!0)},20),function wl(n){var o=n.display;et(o.scroller,"mousedown",pn(n,ml)),et(o.scroller,"dblclick",L&&V<11?pn(n,function(S){if(!on(n,S)){var T=Qr(n,S);if(T&&!Cl(n,S)&&!Rr(n.display,S)){sn(S);var $=n.findWordAt(T);Ri(n.doc,$.anchor,$.head)}}}):function(S){return on(n,S)||sn(S)}),et(o.scroller,"contextmenu",function(S){return xc(n,S)}),et(o.input.getField(),"contextmenu",function(S){o.scroller.contains(S.target)||xc(n,S)});var f,c={end:0};function h(){o.activeTouch&&(f=setTimeout(function(){return o.activeTouch=null},1e3),(c=o.activeTouch).end=+new Date)}function y(S){if(1!=S.touches.length)return!1;var T=S.touches[0];return T.radiusX<=1&&T.radiusY<=1}function C(S,T){if(null==T.left)return!0;var $=T.left-S.left,J=T.top-S.top;return $*$+J*J>400}et(o.scroller,"touchstart",function(S){if(!on(n,S)&&!y(S)&&!Cl(n,S)){o.input.ensurePolled(),clearTimeout(f);var T=+new Date;o.activeTouch={start:T,moved:!1,prev:T-c.end<=300?c:null},1==S.touches.length&&(o.activeTouch.left=S.touches[0].pageX,o.activeTouch.top=S.touches[0].pageY)}}),et(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),et(o.scroller,"touchend",function(S){var T=o.activeTouch;if(T&&!Rr(o,S)&&null!=T.left&&!T.moved&&new Date-T.start<300){var J,$=n.coordsChar(o.activeTouch,"page");J=!T.prev||C(T,T.prev)?new We($,$):!T.prev.prev||C(T,T.prev.prev)?n.findWordAt($):new We(M($.line,0),Oe(n.doc,M($.line+1,0))),n.setSelection(J.anchor,J.head),n.focus(),sn(S)}h()}),et(o.scroller,"touchcancel",h),et(o.scroller,"scroll",function(){o.scroller.clientHeight&&(ds(n,o.scroller.scrollTop),Xr(n,o.scroller.scrollLeft,!0),Ge(n,"scroll",n))}),et(o.scroller,"mousewheel",function(S){return dr(n,S)}),et(o.scroller,"DOMMouseScroll",function(S){return dr(n,S)}),et(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(S){on(n,S)||or(S)},over:function(S){on(n,S)||(function od(n,o){var f=Qr(n,o);if(f){var c=document.createDocumentFragment();fc(n,f,c),n.display.dragCursor||(n.display.dragCursor=F("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),me(n.display.dragCursor,c)}}(n,S),or(S))},start:function(S){return function po(n,o){if(L&&(!n.state.draggingText||+new Date-ma<100))or(o);else if(!on(n,o)&&!Rr(n.display,o)&&(o.dataTransfer.setData("Text",n.getSelection()),o.dataTransfer.effectAllowed="copyMove",o.dataTransfer.setDragImage&&!Z)){var f=F("img",null,null,"position: fixed; left: 0; top: 0;");f.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",N&&(f.width=f.height=1,n.display.wrapper.appendChild(f),f._top=f.offsetTop),o.dataTransfer.setDragImage(f,0,0),N&&f.parentNode.removeChild(f)}}(n,S)},drop:pn(n,ul),leave:function(S){on(n,S)||ya(n)}};var b=o.input.getField();et(b,"keyup",function(S){return ud.call(n,S)}),et(b,"keydown",pn(n,gl)),et(b,"keypress",pn(n,du)),et(b,"focus",function(S){return ru(n,S)}),et(b,"blur",function(S){return fs(n,S)})}(this),bs(),Oi(this),this.curOp.forceUpdate=!0,gs(this,c),o.autofocus&&!H||this.hasFocus()?setTimeout(function(){f.hasFocus()&&!f.state.focused&&ru(f)},20):fs(this),gu)gu.hasOwnProperty(C)&&gu[C](this,o[C],Ms);Cr(this),o.finishInit&&o.finishInit(this);for(var b=0;b<Ts.length;++b)Ts[b](this);Fi(this),q&&o.lineWrapping&&"optimizelegibility"==getComputedStyle(y.lineDiv).textRendering&&(y.lineDiv.style.textRendering="auto")}Rt.defaults=Ac,Rt.optionHandlers=gu;var Ts=[];function Er(n,o,f,c){var y,h=n.doc;null==f&&(f="add"),"smart"==f&&(h.mode.indent?y=si(n,o).state:f="prev");var C=n.options.tabSize,b=$e(h,o),S=ht(b.text,null,C);b.stateAfter&&(b.stateAfter=null);var $,T=b.text.match(/^\s*/)[0];if(c||/\S/.test(b.text)){if("smart"==f&&(($=h.mode.indent(y,b.text.slice(T.length),b.text))==St||$>150)){if(!c)return;f="prev"}}else $=0,f="not";"prev"==f?$=o>h.first?ht($e(h,o-1).text,null,C):0:"add"==f?$=S+n.options.indentUnit:"subtract"==f?$=S-n.options.indentUnit:"number"==typeof f&&($=S+f),$=Math.max(0,$);var J="",he=0;if(n.options.indentWithTabs)for(var ce=Math.floor($/C);ce;--ce)he+=C,J+="\t";if(he<$&&(J+=ni($-he)),J!=T)return zr(h,J,M(o,0),M(o,T.length),"+input"),b.stateAfter=null,!0;for(var ye=0;ye<h.sel.ranges.length;ye++){var De=h.sel.ranges[ye];if(De.head.line==o&&De.head.ch<T.length){var Me=M(o,T.length);di(h,ye,new We(Me,Me));break}}}Rt.defineInitHook=function(n){return Ts.push(n)};var Hn=null;function As(n){Hn=n}function Is(n,o,f,c,h){var y=n.doc;n.display.shift=!1,c||(c=y.sel);var C=+new Date-200,b="paste"==h||n.state.pasteIncoming>C,S=wi(o),T=null;if(b&&c.ranges.length>1)if(Hn&&Hn.text.join("\n")==o){if(c.ranges.length%Hn.text.length==0){T=[];for(var $=0;$<Hn.text.length;$++)T.push(y.splitLines(Hn.text[$]))}}else S.length==c.ranges.length&&n.options.pasteLinesPerSelection&&(T=ir(S,function(ke){return[ke]}));for(var J=n.curOp.updateInput,he=c.ranges.length-1;he>=0;he--){var ce=c.ranges[he],ye=ce.from(),De=ce.to();ce.empty()&&(f&&f>0?ye=M(ye.line,ye.ch-f):n.state.overwrite&&!b?De=M(De.line,Math.min($e(y,De.line).text.length,De.ch+mt(S).length)):b&&Hn&&Hn.lineWise&&Hn.text.join("\n")==S.join("\n")&&(ye=De=M(ye.line,0)));var Me={from:ye,to:De,text:T?T[he%T.length]:S,origin:h||(b?"paste":n.state.cutIncoming>C?"cut":"+input")};Ur(n.doc,Me),fn(n,"inputRead",n,Me)}o&&!b&&go(n,o),xo(n),n.curOp.updateInput<2&&(n.curOp.updateInput=J),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function hd(n,o){var f=n.clipboardData&&n.clipboardData.getData("Text");if(f)return n.preventDefault(),!o.isReadOnly()&&!o.options.disableInput&&o.hasFocus()&&fr(o,function(){return Is(o,f,0,null,"paste")}),!0}function go(n,o){if(n.options.electricChars&&n.options.smartIndent)for(var f=n.doc.sel,c=f.ranges.length-1;c>=0;c--){var h=f.ranges[c];if(!(h.head.ch>100||c&&f.ranges[c-1].head.line==h.head.line)){var y=n.getModeAt(h.head),C=!1;if(y.electricChars){for(var b=0;b<y.electricChars.length;b++)if(o.indexOf(y.electricChars.charAt(b))>-1){C=Er(n,h.head.line,"smart");break}}else y.electricInput&&y.electricInput.test($e(n.doc,h.head.line).text.slice(0,h.head.ch))&&(C=Er(n,h.head.line,"smart"));C&&fn(n,"electricInput",n,h.head.line)}}}function Ea(n){for(var o=[],f=[],c=0;c<n.doc.sel.ranges.length;c++){var h=n.doc.sel.ranges[c].head.line,y={anchor:M(h,0),head:M(h+1,0)};f.push(y),o.push(n.getRange(y.anchor,y.head))}return{text:o,ranges:f}}function mu(n,o,f,c){n.setAttribute("autocorrect",f?"":"off"),n.setAttribute("autocapitalize",c?"":"off"),n.setAttribute("spellcheck",!!o)}function Os(){var n=F("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),o=F("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return q?n.style.width="1000px":n.setAttribute("wrap","off"),se&&(n.style.border="1px solid black"),mu(n),o}function Ma(n,o,f,c,h){var y=o,C=f,b=$e(n,o.line),S=h&&"rtl"==n.direction?-f:f;function $(Ne){var Le;if("codepoint"==c){var He=b.text.charCodeAt(o.ch+(f>0?0:-1));Le=isNaN(He)?null:new M(o.line,Math.max(0,Math.min(b.text.length,o.ch+f*((f>0?He>=55296&&He<56320:He>=56320&&He<57343)?2:1))),-f)}else Le=h?function fu(n,o,f,c){var h=Ut(o,n.doc.direction);if(!h)return Dc(o,f,c);f.ch>=o.text.length?(f.ch=o.text.length,f.sticky="before"):f.ch<=0&&(f.ch=0,f.sticky="after");var y=Zn(h,f.ch,f.sticky),C=h[y];if("ltr"==n.doc.direction&&C.level%2==0&&(c>0?C.to>f.ch:C.from<f.ch))return Dc(o,f,c);var S,b=function(ke,Ne){return Da(o,ke instanceof M?ke.ch:ke,Ne)},T=function(ke){return n.options.lineWrapping?(S=S||ai(n,o),li(n,o,S,ke)):{begin:0,end:o.text.length}},$=T("before"==f.sticky?b(f,-1):f.ch);if("rtl"==n.doc.direction||1==C.level){var J=1==C.level==c<0,he=b(f,J?1:-1);if(null!=he&&(J?he<=C.to&&he<=$.end:he>=C.from&&he>=$.begin))return new M(f.line,he,J?"before":"after")}var ye=function(ke,Ne,Le){for(;ke>=0&&ke<h.length;ke+=Ne){var Xe=h[ke],Ye=Ne>0==(1!=Xe.level),yt=Ye?Le.begin:b(Le.end,-1);if(Xe.from<=yt&&yt<Xe.to||(yt=Ye?Xe.from:b(Xe.to,-1),Le.begin<=yt&&yt<Le.end))return Pt=yt,Ye?new M(f.line,b(Pt,1),"before"):new M(f.line,Pt,"after")}var Pt},De=ye(y+c,c,$);if(De)return De;var Me=c>0?$.end:b($.begin,-1);return null==Me||c>0&&Me==o.text.length||!(De=ye(c>0?0:h.length-1,c,T(Me)))?null:De}(n.cm,b,o,f):Dc(b,o,f);if(null==Le){if(Ne||!function T(){var Ne=o.line+S;return!(Ne<n.first||Ne>=n.first+n.size)&&(o=new M(Ne,o.ch,o.sticky),b=$e(n,Ne))}())return!1;o=vi(h,n.cm,b,o.line,S)}else o=Le;return!0}if("char"==c||"codepoint"==c)$();else if("column"==c)$(!0);else if("word"==c||"group"==c)for(var J=null,he="group"==c,ce=n.cm&&n.cm.getHelper(o,"wordChars"),ye=!0;!(f<0)||$(!ye);ye=!1){var De=b.text.charAt(o.ch)||"\n",Me=_i(De,ce)?"w":he&&"\n"==De?"n":!he||/\s/.test(De)?null:"p";if(he&&!ye&&!Me&&(Me="s"),J&&J!=Me){f<0&&(f=1,$(),o.sticky="after");break}if(Me&&(J=Me),f>0&&!$(!ye))break}var ke=pi(n,o,y,C,!0);return Ce(y,ke)&&(ke.hitSide=!0),ke}function xa(n,o,f,c){var C,T,h=n.doc,y=o.left;if("page"==c){var b=Math.min(n.display.wrapper.clientHeight,rt(n).innerHeight||h(n).documentElement.clientHeight),S=Math.max(b-.5*Eo(n.display),3);C=(f>0?o.bottom:o.top)+f*S}else"line"==c&&(C=f>0?o.bottom+3:o.top-3);for(;(T=as(n,y,C)).outside;){if(f<0?C<=0:C>=h.height){T.hitSide=!0;break}C+=5*f}return T}var xt=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Qe,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Dl(n,o){var f=qa(n,o.line);if(!f||f.hidden)return null;var c=$e(n.doc,o.line),h=oc(f,c,o.line),y=Ut(c,n.doc.direction),C="left";y&&(C=Zn(y,o.ch)%2?"right":"left");var S=ac(h.map,o.ch,C);return S.offset="right"==S.collapse?S.end:S.start,S}function Mr(n,o){return o&&(n.bad=!0),n}function Ta(n,o,f){var c;if(o==n.display.lineDiv){if(!(c=n.display.lineDiv.childNodes[f]))return Mr(n.clipPos(M(n.display.viewTo-1)),!0);o=null,f=0}else for(c=o;;c=c.parentNode){if(!c||c==n.display.lineDiv)return null;if(c.parentNode&&c.parentNode==n.display.lineDiv)break}for(var h=0;h<n.display.view.length;h++){var y=n.display.view[h];if(y.node==c)return Aa(y,o,f)}}function Aa(n,o,f){var c=n.text.firstChild,h=!1;if(!o||!fe(c,o))return Mr(M(Ue(n.line),0),!0);if(o==c&&(h=!0,o=c.childNodes[f],f=0,!o)){var y=n.rest?mt(n.rest):n.line;return Mr(M(Ue(y),y.text.length),h)}var C=3==o.nodeType?o:null,b=o;for(!C&&1==o.childNodes.length&&3==o.firstChild.nodeType&&(C=o.firstChild,f&&(f=C.nodeValue.length));b.parentNode!=c;)b=b.parentNode;var S=n.measure,T=S.maps;function $(Me,ke,Ne){for(var Le=-1;Le<(T?T.length:0);Le++)for(var He=Le<0?S.map:T[Le],Xe=0;Xe<He.length;Xe+=3){var Ye=He[Xe+2];if(Ye==Me||Ye==ke){var yt=Ue(Le<0?n.line:n.rest[Le]),Pt=He[Xe]+Ne;return(Ne<0||Ye!=Me)&&(Pt=He[Xe+(Ne?1:0)]),M(yt,Pt)}}}var J=$(C,b,f);if(J)return Mr(J,h);for(var he=b.nextSibling,ce=C?C.nodeValue.length-f:0;he;he=he.nextSibling){if(J=$(he,he.firstChild,0))return Mr(M(J.line,J.ch-ce),h);ce+=he.textContent.length}for(var ye=b.previousSibling,De=f;ye;ye=ye.previousSibling){if(J=$(ye,ye.firstChild,-1))return Mr(M(J.line,J.ch+De),h);De+=ye.textContent.length}}xt.prototype.init=function(n){var o=this,f=this,c=f.cm,h=f.div=n.lineDiv;function y(b){for(var S=b.target;S;S=S.parentNode){if(S==h)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(S.className))break}return!1}function C(b){if(y(b)&&!on(c,b)){if(c.somethingSelected())As({lineWise:!1,text:c.getSelections()}),"cut"==b.type&&c.replaceSelection("",null,"cut");else{if(!c.options.lineWiseCopyCut)return;var S=Ea(c);As({lineWise:!0,text:S.text}),"cut"==b.type&&c.operation(function(){c.setSelections(S.ranges,0,wt),c.replaceSelection("",null,"cut")})}if(b.clipboardData){b.clipboardData.clearData();var T=Hn.text.join("\n");if(b.clipboardData.setData("Text",T),b.clipboardData.getData("Text")==T)return void b.preventDefault()}var $=Os(),J=$.firstChild;c.display.lineSpace.insertBefore($,c.display.lineSpace.firstChild),J.value=Hn.text.join("\n");var he=Ee(h.ownerDocument);Be(J),setTimeout(function(){c.display.lineSpace.removeChild($),he.focus(),he==h&&f.showPrimarySelection()},50)}}h.contentEditable=!0,mu(h,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize),et(h,"paste",function(b){!y(b)||on(c,b)||hd(b,c)||V<=11&&setTimeout(pn(c,function(){return o.updateFromDOM()}),20)}),et(h,"compositionstart",function(b){o.composing={data:b.data,done:!1}}),et(h,"compositionupdate",function(b){o.composing||(o.composing={data:b.data,done:!1})}),et(h,"compositionend",function(b){o.composing&&(b.data!=o.composing.data&&o.readFromDOMSoon(),o.composing.done=!0)}),et(h,"touchstart",function(){return f.forceCompositionEnd()}),et(h,"input",function(){o.composing||o.readFromDOMSoon()}),et(h,"copy",C),et(h,"cut",C)},xt.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},xt.prototype.prepareSelection=function(){var n=cc(this.cm,!1);return n.focus=Ee(this.div.ownerDocument)==this.div,n},xt.prototype.showSelection=function(n,o){!n||!this.cm.display.view.length||((n.focus||o)&&this.showPrimarySelection(),this.showMultipleSelections(n))},xt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},xt.prototype.showPrimarySelection=function(){var n=this.getSelection(),o=this.cm,f=o.doc.sel.primary(),c=f.from(),h=f.to();if(o.display.viewTo==o.display.viewFrom||c.line>=o.display.viewTo||h.line<o.display.viewFrom)n.removeAllRanges();else{var y=Ta(o,n.anchorNode,n.anchorOffset),C=Ta(o,n.focusNode,n.focusOffset);if(!y||y.bad||!C||C.bad||0!=U(pt(y,C),c)||0!=U(Ke(y,C),h)){var b=o.display.view,S=c.line>=o.display.viewFrom&&Dl(o,c)||{node:b[0].measure.map[2],offset:0},T=h.line<o.display.viewTo&&Dl(o,h);if(!T){var $=b[b.length-1].measure,J=$.maps?$.maps[$.maps.length-1]:$.map;T={node:J[J.length-1],offset:J[J.length-2]-J[J.length-3]}}if(!S||!T)return void n.removeAllRanges();var ce,he=n.rangeCount&&n.getRangeAt(0);try{ce=R(S.node,S.offset,T.offset,T.node)}catch{}ce&&(!p&&o.state.focused?(n.collapse(S.node,S.offset),ce.collapsed||(n.removeAllRanges(),n.addRange(ce))):(n.removeAllRanges(),n.addRange(ce)),he&&null==n.anchorNode?n.addRange(he):p&&this.startGracePeriod()),this.rememberSelection()}}},xt.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},xt.prototype.showMultipleSelections=function(n){me(this.cm.display.cursorDiv,n.cursors),me(this.cm.display.selectionDiv,n.selection)},xt.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},xt.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;var o=n.getRangeAt(0).commonAncestorContainer;return fe(this.div,o)},xt.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||Ee(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},xt.prototype.blur=function(){this.div.blur()},xt.prototype.getField=function(){return this.div},xt.prototype.supportsTouch=function(){return!0},xt.prototype.receivedFocus=function(){var n=this,o=this;this.selectionInEditor()?setTimeout(function(){return n.pollSelection()},20):fr(this.cm,function(){return o.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function f(){o.cm.state.focused&&(o.pollSelection(),o.polling.set(o.cm.options.pollInterval,f))})},xt.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},xt.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var n=this.getSelection(),o=this.cm;if(z&&A&&this.cm.display.gutterSpecs.length&&function yu(n){for(var o=n;o;o=o.parentNode)if(/CodeMirror-gutter-wrapper/.test(o.className))return!0;return!1}(n.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var f=Ta(o,n.anchorNode,n.anchorOffset),c=Ta(o,n.focusNode,n.focusOffset);f&&c&&fr(o,function(){En(o.doc,Hr(f,c),wt),(f.bad||c.bad)&&(o.curOp.selectionChanged=!0)})}}},xt.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var y,C,b,n=this.cm,o=n.display,f=n.doc.sel.primary(),c=f.from(),h=f.to();if(0==c.ch&&c.line>n.firstLine()&&(c=M(c.line-1,$e(n.doc,c.line-1).length)),h.ch==$e(n.doc,h.line).text.length&&h.line<n.lastLine()&&(h=M(h.line+1,0)),c.line<o.viewFrom||h.line>o.viewTo-1)return!1;c.line==o.viewFrom||0==(y=ro(n,c.line))?(C=Ue(o.view[0].line),b=o.view[0].node):(C=Ue(o.view[y].line),b=o.view[y-1].node.nextSibling);var T,$,S=ro(n,h.line);if(S==o.view.length-1?(T=o.viewTo-1,$=o.lineDiv.lastChild):(T=Ue(o.view[S+1].line)-1,$=o.view[S+1].node.previousSibling),!b)return!1;for(var J=n.doc.splitLines(function zo(n,o,f,c,h){var y="",C=!1,b=n.doc.lineSeparator(),S=!1;function $(){C&&(y+=b,S&&(y+=b),C=S=!1)}function J(ce){ce&&($(),y+=ce)}function he(ce){if(1==ce.nodeType){var ye=ce.getAttribute("cm-text");if(ye)return void J(ye);var Me,De=ce.getAttribute("cm-marker");if(De){var ke=n.findMarks(M(c,0),M(h+1,0),function T(ce){return function(ye){return ye.id==ce}}(+De));return void(ke.length&&(Me=ke[0].find(0))&&J(Ft(n.doc,Me.from,Me.to).join(b)))}if("false"==ce.getAttribute("contenteditable"))return;var Ne=/^(pre|div|p|li|table|br)$/i.test(ce.nodeName);if(!/^br$/i.test(ce.nodeName)&&0==ce.textContent.length)return;Ne&&$();for(var Le=0;Le<ce.childNodes.length;Le++)he(ce.childNodes[Le]);/^(pre|p)$/i.test(ce.nodeName)&&(S=!0),Ne&&(C=!0)}else 3==ce.nodeType&&J(ce.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;he(o),o!=f;)o=o.nextSibling,S=!1;return y}(n,b,$,C,T)),he=Ft(n.doc,M(C,0),M(T,$e(n.doc,T).text.length));J.length>1&&he.length>1;)if(mt(J)==mt(he))J.pop(),he.pop(),T--;else{if(J[0]!=he[0])break;J.shift(),he.shift(),C++}for(var ce=0,ye=0,De=J[0],Me=he[0],ke=Math.min(De.length,Me.length);ce<ke&&De.charCodeAt(ce)==Me.charCodeAt(ce);)++ce;for(var Ne=mt(J),Le=mt(he),He=Math.min(Ne.length-(1==J.length?ce:0),Le.length-(1==he.length?ce:0));ye<He&&Ne.charCodeAt(Ne.length-ye-1)==Le.charCodeAt(Le.length-ye-1);)++ye;if(1==J.length&&1==he.length&&C==c.line)for(;ce&&ce>c.ch&&Ne.charCodeAt(Ne.length-ye-1)==Le.charCodeAt(Le.length-ye-1);)ce--,ye++;J[J.length-1]=Ne.slice(0,Ne.length-ye).replace(/^\u200b+/,""),J[0]=J[0].slice(ce).replace(/\u200b+$/,"");var Xe=M(C,ce),Ye=M(T,he.length?mt(he).length-ye:0);return J.length>1||J[0]||U(Xe,Ye)?(zr(n.doc,J,Xe,Ye,"+input"),!0):void 0},xt.prototype.ensurePolled=function(){this.forceCompositionEnd()},xt.prototype.reset=function(){this.forceCompositionEnd()},xt.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},xt.prototype.readFromDOMSoon=function(){var n=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing){if(!n.composing.done)return;n.composing=null}n.updateFromDOM()},80))},xt.prototype.updateFromDOM=function(){var n=this;(this.cm.isReadOnly()||!this.pollContent())&&fr(this.cm,function(){return dn(n.cm)})},xt.prototype.setUneditable=function(n){n.contentEditable="false"},xt.prototype.onKeyPress=function(n){0==n.charCode||this.composing||(n.preventDefault(),this.cm.isReadOnly()||pn(this.cm,Is)(this.cm,String.fromCharCode(n.charCode??n.keyCode),0))},xt.prototype.readOnlyChanged=function(n){this.div.contentEditable=String("nocursor"!=n)},xt.prototype.onContextMenu=function(){},xt.prototype.resetPosition=function(){},xt.prototype.needsContentAttribute=!0;var en=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new Qe,this.hasSelection=!1,this.composing=null};en.prototype.init=function(n){var o=this,f=this,c=this.cm;this.createField(n);var h=this.textarea;function y(C){if(!on(c,C)){if(c.somethingSelected())As({lineWise:!1,text:c.getSelections()});else{if(!c.options.lineWiseCopyCut)return;var b=Ea(c);As({lineWise:!0,text:b.text}),"cut"==C.type?c.setSelections(b.ranges,null,wt):(f.prevInput="",h.value=b.text.join("\n"),Be(h))}"cut"==C.type&&(c.state.cutIncoming=+new Date)}}n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),se&&(h.style.width="0px"),et(h,"input",function(){L&&V>=9&&o.hasSelection&&(o.hasSelection=null),f.poll()}),et(h,"paste",function(C){on(c,C)||hd(C,c)||(c.state.pasteIncoming=+new Date,f.fastPoll())}),et(h,"cut",y),et(h,"copy",y),et(n.scroller,"paste",function(C){if(!Rr(n,C)&&!on(c,C)){if(!h.dispatchEvent)return c.state.pasteIncoming=+new Date,void f.focus();var b=new Event("paste");b.clipboardData=C.clipboardData,h.dispatchEvent(b)}}),et(n.lineSpace,"selectstart",function(C){Rr(n,C)||sn(C)}),et(h,"compositionstart",function(){var C=c.getCursor("from");f.composing&&f.composing.range.clear(),f.composing={start:C,range:c.markText(C,c.getCursor("to"),{className:"CodeMirror-composing"})}}),et(h,"compositionend",function(){f.composing&&(f.poll(),f.composing.range.clear(),f.composing=null)})},en.prototype.createField=function(n){this.wrapper=Os(),this.textarea=this.wrapper.firstChild},en.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},en.prototype.prepareSelection=function(){var n=this.cm,o=n.display,f=n.doc,c=cc(n);if(n.options.moveInputWithCursor){var h=Br(n,f.sel.primary().head,"div"),y=o.wrapper.getBoundingClientRect(),C=o.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(o.wrapper.clientHeight-10,h.top+C.top-y.top)),c.teLeft=Math.max(0,Math.min(o.wrapper.clientWidth-10,h.left+C.left-y.left))}return c},en.prototype.showSelection=function(n){var f=this.cm.display;me(f.cursorDiv,n.cursors),me(f.selectionDiv,n.selection),null!=n.teTop&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},en.prototype.reset=function(n){if(!this.contextMenuPending&&!this.composing){var o=this.cm;if(o.somethingSelected()){this.prevInput="";var f=o.getSelection();this.textarea.value=f,o.state.focused&&Be(this.textarea),L&&V>=9&&(this.hasSelection=f)}else n||(this.prevInput=this.textarea.value="",L&&V>=9&&(this.hasSelection=null))}},en.prototype.getField=function(){return this.textarea},en.prototype.supportsTouch=function(){return!1},en.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!H||Ee(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},en.prototype.blur=function(){this.textarea.blur()},en.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},en.prototype.receivedFocus=function(){this.slowPoll()},en.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},en.prototype.fastPoll=function(){var n=!1,o=this;o.pollingFast=!0,o.polling.set(20,function f(){o.poll()||n?(o.pollingFast=!1,o.slowPoll()):(n=!0,o.polling.set(60,f))})},en.prototype.poll=function(){var n=this,o=this.cm,f=this.textarea,c=this.prevInput;if(this.contextMenuPending||!o.state.focused||Ua(f)&&!c&&!this.composing||o.isReadOnly()||o.options.disableInput||o.state.keySeq)return!1;var h=f.value;if(h==c&&!o.somethingSelected())return!1;if(L&&V>=9&&this.hasSelection===h||ne&&/[\uf700-\uf7ff]/.test(h))return o.display.input.reset(),!1;if(o.doc.sel==o.display.selForContextMenu){var y=h.charCodeAt(0);if(8203==y&&!c&&(c="\u200b"),8666==y)return this.reset(),this.cm.execCommand("undo")}for(var C=0,b=Math.min(c.length,h.length);C<b&&c.charCodeAt(C)==h.charCodeAt(C);)++C;return fr(o,function(){Is(o,h.slice(C),c.length-C,null,n.composing?"*compose":null),h.length>1e3||h.indexOf("\n")>-1?f.value=n.prevInput="":n.prevInput=h,n.composing&&(n.composing.range.clear(),n.composing.range=o.markText(n.composing.start,o.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},en.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},en.prototype.onKeyPress=function(){L&&V>=9&&(this.hasSelection=null),this.fastPoll()},en.prototype.onContextMenu=function(n){var o=this,f=o.cm,c=f.display,h=o.textarea;o.contextMenuPending&&o.contextMenuPending();var y=Qr(f,n),C=c.scroller.scrollTop;if(y&&!N){f.options.resetSelectionOnContextMenu&&-1==f.doc.sel.contains(y)&&pn(f,En)(f.doc,Hr(y),wt);var J,S=h.style.cssText,T=o.wrapper.style.cssText,$=o.wrapper.offsetParent.getBoundingClientRect();if(o.wrapper.style.cssText="position: static",h.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(n.clientY-$.top-5)+"px; left: "+(n.clientX-$.left-5)+"px;\n      z-index: 1000; background: "+(L?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",q&&(J=h.ownerDocument.defaultView.scrollY),c.input.focus(),q&&h.ownerDocument.defaultView.scrollTo(null,J),c.input.reset(),f.somethingSelected()||(h.value=o.prevInput=" "),o.contextMenuPending=ce,c.selForContextMenu=f.doc.sel,clearTimeout(c.detectingSelectAll),L&&V>=9&&he(),I){or(n);var ye=function(){it(window,"mouseup",ye),setTimeout(ce,20)};et(window,"mouseup",ye)}else setTimeout(ce,50)}function he(){if(null!=h.selectionStart){var De=f.somethingSelected(),Me="\u200b"+(De?h.value:"");h.value="\u21da",h.value=Me,o.prevInput=De?"":"\u200b",h.selectionStart=1,h.selectionEnd=Me.length,c.selForContextMenu=f.doc.sel}}function ce(){if(o.contextMenuPending==ce&&(o.contextMenuPending=!1,o.wrapper.style.cssText=T,h.style.cssText=S,L&&V<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=C),null!=h.selectionStart)){(!L||L&&V<9)&&he();var De=0,Me=function(){c.selForContextMenu==f.doc.sel&&0==h.selectionStart&&h.selectionEnd>0&&"\u200b"==o.prevInput?pn(f,gi)(f):De++<10?c.detectingSelectAll=setTimeout(Me,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(Me,200)}}},en.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled="nocursor"==n,this.textarea.readOnly=!!n},en.prototype.setUneditable=function(){},en.prototype.needsContentAttribute=!1,function Lh(n){var o=n.optionHandlers;function f(c,h,y,C){n.defaults[c]=h,y&&(o[c]=C?function(b,S,T){T!=Ms&&y(b,S,T)}:y)}n.defineOption=f,n.Init=Ms,f("value","",function(c,h){return c.setValue(h)},!0),f("mode",null,function(c,h){c.doc.modeOption=h,sl(c)},!0),f("indentUnit",2,sl,!0),f("indentWithTabs",!1),f("smartIndent",!0),f("tabSize",4,function(c){An(c),xi(c),dn(c)},!0),f("lineSeparator",null,function(c,h){if(c.doc.lineSep=h,h){var y=[],C=c.doc.first;c.doc.iter(function(S){for(var T=0;;){var $=S.text.indexOf(h,T);if(-1==$)break;T=$+h.length,y.push(M(C,$))}C++});for(var b=y.length-1;b>=0;b--)zr(c.doc,h,y[b],M(y[b].line,y[b].ch+h.length))}}),f("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(c,h,y){c.state.specialChars=new RegExp(h.source+(h.test("\t")?"":"|\t"),"g"),y!=Ms&&c.refresh()}),f("specialCharPlaceholder",Eh,function(c){return c.refresh()},!0),f("electricChars",!0),f("inputStyle",H?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),f("spellcheck",!1,function(c,h){return c.getInputField().spellcheck=h},!0),f("autocorrect",!1,function(c,h){return c.getInputField().autocorrect=h},!0),f("autocapitalize",!1,function(c,h){return c.getInputField().autocapitalize=h},!0),f("rtlMoveVisually",!G),f("wholeLineUpdateBefore",!0),f("theme","default",function(c){Tc(c),Li(c)},!0),f("keyMap","default",function(c,h,y){var C=cu(h),b=y!=Ms&&cu(y);b&&b.detach&&b.detach(c,C),C.attach&&C.attach(c,b||null)}),f("extraKeys",null),f("configureMouse",null),f("lineWrapping",!1,vu,!0),f("gutters",[],function(c,h){c.display.gutterSpecs=Io(h,c.options.lineNumbers),Li(c)},!0),f("fixedGutter",!0,function(c,h){c.display.gutters.style.left=h?us(c.display)+"px":"0",c.refresh()},!0),f("coverGutterNextToScrollbar",!1,function(c){return hs(c)},!0),f("scrollbarStyle","native",function(c){ca(c),hs(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),f("lineNumbers",!1,function(c,h){c.display.gutterSpecs=Io(c.options.gutters,h),Li(c)},!0),f("firstLineNumber",1,Li,!0),f("lineNumberFormatter",function(c){return c},Li,!0),f("showCursorWhenSelecting",!1,oa,!0),f("resetSelectionOnContextMenu",!0),f("lineWiseCopyCut",!0),f("pasteLinesPerSelection",!0),f("selectionsMayTouch",!1),f("readOnly",!1,function(c,h){"nocursor"==h&&(fs(c),c.display.input.blur()),c.display.input.readOnlyChanged(h)}),f("screenReaderLabel",null,function(c,h){c.display.input.screenReaderLabelChanged(h=""===h?null:h)}),f("disableInput",!1,function(c,h){h||c.display.input.reset()},!0),f("dragDrop",!0,xs),f("allowDropFileTypes",null),f("cursorBlinkRate",530),f("cursorScrollMargin",0),f("cursorHeight",1,oa,!0),f("singleCursorHeightPerLine",!0,oa,!0),f("workTime",100),f("workDelay",100),f("flattenSpans",!0,An,!0),f("addModeClass",!1,An,!0),f("pollInterval",100),f("undoDepth",200,function(c,h){return c.doc.history.undoDepth=h}),f("historyEventDelay",1250),f("viewportMargin",10,function(c){return c.refresh()},!0),f("maxHighlightLength",1e4,An,!0),f("moveInputWithCursor",!0,function(c,h){h||c.display.input.resetPosition()}),f("tabindex",null,function(c,h){return c.display.input.getField().tabIndex=h||""}),f("autofocus",null),f("direction","ltr",function(c,h){return c.doc.setDirection(h)},!0),f("phrases",null)}(Rt),function vo(n){var o=n.optionHandlers,f=n.helpers={};n.prototype={constructor:n,focus:function(){rt(this).focus(),this.display.input.focus()},setOption:function(c,h){var y=this.options,C=y[c];y[c]==h&&"mode"!=c||(y[c]=h,o.hasOwnProperty(c)&&pn(this,o[c])(this,h,C),Ge(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,h){this.state.keyMaps[h?"push":"unshift"](cu(c))},removeKeyMap:function(c){for(var h=this.state.keyMaps,y=0;y<h.length;++y)if(h[y]==c||h[y].name==c)return h.splice(y,1),!0},addOverlay:gn(function(c,h){var y=c.token?c:n.getMode(this.options,c);if(y.startState)throw new Error("Overlays may not be stateful.");(function zs(n,o,f){for(var c=0,h=f(o);c<n.length&&f(n[c])<=h;)c++;n.splice(c,0,o)})(this.state.overlays,{mode:y,modeSpec:c,opaque:h&&h.opaque,priority:h&&h.priority||0},function(C){return C.priority}),this.state.modeGen++,dn(this)}),removeOverlay:gn(function(c){for(var h=this.state.overlays,y=0;y<h.length;++y){var C=h[y].modeSpec;if(C==c||"string"==typeof c&&C.name==c)return h.splice(y,1),this.state.modeGen++,void dn(this)}}),indentLine:gn(function(c,h,y){"string"!=typeof h&&"number"!=typeof h&&(h=null==h?this.options.smartIndent?"smart":"prev":h?"add":"subtract"),Or(this.doc,c)&&Er(this,c,h,y)}),indentSelection:gn(function(c){for(var h=this.doc.sel.ranges,y=-1,C=0;C<h.length;C++){var b=h[C];if(b.empty())b.head.line>y&&(Er(this,b.head.line,c,!0),y=b.head.line,C==this.doc.sel.primIndex&&xo(this));else{var S=b.from(),T=b.to(),$=Math.max(y,S.line);y=Math.min(this.lastLine(),T.line-(T.ch?0:1))+1;for(var J=$;J<y;++J)Er(this,J,c);var he=this.doc.sel.ranges;0==S.ch&&h.length==he.length&&he[C].from().ch>0&&di(this.doc,C,new We(S,he[C].to()),wt)}}}),getTokenAt:function(c,h){return Vl(this,c,h)},getLineTokens:function(c,h){return Vl(this,M(c),h,!0)},getTokenTypeAt:function(c){c=Oe(this.doc,c);var S,h=Ys(this,$e(this.doc,c.line)),y=0,C=(h.length-1)/2,b=c.ch;if(0==b)S=h[2];else for(;;){var T=y+C>>1;if((T?h[2*T-1]:0)>=b)C=T;else{if(!(h[2*T+1]<b)){S=h[2*T+2];break}y=T+1}}var $=S?S.indexOf("overlay "):-1;return $<0?S:0==$?null:S.slice(0,$-1)},getModeAt:function(c){var h=this.doc.mode;return h.innerMode?n.innerMode(h,this.getTokenAt(c).state).mode:h},getHelper:function(c,h){return this.getHelpers(c,h)[0]},getHelpers:function(c,h){var y=[];if(!f.hasOwnProperty(h))return y;var C=f[h],b=this.getModeAt(c);if("string"==typeof b[h])C[b[h]]&&y.push(C[b[h]]);else if(b[h])for(var S=0;S<b[h].length;S++){var T=C[b[h][S]];T&&y.push(T)}else b.helperType&&C[b.helperType]?y.push(C[b.helperType]):C[b.name]&&y.push(C[b.name]);for(var $=0;$<C._global.length;$++){var J=C._global[$];J.pred(b,this)&&-1==ze(y,J.val)&&y.push(J.val)}return y},getStateAfter:function(c,h){var y=this.doc;return si(this,(c=kt(y,c??y.first+y.size-1))+1,h).state},cursorCoords:function(c,h){var C=this.doc.sel.primary();return Br(this,null==c?C.head:"object"==typeof c?Oe(this.doc,c):c?C.from():C.to(),h||"page")},charCoords:function(c,h){return ea(this,Oe(this.doc,c),h||"page")},coordsChar:function(c,h){return as(this,(c=Za(this,c,h||"page")).left,c.top)},lineAtHeight:function(c,h){return c=Za(this,{top:c,left:0},h||"page").top,qr(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,h,y){var b,C=!1;if("number"==typeof c){var S=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>S&&(c=S,C=!0),b=$e(this.doc,c)}else b=c;return Js(this,b,{top:0,left:0},h||"page",y||C).top+(C?this.doc.height-eo(b):0)},defaultTextHeight:function(){return Eo(this.display)},defaultCharWidth:function(){return Mo(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,h,y,C,b){var S=this.display,T=(c=Br(this,Oe(this.doc,c))).bottom,$=c.left;if(h.style.position="absolute",h.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(h),S.sizer.appendChild(h),"over"==C)T=c.top;else if("above"==C||"near"==C){var J=Math.max(S.wrapper.clientHeight,this.doc.height),he=Math.max(S.sizer.clientWidth,S.lineSpace.clientWidth);("above"==C||c.bottom+h.offsetHeight>J)&&c.top>h.offsetHeight?T=c.top-h.offsetHeight:c.bottom+h.offsetHeight<=J&&(T=c.bottom),$+h.offsetWidth>he&&($=he-h.offsetWidth)}h.style.top=T+"px",h.style.left=h.style.right="","right"==b?($=S.sizer.clientWidth-h.offsetWidth,h.style.right="0px"):("left"==b?$=0:"middle"==b&&($=(S.sizer.clientWidth-h.offsetWidth)/2),h.style.left=$+"px"),y&&function Yf(n,o){var f=nl(n,o);null!=f.scrollTop&&ds(n,f.scrollTop),null!=f.scrollLeft&&Xr(n,f.scrollLeft)}(this,{left:$,top:T,right:$+h.offsetWidth,bottom:T+h.offsetHeight})},triggerOnKeyDown:gn(gl),triggerOnKeyPress:gn(du),triggerOnKeyUp:ud,triggerOnMouseDown:gn(ml),execCommand:function(c){if(dl.hasOwnProperty(c))return dl[c].call(null,this)},triggerElectric:gn(function(c){go(this,c)}),findPosH:function(c,h,y,C){var b=1;h<0&&(b=-1,h=-h);for(var S=Oe(this.doc,c),T=0;T<h&&!(S=Ma(this.doc,S,b,y,C)).hitSide;++T);return S},moveH:gn(function(c,h){var y=this;this.extendSelectionsBy(function(C){return y.display.shift||y.doc.extend||C.empty()?Ma(y.doc,C.head,c,h,y.options.rtlMoveVisually):c<0?C.from():C.to()},Ln)}),deleteH:gn(function(c,h){var C=this.doc;this.doc.sel.somethingSelected()?C.replaceSelection("",null,"+delete"):Bo(this,function(b){var S=Ma(C,b.head,c,h,!1);return c<0?{from:S,to:b.head}:{from:b.head,to:S}})}),findPosV:function(c,h,y,C){var b=1,S=C;h<0&&(b=-1,h=-h);for(var T=Oe(this.doc,c),$=0;$<h;++$){var J=Br(this,T,"div");if(null==S?S=J.left:J.left=S,(T=xa(this,J,b,y)).hitSide)break}return T},moveV:gn(function(c,h){var y=this,C=this.doc,b=[],S=!this.display.shift&&!C.extend&&C.sel.somethingSelected();if(C.extendSelectionsBy(function($){if(S)return c<0?$.from():$.to();var J=Br(y,$.head,"div");null!=$.goalColumn&&(J.left=$.goalColumn),b.push(J.left);var he=xa(y,J,c,h);return"page"==h&&$==C.sel.primary()&&sa(y,ea(y,he,"div").top-J.top),he},Ln),b.length)for(var T=0;T<C.sel.ranges.length;T++)C.sel.ranges[T].goalColumn=b[T]}),findWordAt:function(c){var y=$e(this.doc,c.line).text,C=c.ch,b=c.ch;if(y){var S=this.getHelper(c,"wordChars");"before"!=c.sticky&&b!=y.length||!C?++b:--C;for(var T=y.charAt(C),$=_i(T,S)?function(J){return _i(J,S)}:/\s/.test(T)?function(J){return/\s/.test(J)}:function(J){return!/\s/.test(J)&&!_i(J)};C>0&&$(y.charAt(C-1));)--C;for(;b<y.length&&$(y.charAt(b));)++b}return new We(M(c.line,C),M(c.line,b))},toggleOverwrite:function(c){null!=c&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?be(this.display.cursorDiv,"CodeMirror-overwrite"):ae(this.display.cursorDiv,"CodeMirror-overwrite"),Ge(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ee(ft(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:gn(function(c,h){tr(this,c,h)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-Kr(this)-this.display.barHeight,width:c.scrollWidth-Kr(this)-this.display.barWidth,clientHeight:ic(this),clientWidth:Xs(this)}},scrollIntoView:gn(function(c,h){null==c?(c={from:this.doc.sel.primary().head,to:null},null==h&&(h=this.options.cursorScrollMargin)):"number"==typeof c?c={from:M(c,0),to:null}:null==c.from&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=h||0,null!=c.from.line?function qf(n,o){To(n),n.curOp.scrollToPos=o}(this,c):rl(this,c.from,c.to,c.margin)}),setSize:gn(function(c,h){var y=this,C=function(S){return"number"==typeof S||/^\d+$/.test(String(S))?S+"px":S};null!=c&&(this.display.wrapper.style.width=C(c)),null!=h&&(this.display.wrapper.style.height=C(h)),this.options.lineWrapping&&Xl(this);var b=this.display.viewFrom;this.doc.iter(b,this.display.viewTo,function(S){if(S.widgets)for(var T=0;T<S.widgets.length;T++)if(S.widgets[T].noHScroll){cr(y,b,"widget");break}++b}),this.curOp.forceUpdate=!0,Ge(this,"refresh",this)}),operation:function(c){return fr(this,c)},startOperation:function(){return Oi(this)},endOperation:function(){return Fi(this)},refresh:gn(function(){var c=this.display.cachedTextHeight;dn(this),this.curOp.forceUpdate=!0,xi(this),tr(this,this.doc.scrollLeft,this.doc.scrollTop),vn(this.display),(null==c||Math.abs(c-Eo(this.display))>.5||this.options.lineWrapping)&&ra(this),Ge(this,"refresh",this)}),swapDoc:gn(function(c){var h=this.doc;return h.cm=null,this.state.selectingText&&this.state.selectingText(),gs(this,c),xi(this),this.display.input.reset(),tr(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,fn(this,"swapDoc",this,h),h}),phrase:function(c){var h=this.options.phrases;return h&&Object.prototype.hasOwnProperty.call(h,c)?h[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_t(n),n.registerHelper=function(c,h,y){f.hasOwnProperty(c)||(f[c]=n[c]={_global:[]}),f[c][h]=y},n.registerGlobalHelper=function(c,h,y,C){n.registerHelper(c,h,C),f[c]._global.push({pred:y,val:C})}}(Rt);var $o="iter insert remove copy getEditor constructor".split(" ");for(var bl in an.prototype)an.prototype.hasOwnProperty(bl)&&ze($o,bl)<0&&(Rt.prototype[bl]=function(n){return function(){return n.apply(this.doc,arguments)}}(an.prototype[bl]));return _t(an),Rt.inputStyles={textarea:en,contenteditable:xt},Rt.defineMode=function(n){!Rt.defaults.mode&&"null"!=n&&(Rt.defaults.mode=n),$t.apply(this,arguments)},Rt.defineMIME=function Di(n,o){Xt[n]=o},Rt.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),Rt.defineMIME("text/plain","null"),Rt.defineExtension=function(n,o){Rt.prototype[n]=o},Rt.defineDocExtension=function(n,o){an.prototype[n]=o},Rt.fromTextArea=function Ic(n,o){if((o=o?nn(o):{}).value=n.value,!o.tabindex&&n.tabIndex&&(o.tabindex=n.tabIndex),!o.placeholder&&n.placeholder&&(o.placeholder=n.placeholder),null==o.autofocus){var f=Ee(n.ownerDocument);o.autofocus=f==n||null!=n.getAttribute("autofocus")&&f==document.body}function c(){n.value=b.getValue()}var h;if(n.form&&(et(n.form,"submit",c),!o.leaveSubmitMethodAlone)){var y=n.form;h=y.submit;try{var C=y.submit=function(){c(),y.submit=h,y.submit(),y.submit=C}}catch{}}o.finishInit=function(S){S.save=c,S.getTextArea=function(){return n},S.toTextArea=function(){S.toTextArea=isNaN,c(),n.parentNode.removeChild(S.getWrapperElement()),n.style.display="",n.form&&(it(n.form,"submit",c),!o.leaveSubmitMethodAlone&&"function"==typeof n.form.submit&&(n.form.submit=h))}},n.style.display="none";var b=Rt(function(S){return n.parentNode.insertBefore(S,n.nextSibling)},o);return b},function _u(n){n.off=it,n.on=et,n.wheelEventPixels=gc,n.Doc=an,n.splitLines=wi,n.countColumn=ht,n.findColumn=es,n.isWordChar=ts,n.Pass=St,n.signal=Ge,n.Line=Nn,n.changeEnd=fi,n.scrollbarModel=Ii,n.Pos=M,n.cmpPos=U,n.modes=bt,n.mimeModes=Xt,n.resolveMode=wn,n.getMode=cn,n.modeExtensions=Fe,n.extendMode=lt,n.copyState=Ot,n.startState=oi,n.innerMode=hn,n.commands=dl,n.keyMap=Ui,n.keyName=ad,n.isModifierKey=Ss,n.lookupKey=Sr,n.normalizeKeyMap=fl,n.StringStream=gt,n.SharedTextMarker=No,n.TextMarker=Bi,n.LineWidget=Cs,n.e_preventDefault=sn,n.e_stopPropagation=Kn,n.e_stop=or,n.addClass=be,n.contains=fe,n.rmClass=ae,n.keyNames=$r}(Rt),Rt.version="5.65.7",Rt}()},4166:(Ve,ve,K)=>{!function(p){"use strict";p.defineMode("javascript",function(ue,re){var se,z,j=ue.indentUnit,L=re.statementIndent,V=re.jsonld,q=re.json||V,ie=!1!==re.trackScope,A=re.typescript,k=re.wordCharacters||/[\w$\xa1-\uffff]/,N=function(){function M(Oe){return{type:Oe,style:"keyword"}}var U=M("keyword a"),Ce=M("keyword b"),Ae=M("keyword c"),Ke=M("keyword d"),pt=M("operator"),kt={type:"atom",style:"atom"};return{if:M("if"),while:U,with:U,else:Ce,do:Ce,try:Ce,finally:Ce,return:Ke,break:Ke,continue:Ke,new:M("new"),delete:Ae,void:Ae,throw:Ae,debugger:M("debugger"),var:M("var"),const:M("var"),let:M("var"),function:M("function"),catch:M("catch"),for:M("for"),switch:M("switch"),case:M("case"),default:M("default"),in:pt,typeof:pt,instanceof:pt,true:kt,false:kt,null:kt,undefined:kt,NaN:kt,Infinity:kt,this:M("this"),class:M("class"),super:M("atom"),yield:Ae,export:M("export"),import:M("import"),extends:Ae,await:Ae}}(),Z=/[+\-*&%=<>!?|~^@]/,Q=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function H(M,U,Ce){return se=M,z=Ce,U}function ne(M,U){var Ce=M.next();if('"'==Ce||"'"==Ce)return U.tokenize=function X(M){return function(U,Ce){var Ke,Ae=!1;if(V&&"@"==U.peek()&&U.match(Q))return Ce.tokenize=ne,H("jsonld-keyword","meta");for(;null!=(Ke=U.next())&&(Ke!=M||Ae);)Ae=!Ae&&"\\"==Ke;return Ae||(Ce.tokenize=ne),H("string","string")}}(Ce),U.tokenize(M,U);if("."==Ce&&M.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return H("number","number");if("."==Ce&&M.match(".."))return H("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ce))return H(Ce);if("="==Ce&&M.eat(">"))return H("=>","operator");if("0"==Ce&&M.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return H("number","number");if(/\d/.test(Ce))return M.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),H("number","number");if("/"==Ce)return M.eat("*")?(U.tokenize=G,G(M,U)):M.eat("/")?(M.skipToEnd(),H("comment","comment")):bi(M,U,1)?(function B(M){for(var Ce,U=!1,Ae=!1;null!=(Ce=M.next());){if(!U){if("/"==Ce&&!Ae)return;"["==Ce?Ae=!0:Ae&&"]"==Ce&&(Ae=!1)}U=!U&&"\\"==Ce}}(M),M.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),H("regexp","string-2")):(M.eat("="),H("operator","operator",M.current()));if("`"==Ce)return U.tokenize=W,W(M,U);if("#"==Ce&&"!"==M.peek())return M.skipToEnd(),H("meta","meta");if("#"==Ce&&M.eatWhile(k))return H("variable","property");if("<"==Ce&&M.match("!--")||"-"==Ce&&M.match("->")&&!/\S/.test(M.string.slice(0,M.start)))return M.skipToEnd(),H("comment","comment");if(Z.test(Ce))return(">"!=Ce||!U.lexical||">"!=U.lexical.type)&&(M.eat("=")?("!"==Ce||"="==Ce)&&M.eat("="):/[<>*+\-|&?]/.test(Ce)&&(M.eat(Ce),">"==Ce&&M.eat(Ce))),"?"==Ce&&M.eat(".")?H("."):H("operator","operator",M.current());if(k.test(Ce)){M.eatWhile(k);var Ae=M.current();if("."!=U.lastType){if(N.propertyIsEnumerable(Ae)){var Ke=N[Ae];return H(Ke.type,Ke.style,Ae)}if("async"==Ae&&M.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return H("async","keyword",Ae)}return H("variable","variable",Ae)}}function G(M,U){for(var Ae,Ce=!1;Ae=M.next();){if("/"==Ae&&Ce){U.tokenize=ne;break}Ce="*"==Ae}return H("comment","comment")}function W(M,U){for(var Ae,Ce=!1;null!=(Ae=M.next());){if(!Ce&&("`"==Ae||"$"==Ae&&M.eat("{"))){U.tokenize=ne;break}Ce=!Ce&&"\\"==Ae}return H("quasi","string-2",M.current())}function I(M,U){U.fatArrowAt&&(U.fatArrowAt=null);var Ce=M.string.indexOf("=>",M.start);if(!(Ce<0)){if(A){var Ae=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(M.string.slice(M.start,Ce));Ae&&(Ce=Ae.index)}for(var Ke=0,pt=!1,kt=Ce-1;kt>=0;--kt){var Oe=M.string.charAt(kt),Fr="([{}])".indexOf(Oe);if(Fr>=0&&Fr<3){if(!Ke){++kt;break}if(0==--Ke){"("==Oe&&(pt=!0);break}}else if(Fr>=3&&Fr<6)++Ke;else if(k.test(Oe))pt=!0;else if(/["'\/`]/.test(Oe))for(;;--kt){if(0==kt)return;if(M.string.charAt(kt-1)==Oe&&"\\"!=M.string.charAt(kt-2)){kt--;break}}else if(pt&&!Ke){++kt;break}}pt&&!Ke&&(U.fatArrowAt=kt)}}var pe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ae(M,U,Ce,Ae,Ke,pt){this.indented=M,this.column=U,this.type=Ce,this.prev=Ke,this.info=pt,null!=Ae&&(this.align=Ae)}function de(M,U){if(!ie)return!1;for(var Ce=M.localVars;Ce;Ce=Ce.next)if(Ce.name==U)return!0;for(var Ae=M.context;Ae;Ae=Ae.prev)for(Ce=Ae.vars;Ce;Ce=Ce.next)if(Ce.name==U)return!0}function me(M,U,Ce,Ae,Ke){var pt=M.cc;for(F.state=M,F.stream=Ke,F.marked=null,F.cc=pt,F.style=U,M.lexical.hasOwnProperty("align")||(M.lexical.align=!0);;)if((pt.length?pt.pop():q?Ht:St)(Ce,Ae)){for(;pt.length&&pt[pt.length-1].lex;)pt.pop()();return F.marked?F.marked:"variable"==Ce&&de(M,Ae)?"variable-2":U}}var F={state:null,column:null,marked:null,cc:null};function ee(){for(var M=arguments.length-1;M>=0;M--)F.cc.push(arguments[M])}function R(){return ee.apply(null,arguments),!0}function fe(M,U){for(var Ce=U;Ce;Ce=Ce.next)if(Ce.name==M)return!0;return!1}function Ee(M){var U=F.state;if(F.marked="def",ie){if(U.context)if("var"==U.lexical.info&&U.context&&U.context.block){var Ce=be(M,U.context);if(null!=Ce)return void(U.context=Ce)}else if(!fe(M,U.localVars))return void(U.localVars=new ft(M,U.localVars));re.globalVars&&!fe(M,U.globalVars)&&(U.globalVars=new ft(M,U.globalVars))}}function be(M,U){if(U){if(U.block){var Ce=be(M,U.prev);return Ce?Ce==U.prev?U:new Be(Ce,U.vars,!0):null}return fe(M,U.vars)?U:new Be(U.prev,new ft(M,U.vars),!1)}return null}function Ze(M){return"public"==M||"private"==M||"protected"==M||"abstract"==M||"readonly"==M}function Be(M,U,Ce){this.prev=M,this.vars=U,this.block=Ce}function ft(M,U){this.name=M,this.next=U}var rt=new ft("this",new ft("arguments",null));function It(){F.state.context=new Be(F.state.context,F.state.localVars,!1),F.state.localVars=rt}function nn(){F.state.context=new Be(F.state.context,F.state.localVars,!0),F.state.localVars=null}function ht(){F.state.localVars=F.state.context.vars,F.state.context=F.state.context.prev}function Qe(M,U){var Ce=function(){var Ae=F.state,Ke=Ae.indented;if("stat"==Ae.lexical.type)Ke=Ae.lexical.indented;else for(var pt=Ae.lexical;pt&&")"==pt.type&&pt.align;pt=pt.prev)Ke=pt.indented;Ae.lexical=new ae(Ke,F.stream.column(),M,null,Ae.lexical,U)};return Ce.lex=!0,Ce}function ze(){var M=F.state;M.lexical.prev&&(")"==M.lexical.type&&(M.indented=M.lexical.indented),M.lexical=M.lexical.prev)}function at(M){return function U(Ce){return Ce==M?R():";"==M||"}"==Ce||")"==Ce||"]"==Ce?ee():R(U)}}function St(M,U){return"var"==M?R(Qe("vardef",U),ii,at(";"),ze):"keyword a"==M?R(Qe("form"),es,St,ze):"keyword b"==M?R(Qe("form"),St,ze):"keyword d"==M?F.stream.match(/^\s*$/,!1)?R():R(Qe("stat"),ni,at(";"),ze):"debugger"==M?R(at(";")):"{"==M?R(Qe("}"),nn,vr,ze,ht):";"==M?R():"if"==M?("else"==F.state.lexical.info&&F.state.cc[F.state.cc.length-1]==ze&&F.state.cc.pop()(),R(Qe("form"),es,St,ze,wi)):"function"==M?R(Xn):"for"==M?R(Qe("form"),nn,Ua,St,ht,ze):"class"==M||A&&"interface"==U?(F.marked="keyword",R(Qe("form","class"==M?M:U),wn,ze)):"variable"==M?A&&"declare"==U?(F.marked="keyword",R(St)):A&&("module"==U||"enum"==U||"type"==U)&&F.stream.match(/^\s*\w/,!1)?(F.marked="keyword","enum"==U?R(Ue):"type"==U?R(Xt,at("operator"),it,at(";")):R(Qe("form"),sr,at("{"),Qe("}"),vr,ze,ze)):A&&"namespace"==U?(F.marked="keyword",R(Qe("form"),Ht,St,ze)):A&&"abstract"==U?(F.marked="keyword",R(St)):R(Qe("stat"),Ki):"switch"==M?R(Qe("form"),es,at("{"),Qe("}","switch"),nn,vr,ze,ze,ht):"case"==M?R(Ht,at(":")):"default"==M?R(at(":")):"catch"==M?R(Qe("form"),It,wt,St,ze,ht):"export"==M?R(Qe("stat"),Ot,ze):"import"==M?R(Qe("stat"),oi,ze):"async"==M?R(St):"@"==U?R(Ht,St):ee(Qe("stat"),Ht,at(";"),ze)}function wt(M){if("("==M)return R($t,at(")"))}function Ht(M,U){return rn(M,U,!1)}function Ln(M,U){return rn(M,U,!0)}function es(M){return"("!=M?ee():R(Qe(")"),ni,at(")"),ze)}function rn(M,U,Ce){if(F.state.fatArrowAt==F.stream.start){var Ae=Ce?Ba:So;if("("==M)return R(It,Qe(")"),Tt($t,")"),ze,at("=>"),Ae,ht);if("variable"==M)return ee(It,sr,at("=>"),Ae,ht)}var Ke=Ce?ir:mt;return pe.hasOwnProperty(M)?R(Ke):"function"==M?R(Xn,Ke):"class"==M||A&&"interface"==U?(F.marked="keyword",R(Qe("form"),Di,ze)):"keyword c"==M||"async"==M?R(Ce?Ln:Ht):"("==M?R(Qe(")"),ni,at(")"),ze,Ke):"operator"==M||"spread"==M?R(Ce?Ln:Ht):"["==M?R(Qe("]"),Pn,ze,Ke):"{"==M?Zn(je,"}",null,Ke):"quasi"==M?ee(zs,Ke):"new"==M?R(function ts(M){return function(U){return"."==U?R(M?ns:_i):"variable"==U&&A?R(Ci,M?ir:mt):ee(M?Ln:Ht)}}(Ce)):R()}function ni(M){return M.match(/[;\}\)\],]/)?ee():ee(Ht)}function mt(M,U){return","==M?R(ni):ir(M,U,!1)}function ir(M,U,Ce){var Ae=0==Ce?mt:ir,Ke=0==Ce?Ht:Ln;if("=>"==M)return R(It,Ce?Ba:So,ht);if("operator"==M)return/\+\+|--/.test(U)||A&&"!"==U?R(Ae):A&&"<"==U&&F.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?R(Qe(">"),Tt(it,">"),ze,Ae):"?"==U?R(Ht,at(":"),Ke):R(Ke);if("quasi"==M)return ee(zs,Ae);if(";"!=M){if("("==M)return Zn(Ln,")","call",Ae);if("."==M)return R($s,Ae);if("["==M)return R(Qe("]"),ni,at("]"),ze,Ae);if(A&&"as"==U)return F.marked="keyword",R(it,Ae);if("regexp"==M)return F.state.lastType=F.marked="operator",F.stream.backUp(F.stream.pos-F.stream.start-1),R(Ke)}}function zs(M,U){return"quasi"!=M?ee():"${"!=U.slice(U.length-2)?R(zs):R(ni,zn)}function zn(M){if("}"==M)return F.marked="string-2",F.state.tokenize=W,R(zs)}function So(M){return I(F.stream,F.state),ee("{"==M?St:Ht)}function Ba(M){return I(F.stream,F.state),ee("{"==M?St:Ln)}function _i(M,U){if("target"==U)return F.marked="keyword",R(mt)}function ns(M,U){if("target"==U)return F.marked="keyword",R(ir)}function Ki(M){return":"==M?R(ze,St):ee(mt,at(";"),ze)}function $s(M){if("variable"==M)return F.marked="property",R()}function je(M,U){return"async"==M?(F.marked="property",R(je)):"variable"==M||"keyword"==F.style?(F.marked="property","get"==U||"set"==U?R(Je):(A&&F.state.fatArrowAt==F.stream.start&&(Ce=F.stream.match(/^\s*:\s*/,!1))&&(F.state.fatArrowAt=F.stream.pos+Ce[0].length),R(st))):"number"==M||"string"==M?(F.marked=V?"property":F.style+" property",R(st)):"jsonld-keyword"==M?R(st):A&&Ze(U)?(F.marked="keyword",R(je)):"["==M?R(Ht,Ut,at("]"),st):"spread"==M?R(Ln,st):"*"==U?(F.marked="keyword",R(je)):":"==M?ee(st):void 0;var Ce}function Je(M){return"variable"!=M?ee(st):(F.marked="property",R(Xn))}function st(M){return":"==M?R(Ln):"("==M?ee(Xn):void 0}function Tt(M,U,Ce){function Ae(Ke,pt){if(Ce?Ce.indexOf(Ke)>-1:","==Ke){var kt=F.state.lexical;return"call"==kt.info&&(kt.pos=(kt.pos||0)+1),R(function(Oe,Fr){return Oe==U||Fr==U?ee():ee(M)},Ae)}return Ke==U||pt==U?R():Ce&&Ce.indexOf(";")>-1?ee(M):R(at(U))}return function(Ke,pt){return Ke==U||pt==U?R():ee(M,Ae)}}function Zn(M,U,Ce){for(var Ae=3;Ae<arguments.length;Ae++)F.cc.push(arguments[Ae]);return R(Qe(U,Ce),Tt(M,U),ze)}function vr(M){return"}"==M?R():ee(St,vr)}function Ut(M,U){if(A){if(":"==M)return R(it);if("?"==U)return R(Ut)}}function Yt(M,U){if(A&&(":"==M||"in"==U))return R(it)}function et(M){if(A&&":"==M)return F.stream.match(/^\s*\w+\s+is\b/,!1)?R(Ht,Qt,it):R(it)}function Qt(M,U){if("is"==U)return F.marked="keyword",R()}function it(M,U){return"keyof"==U||"typeof"==U||"infer"==U||"readonly"==U?(F.marked="keyword",R("typeof"==U?Ln:it)):"variable"==M||"void"==U?(F.marked="type",R(Kn)):"|"==U||"&"==U?R(it):"string"==M||"number"==M||"atom"==M?R(Kn):"["==M?R(Qe("]"),Tt(it,"]",","),ze,Kn):"{"==M?R(Qe("}"),on,ze,Kn):"("==M?R(Tt(sn,")"),Ge,Kn):"<"==M?R(Tt(it,">"),it):"quasi"==M?ee(un,Kn):void 0}function Ge(M){if("=>"==M)return R(it)}function on(M){return M.match(/[\}\)\]]/)?R():","==M||";"==M?R(on):ee(ri,on)}function ri(M,U){return"variable"==M||"keyword"==F.style?(F.marked="property",R(ri)):"?"==U||"number"==M||"string"==M?R(ri):":"==M?R(it):"["==M?R(at("variable"),Yt,at("]"),ri):"("==M?ee(bt,ri):M.match(/[;\}\)\],]/)?void 0:R()}function un(M,U){return"quasi"!=M?ee():"${"!=U.slice(U.length-2)?R(un):R(it,_t)}function _t(M){if("}"==M)return F.marked="string-2",F.state.tokenize=W,R(un)}function sn(M,U){return"variable"==M&&F.stream.match(/^\s*[?:]/,!1)||"?"==U?R(sn):":"==M?R(it):"spread"==M?R(sn):ee(it)}function Kn(M,U){return"<"==U?R(Qe(">"),Tt(it,">"),ze,Kn):"|"==U||"."==M||"&"==U?R(it):"["==M?R(it,at("]"),Kn):"extends"==U||"implements"==U?(F.marked="keyword",R(it)):"?"==U?R(it,at(":"),it):void 0}function Ci(M,U){if("<"==U)return R(Qe(">"),Tt(it,">"),ze,Kn)}function or(){return ee(it,Qn)}function Qn(M,U){if("="==U)return R(it)}function ii(M,U){return"enum"==U?(F.marked="keyword",R(Ue)):ee(sr,Ut,mr,Ha)}function sr(M,U){return A&&Ze(U)?(F.marked="keyword",R(sr)):"variable"==M?(Ee(U),R()):"spread"==M?R(sr):"["==M?Zn(Rl,"]"):"{"==M?Zn(Qi,"}"):void 0}function Qi(M,U){return"variable"!=M||F.stream.match(/^\s*:/,!1)?("variable"==M&&(F.marked="property"),"spread"==M?R(sr):"}"==M?ee():"["==M?R(Ht,at("]"),at(":"),Qi):R(at(":"),sr,mr)):(Ee(U),R(mr))}function Rl(){return ee(sr,mr)}function mr(M,U){if("="==U)return R(Ln)}function Ha(M){if(","==M)return R(ii)}function wi(M,U){if("keyword b"==M&&"else"==U)return R(Qe("form","else"),St,ze)}function Ua(M,U){return"await"==U?R(Ua):"("==M?R(Qe(")"),Gs,ze):void 0}function Gs(M){return"var"==M?R(ii,ar):"variable"==M?R(ar):ee(ar)}function ar(M,U){return")"==M?R():";"==M?R(ar):"in"==U||"of"==U?(F.marked="keyword",R(Ht,ar)):ee(Ht,ar)}function Xn(M,U){return"*"==U?(F.marked="keyword",R(Xn)):"variable"==M?(Ee(U),R(Xn)):"("==M?R(It,Qe(")"),Tt($t,")"),ze,et,St,ht):A&&"<"==U?R(Qe(">"),Tt(or,">"),ze,Xn):void 0}function bt(M,U){return"*"==U?(F.marked="keyword",R(bt)):"variable"==M?(Ee(U),R(bt)):"("==M?R(It,Qe(")"),Tt($t,")"),ze,et,ht):A&&"<"==U?R(Qe(">"),Tt(or,">"),ze,bt):void 0}function Xt(M,U){return"keyword"==M||"variable"==M?(F.marked="type",R(Xt)):"<"==U?R(Qe(">"),Tt(or,">"),ze):void 0}function $t(M,U){return"@"==U&&R(Ht,$t),"spread"==M?R($t):A&&Ze(U)?(F.marked="keyword",R($t)):A&&"this"==M?R(Ut,mr):ee(sr,Ut,mr)}function Di(M,U){return"variable"==M?wn(M,U):cn(M,U)}function wn(M,U){if("variable"==M)return Ee(U),R(cn)}function cn(M,U){return"<"==U?R(Qe(">"),Tt(or,">"),ze,cn):"extends"==U||"implements"==U||A&&","==M?("implements"==U&&(F.marked="keyword"),R(A?it:Ht,cn)):"{"==M?R(Qe("}"),Fe,ze):void 0}function Fe(M,U){return"async"==M||"variable"==M&&("static"==U||"get"==U||"set"==U||A&&Ze(U))&&F.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(F.marked="keyword",R(Fe)):"variable"==M||"keyword"==F.style?(F.marked="property",R(lt,Fe)):"number"==M||"string"==M?R(lt,Fe):"["==M?R(Ht,Ut,at("]"),lt,Fe):"*"==U?(F.marked="keyword",R(Fe)):A&&"("==M?ee(bt,Fe):";"==M||","==M?R(Fe):"}"==M?R():"@"==U?R(Ht,Fe):void 0}function lt(M,U){if("!"==U||"?"==U)return R(lt);if(":"==M)return R(it,mr);if("="==U)return R(Ln);var Ce=F.state.lexical.prev;return ee(Ce&&"interface"==Ce.info?bt:Xn)}function Ot(M,U){return"*"==U?(F.marked="keyword",R(yr,at(";"))):"default"==U?(F.marked="keyword",R(Ht,at(";"))):"{"==M?R(Tt(hn,"}"),yr,at(";")):ee(St)}function hn(M,U){return"as"==U?(F.marked="keyword",R(at("variable"))):"variable"==M?ee(Ln,hn):void 0}function oi(M){return"string"==M?R():"("==M?ee(Ht):"."==M?ee(mt):ee(gt,$e,yr)}function gt(M,U){return"{"==M?Zn(gt,"}"):("variable"==M&&Ee(U),"*"==U&&(F.marked="keyword"),R(Ft))}function $e(M){if(","==M)return R(gt,$e)}function Ft(M,U){if("as"==U)return F.marked="keyword",R(gt)}function yr(M,U){if("from"==U)return F.marked="keyword",R(Ht)}function Pn(M){return"]"==M?R():ee(Tt(Ln,"]"))}function Ue(){return ee(Qe("form"),sr,at("{"),Qe("}"),Tt(qr,"}"),ze,ze)}function qr(){return ee(sr,mr)}function bi(M,U,Ce){return U.tokenize==ne&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(U.lastType)||"quasi"==U.lastType&&/\{\s*$/.test(M.string.slice(0,M.pos-(Ce||0)))}return It.lex=nn.lex=!0,ht.lex=!0,ze.lex=!0,{startState:function(M){var U={tokenize:ne,lastType:"sof",cc:[],lexical:new ae((M||0)-j,0,"block",!1),localVars:re.localVars,context:re.localVars&&new Be(null,null,!1),indented:M||0};return re.globalVars&&"object"==typeof re.globalVars&&(U.globalVars=re.globalVars),U},token:function(M,U){if(M.sol()&&(U.lexical.hasOwnProperty("align")||(U.lexical.align=!1),U.indented=M.indentation(),I(M,U)),U.tokenize!=G&&M.eatSpace())return null;var Ce=U.tokenize(M,U);return"comment"==se?Ce:(U.lastType="operator"!=se||"++"!=z&&"--"!=z?se:"incdec",me(U,Ce,se,z,M))},indent:function(M,U){if(M.tokenize==G||M.tokenize==W)return p.Pass;if(M.tokenize!=ne)return 0;var Ke,Ce=U&&U.charAt(0),Ae=M.lexical;if(!/^\s*else\b/.test(U))for(var pt=M.cc.length-1;pt>=0;--pt){var kt=M.cc[pt];if(kt==ze)Ae=Ae.prev;else if(kt!=wi&&kt!=ht)break}for(;("stat"==Ae.type||"form"==Ae.type)&&("}"==Ce||(Ke=M.cc[M.cc.length-1])&&(Ke==mt||Ke==ir)&&!/^[,\.=+\-*:?[\(]/.test(U));)Ae=Ae.prev;L&&")"==Ae.type&&"stat"==Ae.prev.type&&(Ae=Ae.prev);var Oe=Ae.type,Fr=Ce==Oe;return"vardef"==Oe?Ae.indented+("operator"==M.lastType||","==M.lastType?Ae.info.length+1:0):"form"==Oe&&"{"==Ce?Ae.indented:"form"==Oe?Ae.indented+j:"stat"==Oe?Ae.indented+(function Or(M,U){return"operator"==M.lastType||","==M.lastType||Z.test(U.charAt(0))||/[,.]/.test(U.charAt(0))}(M,U)?L||j:0):"switch"!=Ae.info||Fr||0==re.doubleIndentSwitch?Ae.align?Ae.column+(Fr?0:1):Ae.indented+(Fr?0:j):Ae.indented+(/^(?:case|default)\b/.test(U)?j:2*j)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:q?null:"/*",blockCommentEnd:q?null:"*/",blockCommentContinue:q?null:" * ",lineComment:q?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:q?"json":"javascript",jsonldMode:V,jsonMode:q,expressionAllowed:bi,skipExpression:function(M){me(M,"atom","atom","true",new p.StringStream("",2,null))}}}),p.registerHelper("wordChars","javascript",/[\w$]/),p.defineMIME("text/javascript","javascript"),p.defineMIME("text/ecmascript","javascript"),p.defineMIME("application/javascript","javascript"),p.defineMIME("application/x-javascript","javascript"),p.defineMIME("application/ecmascript","javascript"),p.defineMIME("application/json",{name:"javascript",json:!0}),p.defineMIME("application/x-json",{name:"javascript",json:!0}),p.defineMIME("application/manifest+json",{name:"javascript",json:!0}),p.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),p.defineMIME("text/typescript",{name:"javascript",typescript:!0}),p.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(K(8266))},9069:Ve=>{"use strict";var p,ve="object"==typeof Reflect?Reflect:null,K=ve&&"function"==typeof ve.apply?ve.apply:function(G,W,te){return Function.prototype.apply.call(G,W,te)};p=ve&&"function"==typeof ve.ownKeys?ve.ownKeys:Object.getOwnPropertySymbols?function(G){return Object.getOwnPropertyNames(G).concat(Object.getOwnPropertySymbols(G))}:function(G){return Object.getOwnPropertyNames(G)};var re=Number.isNaN||function(G){return G!=G};function j(){j.init.call(this)}Ve.exports=j,Ve.exports.once=function z(X,G){return new Promise(function(W,te){function I(ae){X.removeListener(G,pe),te(ae)}function pe(){"function"==typeof X.removeListener&&X.removeListener("error",I),W([].slice.call(arguments))}ne(X,G,pe,{once:!0}),"error"!==G&&function H(X,G,W){"function"==typeof X.on&&ne(X,"error",G,W)}(X,I,{once:!0})})},j.EventEmitter=j,j.prototype._events=void 0,j.prototype._eventsCount=0,j.prototype._maxListeners=void 0;var L=10;function V(X){if("function"!=typeof X)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof X)}function q(X){return void 0===X._maxListeners?j.defaultMaxListeners:X._maxListeners}function ie(X,G,W,te){var I,pe,ae;if(V(W),void 0===(pe=X._events)?(pe=X._events=Object.create(null),X._eventsCount=0):(void 0!==pe.newListener&&(X.emit("newListener",G,W.listener?W.listener:W),pe=X._events),ae=pe[G]),void 0===ae)ae=pe[G]=W,++X._eventsCount;else if("function"==typeof ae?ae=pe[G]=te?[W,ae]:[ae,W]:te?ae.unshift(W):ae.push(W),(I=q(X))>0&&ae.length>I&&!ae.warned){ae.warned=!0;var de=new Error("Possible EventEmitter memory leak detected. "+ae.length+" "+String(G)+" listeners added. Use emitter.setMaxListeners() to increase limit");de.name="MaxListenersExceededWarning",de.emitter=X,de.type=G,de.count=ae.length,function ue(X){console&&console.warn&&console.warn(X)}(de)}return X}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function k(X,G,W){var te={fired:!1,wrapFn:void 0,target:X,type:G,listener:W},I=A.bind(te);return I.listener=W,te.wrapFn=I,I}function N(X,G,W){var te=X._events;if(void 0===te)return[];var I=te[G];return void 0===I?[]:"function"==typeof I?W?[I.listener||I]:[I]:W?function se(X){for(var G=new Array(X.length),W=0;W<G.length;++W)G[W]=X[W].listener||X[W];return G}(I):Q(I,I.length)}function Z(X){var G=this._events;if(void 0!==G){var W=G[X];if("function"==typeof W)return 1;if(void 0!==W)return W.length}return 0}function Q(X,G){for(var W=new Array(G),te=0;te<G;++te)W[te]=X[te];return W}function ne(X,G,W,te){if("function"==typeof X.on)te.once?X.once(G,W):X.on(G,W);else{if("function"!=typeof X.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof X);X.addEventListener(G,function I(pe){te.once&&X.removeEventListener(G,I),W(pe)})}}Object.defineProperty(j,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(X){if("number"!=typeof X||X<0||re(X))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+X+".");L=X}}),j.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(G){if("number"!=typeof G||G<0||re(G))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+G+".");return this._maxListeners=G,this},j.prototype.getMaxListeners=function(){return q(this)},j.prototype.emit=function(G){for(var W=[],te=1;te<arguments.length;te++)W.push(arguments[te]);var I="error"===G,pe=this._events;if(void 0!==pe)I=I&&void 0===pe.error;else if(!I)return!1;if(I){var ae;if(W.length>0&&(ae=W[0]),ae instanceof Error)throw ae;var de=new Error("Unhandled error."+(ae?" ("+ae.message+")":""));throw de.context=ae,de}var me=pe[G];if(void 0===me)return!1;if("function"==typeof me)K(me,this,W);else{var F=me.length,ee=Q(me,F);for(te=0;te<F;++te)K(ee[te],this,W)}return!0},j.prototype.on=j.prototype.addListener=function(G,W){return ie(this,G,W,!1)},j.prototype.prependListener=function(G,W){return ie(this,G,W,!0)},j.prototype.once=function(G,W){return V(W),this.on(G,k(this,G,W)),this},j.prototype.prependOnceListener=function(G,W){return V(W),this.prependListener(G,k(this,G,W)),this},j.prototype.off=j.prototype.removeListener=function(G,W){var te,I,pe,ae,de;if(V(W),void 0===(I=this._events))return this;if(void 0===(te=I[G]))return this;if(te===W||te.listener===W)0==--this._eventsCount?this._events=Object.create(null):(delete I[G],I.removeListener&&this.emit("removeListener",G,te.listener||W));else if("function"!=typeof te){for(pe=-1,ae=te.length-1;ae>=0;ae--)if(te[ae]===W||te[ae].listener===W){de=te[ae].listener,pe=ae;break}if(pe<0)return this;0===pe?te.shift():function B(X,G){for(;G+1<X.length;G++)X[G]=X[G+1];X.pop()}(te,pe),1===te.length&&(I[G]=te[0]),void 0!==I.removeListener&&this.emit("removeListener",G,de||W)}return this},j.prototype.removeAllListeners=function(G){var W,te,I;if(void 0===(te=this._events))return this;if(void 0===te.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==te[G]&&(0==--this._eventsCount?this._events=Object.create(null):delete te[G]),this;if(0===arguments.length){var ae,pe=Object.keys(te);for(I=0;I<pe.length;++I)"removeListener"!==(ae=pe[I])&&this.removeAllListeners(ae);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(W=te[G]))this.removeListener(G,W);else if(void 0!==W)for(I=W.length-1;I>=0;I--)this.removeListener(G,W[I]);return this},j.prototype.listeners=function(G){return N(this,G,!0)},j.prototype.rawListeners=function(G){return N(this,G,!1)},j.listenerCount=function(X,G){return"function"==typeof X.listenerCount?X.listenerCount(G):Z.call(X,G)},j.prototype.listenerCount=Z,j.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]}},1135:(Ve,ve,K)=>{"use strict";K.d(ve,{X:()=>ue});var p=K(7579);class ue extends p.x{constructor(j){super(),this._value=j}get value(){return this.getValue()}_subscribe(j){const L=super._subscribe(j);return!L.closed&&j.next(this._value),L}getValue(){const{hasError:j,thrownError:L,_value:V}=this;if(j)throw L;return this._throwIfClosed(),V}next(j){super.next(this._value=j)}}},9751:(Ve,ve,K)=>{"use strict";K.d(ve,{y:()=>ie});var p=K(2961),ue=K(727),re=K(8822),j=K(9635),L=K(2416),V=K(576),q=K(2806);let ie=(()=>{class Z{constructor(B){B&&(this._subscribe=B)}lift(B){const se=new Z;return se.source=this,se.operator=B,se}subscribe(B,se,z){const H=function N(Z){return Z&&Z instanceof p.Lv||function k(Z){return Z&&(0,V.m)(Z.next)&&(0,V.m)(Z.error)&&(0,V.m)(Z.complete)}(Z)&&(0,ue.Nn)(Z)}(B)?B:new p.Hp(B,se,z);return(0,q.x)(()=>{const{operator:ne,source:X}=this;H.add(ne?ne.call(H,X):X?this._subscribe(H):this._trySubscribe(H))}),H}_trySubscribe(B){try{return this._subscribe(B)}catch(se){B.error(se)}}forEach(B,se){return new(se=A(se))((z,H)=>{const ne=new p.Hp({next:X=>{try{B(X)}catch(G){H(G),ne.unsubscribe()}},error:H,complete:z});this.subscribe(ne)})}_subscribe(B){var se;return null===(se=this.source)||void 0===se?void 0:se.subscribe(B)}[re.L](){return this}pipe(...B){return(0,j.U)(B)(this)}toPromise(B){return new(B=A(B))((se,z)=>{let H;this.subscribe(ne=>H=ne,ne=>z(ne),()=>se(H))})}}return Z.create=Q=>new Z(Q),Z})();function A(Z){var Q;return null!==(Q=Z??L.v.Promise)&&void 0!==Q?Q:Promise}},7579:(Ve,ve,K)=>{"use strict";K.d(ve,{x:()=>q});var p=K(9751),ue=K(727);const j=(0,K(3888).d)(A=>function(){A(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var L=K(8737),V=K(2806);let q=(()=>{class A extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(N){const Z=new ie(this,this);return Z.operator=N,Z}_throwIfClosed(){if(this.closed)throw new j}next(N){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(N)}})}error(N){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=N;const{observers:Z}=this;for(;Z.length;)Z.shift().error(N)}})}complete(){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:N}=this;for(;N.length;)N.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var N;return(null===(N=this.observers)||void 0===N?void 0:N.length)>0}_trySubscribe(N){return this._throwIfClosed(),super._trySubscribe(N)}_subscribe(N){return this._throwIfClosed(),this._checkFinalizedStatuses(N),this._innerSubscribe(N)}_innerSubscribe(N){const{hasError:Z,isStopped:Q,observers:B}=this;return Z||Q?ue.Lc:(this.currentObservers=null,B.push(N),new ue.w0(()=>{this.currentObservers=null,(0,L.P)(B,N)}))}_checkFinalizedStatuses(N){const{hasError:Z,thrownError:Q,isStopped:B}=this;Z?N.error(Q):B&&N.complete()}asObservable(){const N=new p.y;return N.source=this,N}}return A.create=(k,N)=>new ie(k,N),A})();class ie extends q{constructor(k,N){super(),this.destination=k,this.source=N}next(k){var N,Z;null===(Z=null===(N=this.destination)||void 0===N?void 0:N.next)||void 0===Z||Z.call(N,k)}error(k){var N,Z;null===(Z=null===(N=this.destination)||void 0===N?void 0:N.error)||void 0===Z||Z.call(N,k)}complete(){var k,N;null===(N=null===(k=this.destination)||void 0===k?void 0:k.complete)||void 0===N||N.call(k)}_subscribe(k){var N,Z;return null!==(Z=null===(N=this.source)||void 0===N?void 0:N.subscribe(k))&&void 0!==Z?Z:ue.Lc}}},2961:(Ve,ve,K)=>{"use strict";K.d(ve,{Hp:()=>z,Lv:()=>Z});var p=K(576),ue=K(727),re=K(2416),j=K(7849);function L(){}const V=A("C",void 0,void 0);function A(W,te,I){return{kind:W,value:te,error:I}}var k=K(3410),N=K(2806);class Z extends ue.w0{constructor(te){super(),this.isStopped=!1,te?(this.destination=te,(0,ue.Nn)(te)&&te.add(this)):this.destination=G}static create(te,I,pe){return new z(te,I,pe)}next(te){this.isStopped?X(function ie(W){return A("N",W,void 0)}(te),this):this._next(te)}error(te){this.isStopped?X(function q(W){return A("E",void 0,W)}(te),this):(this.isStopped=!0,this._error(te))}complete(){this.isStopped?X(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(te){this.destination.next(te)}_error(te){try{this.destination.error(te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function B(W,te){return Q.call(W,te)}class se{constructor(te){this.partialObserver=te}next(te){const{partialObserver:I}=this;if(I.next)try{I.next(te)}catch(pe){H(pe)}}error(te){const{partialObserver:I}=this;if(I.error)try{I.error(te)}catch(pe){H(pe)}else H(te)}complete(){const{partialObserver:te}=this;if(te.complete)try{te.complete()}catch(I){H(I)}}}class z extends Z{constructor(te,I,pe){let ae;if(super(),(0,p.m)(te)||!te)ae={next:te??void 0,error:I??void 0,complete:pe??void 0};else{let de;this&&re.v.useDeprecatedNextContext?(de=Object.create(te),de.unsubscribe=()=>this.unsubscribe(),ae={next:te.next&&B(te.next,de),error:te.error&&B(te.error,de),complete:te.complete&&B(te.complete,de)}):ae=te}this.destination=new se(ae)}}function H(W){re.v.useDeprecatedSynchronousErrorHandling?(0,N.O)(W):(0,j.h)(W)}function X(W,te){const{onStoppedNotification:I}=re.v;I&&k.z.setTimeout(()=>I(W,te))}const G={closed:!0,next:L,error:function ne(W){throw W},complete:L}},727:(Ve,ve,K)=>{"use strict";K.d(ve,{Lc:()=>V,w0:()=>L,Nn:()=>q});var p=K(576);const re=(0,K(3888).d)(A=>function(N){A(this),this.message=N?`${N.length} errors occurred during unsubscription:\n${N.map((Z,Q)=>`${Q+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=N});var j=K(8737);class L{constructor(k){this.initialTeardown=k,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let k;if(!this.closed){this.closed=!0;const{_parentage:N}=this;if(N)if(this._parentage=null,Array.isArray(N))for(const B of N)B.remove(this);else N.remove(this);const{initialTeardown:Z}=this;if((0,p.m)(Z))try{Z()}catch(B){k=B instanceof re?B.errors:[B]}const{_finalizers:Q}=this;if(Q){this._finalizers=null;for(const B of Q)try{ie(B)}catch(se){k=k??[],se instanceof re?k=[...k,...se.errors]:k.push(se)}}if(k)throw new re(k)}}add(k){var N;if(k&&k!==this)if(this.closed)ie(k);else{if(k instanceof L){if(k.closed||k._hasParent(this))return;k._addParent(this)}(this._finalizers=null!==(N=this._finalizers)&&void 0!==N?N:[]).push(k)}}_hasParent(k){const{_parentage:N}=this;return N===k||Array.isArray(N)&&N.includes(k)}_addParent(k){const{_parentage:N}=this;this._parentage=Array.isArray(N)?(N.push(k),N):N?[N,k]:k}_removeParent(k){const{_parentage:N}=this;N===k?this._parentage=null:Array.isArray(N)&&(0,j.P)(N,k)}remove(k){const{_finalizers:N}=this;N&&(0,j.P)(N,k),k instanceof L&&k._removeParent(this)}}L.EMPTY=(()=>{const A=new L;return A.closed=!0,A})();const V=L.EMPTY;function q(A){return A instanceof L||A&&"closed"in A&&(0,p.m)(A.remove)&&(0,p.m)(A.add)&&(0,p.m)(A.unsubscribe)}function ie(A){(0,p.m)(A)?A():A.unsubscribe()}},2416:(Ve,ve,K)=>{"use strict";K.d(ve,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ve,ve,K)=>{"use strict";K.d(ve,{E:()=>ue});const ue=new(K(9751).y)(L=>L.complete())},2076:(Ve,ve,K)=>{"use strict";K.d(ve,{D:()=>pe});var p=K(8421),ue=K(9672),re=K(4482),j=K(5403);function L(ae,de=0){return(0,re.e)((me,F)=>{me.subscribe((0,j.x)(F,ee=>(0,ue.f)(F,ae,()=>F.next(ee),de),()=>(0,ue.f)(F,ae,()=>F.complete(),de),ee=>(0,ue.f)(F,ae,()=>F.error(ee),de)))})}function V(ae,de=0){return(0,re.e)((me,F)=>{F.add(ae.schedule(()=>me.subscribe(F),de))})}var A=K(9751),N=K(2202),Z=K(576);function B(ae,de){if(!ae)throw new Error("Iterable cannot be null");return new A.y(me=>{(0,ue.f)(me,de,()=>{const F=ae[Symbol.asyncIterator]();(0,ue.f)(me,de,()=>{F.next().then(ee=>{ee.done?me.complete():me.next(ee.value)})},0,!0)})})}var se=K(3670),z=K(8239),H=K(1144),ne=K(6495),X=K(2206),G=K(4532),W=K(3260);function pe(ae,de){return de?function I(ae,de){if(null!=ae){if((0,se.c)(ae))return function q(ae,de){return(0,p.Xf)(ae).pipe(V(de),L(de))}(ae,de);if((0,H.z)(ae))return function k(ae,de){return new A.y(me=>{let F=0;return de.schedule(function(){F===ae.length?me.complete():(me.next(ae[F++]),me.closed||this.schedule())})})}(ae,de);if((0,z.t)(ae))return function ie(ae,de){return(0,p.Xf)(ae).pipe(V(de),L(de))}(ae,de);if((0,X.D)(ae))return B(ae,de);if((0,ne.T)(ae))return function Q(ae,de){return new A.y(me=>{let F;return(0,ue.f)(me,de,()=>{F=ae[N.h](),(0,ue.f)(me,de,()=>{let ee,R;try{({value:ee,done:R}=F.next())}catch(fe){return void me.error(fe)}R?me.complete():me.next(ee)},0,!0)}),()=>(0,Z.m)(F?.return)&&F.return()})}(ae,de);if((0,W.L)(ae))return function te(ae,de){return B((0,W.Q)(ae),de)}(ae,de)}throw(0,G.z)(ae)}(ae,de):(0,p.Xf)(ae)}},8421:(Ve,ve,K)=>{"use strict";K.d(ve,{Xf:()=>Q});var p=K(655),ue=K(1144),re=K(8239),j=K(9751),L=K(3670),V=K(2206),q=K(4532),ie=K(6495),A=K(3260),k=K(576),N=K(7849),Z=K(8822);function Q(W){if(W instanceof j.y)return W;if(null!=W){if((0,L.c)(W))return function B(W){return new j.y(te=>{const I=W[Z.L]();if((0,k.m)(I.subscribe))return I.subscribe(te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(W);if((0,ue.z)(W))return function se(W){return new j.y(te=>{for(let I=0;I<W.length&&!te.closed;I++)te.next(W[I]);te.complete()})}(W);if((0,re.t)(W))return function z(W){return new j.y(te=>{W.then(I=>{te.closed||(te.next(I),te.complete())},I=>te.error(I)).then(null,N.h)})}(W);if((0,V.D)(W))return ne(W);if((0,ie.T)(W))return function H(W){return new j.y(te=>{for(const I of W)if(te.next(I),te.closed)return;te.complete()})}(W);if((0,A.L)(W))return function X(W){return ne((0,A.Q)(W))}(W)}throw(0,q.z)(W)}function ne(W){return new j.y(te=>{(function G(W,te){var I,pe,ae,de;return(0,p.mG)(this,void 0,void 0,function*(){try{for(I=(0,p.KL)(W);!(pe=yield I.next()).done;)if(te.next(pe.value),te.closed)return}catch(me){ae={error:me}}finally{try{pe&&!pe.done&&(de=I.return)&&(yield de.call(I))}finally{if(ae)throw ae.error}}te.complete()})})(W,te).catch(I=>te.error(I))})}},5403:(Ve,ve,K)=>{"use strict";K.d(ve,{x:()=>ue});var p=K(2961);function ue(j,L,V,q,ie){return new re(j,L,V,q,ie)}class re extends p.Lv{constructor(L,V,q,ie,A,k){super(L),this.onFinalize=A,this.shouldUnsubscribe=k,this._next=V?function(N){try{V(N)}catch(Z){L.error(Z)}}:super._next,this._error=ie?function(N){try{ie(N)}catch(Z){L.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(N){L.error(N)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var L;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:V}=this;super.unsubscribe(),!V&&(null===(L=this.onFinalize)||void 0===L||L.call(this))}}}},4004:(Ve,ve,K)=>{"use strict";K.d(ve,{U:()=>re});var p=K(4482),ue=K(5403);function re(j,L){return(0,p.e)((V,q)=>{let ie=0;V.subscribe((0,ue.x)(q,A=>{q.next(j.call(L,A,ie++))}))})}},8189:(Ve,ve,K)=>{"use strict";K.d(ve,{J:()=>re});var p=K(5577),ue=K(4671);function re(j=1/0){return(0,p.z)(ue.y,j)}},5577:(Ve,ve,K)=>{"use strict";K.d(ve,{z:()=>ie});var p=K(4004),ue=K(8421),re=K(4482),j=K(9672),L=K(5403),q=K(576);function ie(A,k,N=1/0){return(0,q.m)(k)?ie((Z,Q)=>(0,p.U)((B,se)=>k(Z,B,Q,se))((0,ue.Xf)(A(Z,Q))),N):("number"==typeof k&&(N=k),(0,re.e)((Z,Q)=>function V(A,k,N,Z,Q,B,se,z){const H=[];let ne=0,X=0,G=!1;const W=()=>{G&&!H.length&&!ne&&k.complete()},te=pe=>ne<Z?I(pe):H.push(pe),I=pe=>{B&&k.next(pe),ne++;let ae=!1;(0,ue.Xf)(N(pe,X++)).subscribe((0,L.x)(k,de=>{Q?.(de),B?te(de):k.next(de)},()=>{ae=!0},void 0,()=>{if(ae)try{for(ne--;H.length&&ne<Z;){const de=H.shift();se?(0,j.f)(k,se,()=>I(de)):I(de)}W()}catch(de){k.error(de)}}))};return A.subscribe((0,L.x)(k,te,()=>{G=!0,W()})),()=>{z?.()}}(Z,Q,A,N)))}},3410:(Ve,ve,K)=>{"use strict";K.d(ve,{z:()=>p});const p={setTimeout(ue,re,...j){const{delegate:L}=p;return L?.setTimeout?L.setTimeout(ue,re,...j):setTimeout(ue,re,...j)},clearTimeout(ue){const{delegate:re}=p;return(re?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},2202:(Ve,ve,K)=>{"use strict";K.d(ve,{h:()=>ue});const ue=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ve,ve,K)=>{"use strict";K.d(ve,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ve,ve,K)=>{"use strict";K.d(ve,{_6:()=>V,jO:()=>j,yG:()=>L});var p=K(576);function re(q){return q[q.length-1]}function j(q){return(0,p.m)(re(q))?q.pop():void 0}function L(q){return function ue(q){return q&&(0,p.m)(q.schedule)}(re(q))?q.pop():void 0}function V(q,ie){return"number"==typeof re(q)?q.pop():ie}},8737:(Ve,ve,K)=>{"use strict";function p(ue,re){if(ue){const j=ue.indexOf(re);0<=j&&ue.splice(j,1)}}K.d(ve,{P:()=>p})},3888:(Ve,ve,K)=>{"use strict";function p(ue){const j=ue(L=>{Error.call(L),L.stack=(new Error).stack});return j.prototype=Object.create(Error.prototype),j.prototype.constructor=j,j}K.d(ve,{d:()=>p})},2806:(Ve,ve,K)=>{"use strict";K.d(ve,{O:()=>j,x:()=>re});var p=K(2416);let ue=null;function re(L){if(p.v.useDeprecatedSynchronousErrorHandling){const V=!ue;if(V&&(ue={errorThrown:!1,error:null}),L(),V){const{errorThrown:q,error:ie}=ue;if(ue=null,q)throw ie}}else L()}function j(L){p.v.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=L)}},9672:(Ve,ve,K)=>{"use strict";function p(ue,re,j,L=0,V=!1){const q=re.schedule(function(){j(),V?ue.add(this.schedule(null,L)):this.unsubscribe()},L);if(ue.add(q),!V)return q}K.d(ve,{f:()=>p})},4671:(Ve,ve,K)=>{"use strict";function p(ue){return ue}K.d(ve,{y:()=>p})},1144:(Ve,ve,K)=>{"use strict";K.d(ve,{z:()=>p});const p=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},2206:(Ve,ve,K)=>{"use strict";K.d(ve,{D:()=>ue});var p=K(576);function ue(re){return Symbol.asyncIterator&&(0,p.m)(re?.[Symbol.asyncIterator])}},576:(Ve,ve,K)=>{"use strict";function p(ue){return"function"==typeof ue}K.d(ve,{m:()=>p})},3670:(Ve,ve,K)=>{"use strict";K.d(ve,{c:()=>re});var p=K(8822),ue=K(576);function re(j){return(0,ue.m)(j[p.L])}},6495:(Ve,ve,K)=>{"use strict";K.d(ve,{T:()=>re});var p=K(2202),ue=K(576);function re(j){return(0,ue.m)(j?.[p.h])}},8239:(Ve,ve,K)=>{"use strict";K.d(ve,{t:()=>ue});var p=K(576);function ue(re){return(0,p.m)(re?.then)}},3260:(Ve,ve,K)=>{"use strict";K.d(ve,{L:()=>j,Q:()=>re});var p=K(655),ue=K(576);function re(L){return(0,p.FC)(this,arguments,function*(){const q=L.getReader();try{for(;;){const{value:ie,done:A}=yield(0,p.qq)(q.read());if(A)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ie)}}finally{q.releaseLock()}})}function j(L){return(0,ue.m)(L?.getReader)}},4482:(Ve,ve,K)=>{"use strict";K.d(ve,{A:()=>ue,e:()=>re});var p=K(576);function ue(j){return(0,p.m)(j?.lift)}function re(j){return L=>{if(ue(L))return L.lift(function(V){try{return j(V,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Ve,ve,K)=>{"use strict";K.d(ve,{U:()=>re,z:()=>ue});var p=K(4671);function ue(...j){return re(j)}function re(j){return 0===j.length?p.y:1===j.length?j[0]:function(V){return j.reduce((q,ie)=>ie(q),V)}}},7849:(Ve,ve,K)=>{"use strict";K.d(ve,{h:()=>re});var p=K(2416),ue=K(3410);function re(j){ue.z.setTimeout(()=>{const{onUnhandledError:L}=p.v;if(!L)throw j;L(j)})}},4532:(Ve,ve,K)=>{"use strict";function p(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(ve,{z:()=>p})},9219:(Ve,ve,K)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.convertToColor=ve.isHTMLColorName=ve.Color=void 0;const p=K(7673);class ue{constructor(V,q,ie,A){if(this.r=0,this.g=0,this.b=0,this.a=1,Array.isArray(V))return 4==V.length?void(this.rgba=V):void(this.rgb=V);this.rgba=[V??0,q??0,ie??0,A??1]}get rgb(){return[this.r,this.g,this.b]}get rgba(){return[this.r,this.g,this.b,this.a]}set rgb([V,q,ie]){this.r=V,this.g=q,this.b=ie}set rgba([V,q,ie,A]){this.r=V,this.g=q,this.b=ie,this.a=A}toHex(V){let q=V?"":"#";return q+=this.r.toString(16).padStart(2,"0"),q+=this.g.toString(16).padStart(2,"0"),q+=this.b.toString(16).padStart(2,"0"),q}toRGB(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toRGBA(){return`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`}}ve.Color=ue,ve.isHTMLColorName=function re(L){return null!=(0,p.hex)(L)},ve.convertToColor=function j(L){var V,q,ie,A,k,N;if(L instanceof ue)return L;let Z=[0,0,0];return Array.isArray(L)?(Z=[...L],null!==(V=Z[0])&&void 0!==V||(Z[0]=0),null!==(q=Z[1])&&void 0!==q||(Z[1]=0),null!==(ie=Z[2])&&void 0!==ie||(Z[2]=0)):(L.replace(/ /g,""),L.toLowerCase(),(0,p.hex)(L)&&(L=(0,p.hex)(L)),"#"==L[0]&&(L=L.slice(1,7)),L.length>=6?(Z[0]=parseInt(L.slice(0,2),16),Z[1]=parseInt(L.slice(2,4),16),Z[2]=parseInt(L.slice(4,6),16)):(Z[0]=parseInt(null!==(A=L[0])&&void 0!==A?A:"0",16),Z[1]=parseInt(null!==(k=L[1])&&void 0!==k?k:"0",16),Z[2]=parseInt(null!==(N=L[2])&&void 0!==N?N:"0",16))),Z[0]=Z[0]<0?0:Z[0]>255?255:Z[0],Z[1]=Z[1]<0?0:Z[1]>255?255:Z[1],Z[2]=Z[2]<0?0:Z[2]>255?255:Z[2],new ue(Z)}},7673:(Ve,ve)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.random=ve.all=ve.hex=ve.names=void 0;const K={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"};function ue(L){return K[L]}ve.names=function p(){return Object.keys(K)},ve.hex=ue,ve.all=function re(){return K},ve.random=function j(){var L;const V=Object.keys(K);return null!==(L=ue(V[Math.floor(Math.random()*V.length)]))&&void 0!==L?L:"#FFFFFF"}},7910:(Ve,ve,K)=>{"use strict";ve.l8=void 0;var ue=K(2715);Object.defineProperty(ve,"l8",{enumerable:!0,get:function(){return ue.Turtle}});K(9219),K(6084),K(2150)},6084:(Ve,ve)=>{"use strict";function ue(V){return V*(Math.PI/180)}function re(V,q){const ie={x:0,y:0},A=Math.sqrt(Math.pow(V.x,2)+Math.pow(V.y,2)),k=Math.atan2(V.x,V.y);return ie.x=Math.sin(ue(q)+k)*A,ie.y=Math.cos(ue(q)+k)*A,ie}Object.defineProperty(ve,"__esModule",{value:!0}),ve.resizeShape=ve.rotateShape=ve.degToRad=ve.BuiltInShapes=void 0,ve.BuiltInShapes={Default:[{x:0,y:0},{x:9,y:-9},{x:0,y:18},{x:-9,y:-9}],Triangle:[{x:9,y:0},{x:0,y:18},{x:-9,y:0}]},ve.degToRad=ue,ve.rotateShape=function j(V,q){const ie=[];for(let A=0;A<V.length;A++){const k=V[A];k&&(ie[A]=re(k,q))}return ie},ve.resizeShape=function L(V,q){const ie=[];for(let A=0;A<V.length;A++){const k=V[A];if(k){const N={x:k.x,y:k.y};N.x*=q,N.y*=q,ie[A]=N}}return ie}},2150:(Ve,ve)=>{"use strict";var p;Object.defineProperty(ve,"__esModule",{value:!0}),ve.TurtleStepType=void 0,(p=ve.TurtleStepType||(ve.TurtleStepType={}))[p.Forward=0]="Forward",p[p.Backward=1]="Backward",p[p.Left=2]="Left",p[p.Right=3]="Right",p[p.SetAngle=4]="SetAngle",p[p.Hide=5]="Hide",p[p.Show=6]="Show",p[p.PenUp=7]="PenUp",p[p.PenDown=8]="PenDown",p[p.Reset=9]="Reset",p[p.Clear=10]="Clear",p[p.Goto=11]="Goto",p[p.SetColor=12]="SetColor",p[p.SetWidth=13]="SetWidth",p[p.SetShape=14]="SetShape",p[p.SetSpeed=15]="SetSpeed",p[p.SetLineCap=16]="SetLineCap"},2715:(Ve,ve,K)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.Turtle=void 0;const p=K(9069),ue=K(9219),re=K(6084),j=K(2150);function V(ie){ie.translate(ie.canvas.width/2,ie.canvas.height/2),ie.transform(1,0,0,-1,0,0)}ve.Turtle=class q extends p.EventEmitter{constructor(A,k){super(),this._hidden=!1,this._wrap=!0,this._isPenDown=!0,this._stepByStep=!1,this._step=!1,this._steps=[],this._interval=null,this._autoDraw=!0,this._color=new ue.Color([255,0,255]),this._defaultColor=new ue.Color([255,0,255]),this._width=1,this._turtleSizeModifier=1,this._position={x:0,y:0},this._angle=0,this._shape=re.BuiltInShapes.Default,this.ctx=A,this._lineCap="round",k?.hidden&&(this._hidden=k.hidden),k?.disableWrapping&&(this._wrap=!1),k?.defaultColor&&(this._defaultColor=(0,ue.convertToColor)(k.defaultColor),this._color=this._defaultColor),k?.width&&(this._width=k.width),k?.startPostition&&(this._position=k.startPostition),k?.startAngle&&(this._angle=k.startAngle),k?.shape&&(this._shape=k.shape),k?.lineCap&&(this._lineCap=k.lineCap),k?.turtleSizeModifier&&(this._turtleSizeModifier=k.turtleSizeModifier),k?.autoDraw&&(this._autoDraw=k.autoDraw),this.drawTurtle()}get isInStep(){return!this._stepByStep||this._step}set _lineCap(A){this.ctx.lineCap=A}doStep(A){return this.emit("step",A),A.type===j.TurtleStepType.Goto&&this.goto(...A.args),A.type===j.TurtleStepType.SetAngle&&this.setAngle(...A.args),A.type===j.TurtleStepType.Forward&&this.forward(...A.args),A.type===j.TurtleStepType.Left&&this.left(...A.args),A.type===j.TurtleStepType.Right&&this.right(...A.args),A.type===j.TurtleStepType.Hide&&this.hide(),A.type===j.TurtleStepType.Show&&this.show(),A.type===j.TurtleStepType.PenDown&&this.penDown(),A.type===j.TurtleStepType.PenUp&&this.penUp(),A.type===j.TurtleStepType.Reset&&this.reset(),A.type===j.TurtleStepType.Clear&&this.clear(),A.type===j.TurtleStepType.SetColor&&this.setColor(...A.args),A.type===j.TurtleStepType.SetWidth&&this.setWidth(...A.args),A.type===j.TurtleStepType.SetSpeed&&this.setSpeed(...A.args),A.type===j.TurtleStepType.SetShape&&this.setShape(...A.args),A.type===j.TurtleStepType.SetLineCap&&this.setLineCap(...A.args),this}nextStep(){const A=this._steps.shift();return A?(this._step=!0,this.doStep(A),this._step=!1):this._interval&&this.stopDrawing(),this}clear(){return this.isInStep?(this._clear(),this.emit("clear")):this._steps.push({type:j.TurtleStepType.Clear}),this}_clear(){(function L(ie){ie.save(),ie.setTransform(1,0,0,1,0,0),ie.clearRect(0,0,ie.canvas.width,ie.canvas.height),ie.restore()})(this.ctx),this.drawTurtle()}hide(){return this.isInStep?(this._hide(),this.emit("hide")):this._steps.push({type:j.TurtleStepType.Hide}),this}_hide(){this._hidden=!0,this.restoreImageData(),this.drawTurtle()}show(){return this.isInStep?(this._show(),this.emit("show")):this._steps.push({type:j.TurtleStepType.Show}),this}_show(){this._hidden=!1,this.drawTurtle()}instantReset(){return this._reset(),this}reset(){return this.isInStep?(this._reset(),this.emit("reset")):this._steps.push({type:j.TurtleStepType.Reset}),this}_reset(){this._hidden=!1,this._isPenDown=!0,this._stepByStep=!1,this._setWidth(1),this._resetColor(),this._setAngle(0),this._goto(0,0),this._clear(),this.saveImageData()}setShape(A){return this.isInStep?(this._setShape(A),this.emit("setShape",A)):this._steps.push({type:j.TurtleStepType.SetShape,args:[A]}),this}_setShape(A){this._shape=A,this.drawTurtle()}setSpeed(A){return this.isInStep?(this._setSpeed(A),this.emit("setSpeed",A)):this._steps.push({type:j.TurtleStepType.SetSpeed,args:[A]}),this}_setSpeed(A){this._stepByStep=A>0,this._speed=A,this.stopDrawing(),this._autoDraw&&this.startDrawing()}stopDrawing(){!this._interval||(clearInterval(this._interval),this._interval=null)}startDrawing(){this._interval||(this._interval=setInterval(this.nextStep.bind(this),this._speed))}penUp(){return this.isInStep?(this._penUp(),this.emit("penUp")):this._steps.push({type:j.TurtleStepType.PenUp}),this}_penUp(){this._isPenDown=!1}penDown(){return this.isInStep?(this._penDown(),this.emit("penDown")):this._steps.push({type:j.TurtleStepType.PenDown}),this}_penDown(){this._isPenDown=!0}penToggle(){return this.isInStep?(this._penToggle(),this.emit("penToggle",this._isPenDown)):this._steps.push({type:j.TurtleStepType.PenDown}),this}_penToggle(){this._isPenDown=!this._isPenDown}setColor(A){return this.isInStep?(this._setColor(A),this.emit("setColor",this._color)):this._steps.push({type:j.TurtleStepType.SetColor,args:[A]}),this}_setColor(A){this._color=(0,ue.convertToColor)(A),this.restoreImageData(),this.drawTurtle()}_resetColor(){this._setColor(this._defaultColor)}setWidth(A){return this.isInStep?(this._setWidth(A),this.emit("setWidth",A)):this._steps.push({type:j.TurtleStepType.SetWidth,args:[A]}),this}_setWidth(A){this._width=A,this.restoreImageData(),this.drawTurtle()}setLineCap(A){return this.isInStep?(this._setLineCap(A),this.emit("setLineCap",A)):this._steps.push({type:j.TurtleStepType.SetLineCap,args:[A]}),this}_setLineCap(A){this._lineCap=A}setAngle(A){return this.isInStep?(this._setAngle(A),this.emit("setAngle",A)):this._steps.push({type:j.TurtleStepType.SetAngle,args:[A]}),this}_setAngle(A){this._angle=A,this.restoreImageData(),this.drawTurtle()}left(A){return this.isInStep?(this._left(A),this.emit("left",A)):this._steps.push({type:j.TurtleStepType.Left,args:[A]}),this}_left(A){this._angle-=A,this.restoreImageData(),this.drawTurtle()}right(A){return this.isInStep?(this._right(A),this.emit("right",A)):this._steps.push({type:j.TurtleStepType.Right,args:[A]}),this}_right(A){this._angle+=A,this.restoreImageData(),this.drawTurtle()}goto(A,k){return this.isInStep?(this._goto(A,k),this.emit("goto",A,k)):this._steps.push({type:j.TurtleStepType.Goto,args:[A,k]}),this}_goto(A,k){this._position.x=A,this._position.y=k,this.restoreImageData(),this.drawTurtle()}_doStraightLine(A){this.restoreImageData(),this.ctx.save(),V(this.ctx),this.ctx.lineWidth=this._width,this.ctx.strokeStyle=this._color.toRGBA(),this._isPenDown&&this.ctx.beginPath();const k=Math.cos((0,re.degToRad)(this._angle)),N=Math.sin((0,re.degToRad)(this._angle)),Z=this.ctx.canvas.width/2,Q=this.ctx.canvas.height/2;let B=this._position.x,se=this._position.y,z=B+N*A,H=se+k*A;for(this.ctx.moveTo(B,se);A>0;){const ne=Math.abs((z>B?Z-B:Z+B)/N),X=Math.abs((H>se?Q-se:Q+se)/k);this.ctx.moveTo(B,se),this._wrap&&Math.abs(z)>Z&&ne<=X?(B=z>0?-Z:Z,se+=k*ne,this.ctx.lineTo(z,H),z-=z>0?2*Z:-2*Z,A-=ne):this._wrap&&Math.abs(H)>Q&&ne>=X?(se=H>0?-Q:Q,B+=N*X,this.ctx.lineTo(z,H),H-=H>0?2*Q:-2*Q,A-=X):(this.ctx.lineTo(z,H),A=0)}this._isPenDown&&this.ctx.stroke(),this.ctx.restore(),this.saveImageData(),this._goto(z,H)}forward(A){return this.isInStep?(this._forward(A),this.emit("forward",A)):this._steps.push({type:j.TurtleStepType.Forward,args:[A]}),this}_forward(A){this._doStraightLine(A)}backward(A){return this.isInStep?(this._backward(A),this.emit("backward",A)):this._steps.push({type:j.TurtleStepType.Backward,args:[A]}),this}_backward(A){this._doStraightLine(-A)}drawTurtle(){if(this.saveImageData(),this._hidden)return this;const A=Math.max(this._width/2,1)*this._turtleSizeModifier,k=(0,re.rotateShape)((0,re.resizeShape)(this._shape,A),this._angle),N=this._position.x,Z=this._position.y;this.ctx.save(),V(this.ctx),this.ctx.beginPath(),this.ctx.moveTo(N,Z);for(let Q=0;Q<k.length;Q++){const B=k[Q];B&&this.ctx.lineTo(N+B.x,Z+B.y)}return this.ctx.closePath(),this.ctx.fillStyle=this._color.toHex(),this.ctx.fill(),this.ctx.lineWidth=Math.max(this._width/4,1),this.ctx.strokeStyle="black",this.ctx.stroke(),this.ctx.restore(),this}saveImageData(){return this._preDrawData=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this}restoreImageData(){return this._preDrawData&&this.ctx.putImageData(this._preDrawData,0,0),this}drawGrid(A,k){A=Math.max(A||40,2),k=Math.max(k||A,2),this.restoreImageData(),this.ctx.save();const N=this.ctx.canvas.width,Z=this.ctx.canvas.height,Q=N/2,B=Z/2,z=Math.floor(1.5),H=Math.ceil(1.5),ne=this._color.a;this._color.a=.5;const X=this._color.toRGBA();this._color.a=.2;const G=this._color.toRGBA();this._color.a=ne,this.ctx.beginPath();let W=A;for(;W<=Q;)this.ctx.moveTo(Q+W,0),this.ctx.lineTo(Q+W,B-H),this.ctx.moveTo(Q-W,0),this.ctx.lineTo(Q-W,B-H),this.ctx.moveTo(Q+W,Z),this.ctx.lineTo(Q+W,B+z),this.ctx.moveTo(Q-W,Z),this.ctx.lineTo(Q-W,B+z),W+=A;for(W=k;W<=B;)this.ctx.moveTo(0,B+W),this.ctx.lineTo(Q-H,B+W),this.ctx.moveTo(0,B-W),this.ctx.lineTo(Q-H,B-W),this.ctx.moveTo(N,B+W),this.ctx.lineTo(Q+z,B+W),this.ctx.moveTo(N,B-W),this.ctx.lineTo(Q+z,B-W),W+=k;return this.ctx.lineWidth=1,this.ctx.strokeStyle=G,this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(N/2-1,0),this.ctx.lineTo(N/2-1,Z),this.ctx.moveTo(0,Z/2-z),this.ctx.lineTo(Q-H,Z/2-z),this.ctx.moveTo(Q+z,Z/2-z),this.ctx.lineTo(N,Z/2-z),this.ctx.lineWidth=3,this.ctx.strokeStyle=X,this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore(),this.saveImageData(),this.drawTurtle(),this}expose(A,k,N=!1){var Z,Q,B,se,z,H,ne,X,G,W,te,I,pe,ae,de,me,F;if(N&&k&&Object.keys(k).length){for(const ee in k)A[k[ee]]=this[ee].bind(this);return this}return A[null!==(Z=k?.forward)&&void 0!==Z?Z:"forward"]=this.forward.bind(this),A[null!==(Q=k?.backward)&&void 0!==Q?Q:"backward"]=this.backward.bind(this),A[null!==(B=k?.left)&&void 0!==B?B:"left"]=this.left.bind(this),A[null!==(se=k?.right)&&void 0!==se?se:"right"]=this.right.bind(this),A[null!==(z=k?.setAngle)&&void 0!==z?z:"setAngle"]=this.setAngle.bind(this),A[null!==(H=k?.hide)&&void 0!==H?H:"hide"]=this.hide.bind(this),A[null!==(ne=k?.show)&&void 0!==ne?ne:"show"]=this.show.bind(this),A[null!==(X=k?.penUp)&&void 0!==X?X:"penUp"]=this.penUp.bind(this),A[null!==(G=k?.penDown)&&void 0!==G?G:"penDown"]=this.penDown.bind(this),A[null!==(W=k?.reset)&&void 0!==W?W:"reset"]=this.reset.bind(this),A[null!==(te=k?.clear)&&void 0!==te?te:"clear"]=this.clear.bind(this),A[null!==(I=k?.goto)&&void 0!==I?I:"goto"]=this.goto.bind(this),A[null!==(pe=k?.setColor)&&void 0!==pe?pe:"setColor"]=this.setColor.bind(this),A[null!==(ae=k?.setWidth)&&void 0!==ae?ae:"setWidth"]=this.setWidth.bind(this),A[null!==(de=k?.setShape)&&void 0!==de?de:"setShape"]=this.setShape.bind(this),A[null!==(me=k?.setSpeed)&&void 0!==me?me:"setSpeed"]=this.setSpeed.bind(this),A[null!==(F=k?.setLineCap)&&void 0!==F?F:"setLineCap"]=this.setLineCap.bind(this),this}}},655:(Ve,ve,K)=>{"use strict";function ie(F,ee,R,fe){return new(R||(R=Promise))(function(be,Ze){function Be(It){try{rt(fe.next(It))}catch(nn){Ze(nn)}}function ft(It){try{rt(fe.throw(It))}catch(nn){Ze(nn)}}function rt(It){It.done?be(It.value):function Ee(be){return be instanceof R?be:new R(function(Ze){Ze(be)})}(It.value).then(Be,ft)}rt((fe=fe.apply(F,ee||[])).next())})}function H(F){return this instanceof H?(this.v=F,this):new H(F)}function ne(F,ee,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,fe=R.apply(F,ee||[]),be=[];return Ee={},Ze("next"),Ze("throw"),Ze("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Ze(ht){fe[ht]&&(Ee[ht]=function(Qe){return new Promise(function(ze,at){be.push([ht,Qe,ze,at])>1||Be(ht,Qe)})})}function Be(ht,Qe){try{!function ft(ht){ht.value instanceof H?Promise.resolve(ht.value.v).then(rt,It):nn(be[0][2],ht)}(fe[ht](Qe))}catch(ze){nn(be[0][3],ze)}}function rt(ht){Be("next",ht)}function It(ht){Be("throw",ht)}function nn(ht,Qe){ht(Qe),be.shift(),be.length&&Be(be[0][0],be[0][1])}}function G(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,ee=F[Symbol.asyncIterator];return ee?ee.call(F):(F=function Z(F){var ee="function"==typeof Symbol&&Symbol.iterator,R=ee&&F[ee],fe=0;if(R)return R.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&fe>=F.length&&(F=void 0),{value:F&&F[fe++],done:!F}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),R={},fe("next"),fe("throw"),fe("return"),R[Symbol.asyncIterator]=function(){return this},R);function fe(be){R[be]=F[be]&&function(Ze){return new Promise(function(Be,ft){!function Ee(be,Ze,Be,ft){Promise.resolve(ft).then(function(rt){be({value:rt,done:Be})},Ze)}(Be,ft,(Ze=F[be](Ze)).done,Ze.value)})}}}K.d(ve,{FC:()=>ne,KL:()=>G,mG:()=>ie,qq:()=>H})},8256:(Ve,ve,K)=>{"use strict";K.d(ve,{tb:()=>M_,AFp:()=>b_,ip1:()=>D_,CZH:()=>sg,hGG:()=>Ab,z2F:()=>lg,sBO:()=>hb,Sil:()=>qD,_Vd:()=>$,EJc:()=>WD,Xts:()=>vu,SBq:()=>ce,lqb:()=>zo,qLn:()=>ei,vpe:()=>js,XFs:()=>je,OlP:()=>Lt,zs3:()=>Ps,ZZ4:()=>Im,aQg:()=>Om,soG:()=>ag,YKP:()=>x0,h0i:()=>Of,PXZ:()=>ab,R0b:()=>bo,FiY:()=>pi,Lbi:()=>zD,g9A:()=>E_,Qsj:()=>ke,FYo:()=>Me,JOm:()=>$i,tp0:()=>gi,Rgc:()=>vh,dDg:()=>rb,eoX:()=>k_,GfV:()=>He,s_b:()=>rg,ifc:()=>it,MMx:()=>om,Lck:()=>Bw,eFA:()=>N_,G48:()=>db,Gpc:()=>X,f3M:()=>hi,_c5:()=>Tb,c2e:()=>$D,zSh:()=>xa,wAp:()=>ut,vHH:()=>I,lri:()=>O_,rWj:()=>F_,D6c:()=>Ib,cg1:()=>Qv,kL8:()=>Qy,dqk:()=>Ge,Z0I:()=>zs,sIi:()=>Ol,CqO:()=>zv,QGY:()=>qp,QP$:()=>Di,F4k:()=>jv,RDi:()=>id,AaK:()=>z,qOj:()=>Sf,TTD:()=>$l,_Bn:()=>M0,jDz:()=>A0,xp6:()=>tp,uIk:()=>Pp,Tol:()=>Sy,Gre:()=>By,ekj:()=>Yv,Suo:()=>J0,Xpm:()=>Qi,lG2:()=>ar,Yz7:()=>rn,cJS:()=>mt,oAB:()=>wi,Yjl:()=>Xn,Y36:()=>Fa,_UZ:()=>Gp,qZA:()=>sh,TgZ:()=>oh,n5z:()=>dc,LFG:()=>Nt,$8M:()=>pn,$Z:()=>Rd,NdJ:()=>Zp,CRH:()=>e_,oxw:()=>a,ALo:()=>$0,lcZ:()=>G0,Hsn:()=>v,F$t:()=>u,Q6J:()=>rh,DdM:()=>N0,VKq:()=>R0,kEZ:()=>V0,iGM:()=>Q0,Jf7:()=>Hh,LSH:()=>_l,YNc:()=>$p,_uU:()=>Oy,Oqu:()=>Zv,hij:()=>Qp,AsE:()=>Kv,Gf:()=>X0});var p=K(7579),ue=K(727),re=K(9751),j=K(8189),L=K(8421),V=K(515),q=K(7669),ie=K(2076),k=K(2961),N=K(4482);function Q(e,t,...r){if(!0===t)return void e();if(!1===t)return;const l=new k.Hp({next:()=>{l.unsubscribe(),e()}});return t(...r).subscribe(l)}function B(e){for(let t in e)if(e[t]===B)return t;throw Error("Could not find renamed property on target object.")}function se(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function z(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(z).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function H(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ne=B({__forward_ref__:B});function X(e){return e.__forward_ref__=X,e.toString=function(){return z(this())},e}function G(e){return W(e)?e():e}function W(e){return"function"==typeof e&&e.hasOwnProperty(ne)&&e.__forward_ref__===X}class I extends Error{constructor(t,r){super(function pe(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,r)),this.code=t}}function ae(e){return"string"==typeof e?e:null==e?"":String(e)}function R(e,t){throw new I(-201,!1)}function St(e,t){null==e&&function wt(e,t,r,l){throw new Error(`ASSERTION ERROR: ${e}`+(null==l?"":` [Expected=> ${r} ${l} ${t} <=Actual]`))}(t,e,null,"!=")}function rn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ir(e){return zn(e,_i)||zn(e,Ki)}function zs(e){return null!==ir(e)}function zn(e,t){return e.hasOwnProperty(t)?e[t]:null}function ts(e){return e&&(e.hasOwnProperty(ns)||e.hasOwnProperty($s))?e[ns]:null}const _i=B({\u0275prov:B}),ns=B({\u0275inj:B}),Ki=B({ngInjectableDef:B}),$s=B({ngInjectorDef:B});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let Je;function Tt(e){const t=Je;return Je=e,t}function Zn(e,t,r){const l=ir(e);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:r&je.Optional?null:void 0!==t?t:void R(z(e))}function Ut(e){return{toString:e}.toString()}var Yt=(()=>((Yt=Yt||{})[Yt.OnPush=0]="OnPush",Yt[Yt.Default=1]="Default",Yt))(),it=(()=>{return(e=it||(it={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",it;var e})();const Ge=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),un={},_t=[],sn=B({\u0275cmp:B}),Kn=B({\u0275dir:B}),Ci=B({\u0275pipe:B}),or=B({\u0275mod:B}),Qn=B({\u0275fac:B}),ii=B({__NG_ELEMENT_ID__:B});let sr=0;function Qi(e){return Ut(()=>{const r=!0===e.standalone,l={},d={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Yt.OnPush,directiveDefs:null,pipeDefs:null,standalone:r,dependencies:r&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||_t,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||it.Emulated,id:"c"+sr++,styles:e.styles||_t,_:null,setInput:null,schemas:e.schemas||null,tView:null},g=e.dependencies,m=e.features;return d.inputs=Gs(e.inputs,l),d.outputs=Gs(e.outputs),m&&m.forEach(_=>_(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(mr).filter(Ha):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map($t).filter(Ha):null,d})}function mr(e){return bt(e)||Xt(e)}function Ha(e){return null!==e}function wi(e){return Ut(()=>({type:e.type,bootstrap:e.bootstrap||_t,declarations:e.declarations||_t,imports:e.imports||_t,exports:e.exports||_t,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Gs(e,t){if(null==e)return un;const r={};for(const l in e)if(e.hasOwnProperty(l)){let d=e[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),r[d]=l,t&&(t[d]=g)}return r}const ar=Qi;function Xn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function bt(e){return e[sn]||null}function Xt(e){return e[Kn]||null}function $t(e){return e[Ci]||null}function Di(e){const t=bt(e)||Xt(e)||$t(e);return null!==t&&t.standalone}function wn(e,t){const r=e[or]||null;if(!r&&!0===t)throw new Error(`Type ${z(e)} does not have '\u0275mod' property.`);return r}const M=15,U=16;function $n(e){return Array.isArray(e)&&"object"==typeof e[1]}function kr(e){return Array.isArray(e)&&!0===e[1]}function Vl(e){return 0!=(8&e.flags)}function Jn(e){return 2==(2&e.flags)}function qs(e){return 1==(1&e.flags)}function Zr(e){return null!==e.template}function Lf(e){return 0!=(256&e[2])}function Xi(e,t){return e.hasOwnProperty(Qn)?e[Qn]:null}class Pr{constructor(t,r,l){this.previousValue=t,this.currentValue=r,this.firstChange=l}isFirstChange(){return this.firstChange}}function $l(){return Xu}function Xu(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bf),Gl}function Gl(){const e=Wl(this),t=e?.current;if(t){const r=e.previous;if(r===un)e.previous=t;else for(let l in t)r[l]=t[l];e.current=null,this.ngOnChanges(t)}}function Bf(e,t,r,l){const d=Wl(e)||function eo(e,t){return e[Ji]=t}(e,{previous:un,current:null}),g=d.current||(d.current={}),m=d.previous,_=this.declaredInputs[r],D=m[_];g[_]=new Pr(D&&D.currentValue,t,m===un),e[l]=t}$l.ngInherit=!0;const Ji="__ngSimpleChanges__";function Wl(e){return e[Ji]||null}function Mt(e){for(;Array.isArray(e);)e=e[0];return e}function ql(e,t){return Mt(t[e])}function Nr(e,t){return Mt(t[e.index])}function Zl(e,t){return e.data[t]}function er(e,t){const r=t[e];return $n(r)?r:r[0]}function Ga(e){return 64==(64&e[2])}function to(e,t){return null==t?null:e[t]}function Ei(e){e[18]=0}function fn(e,t){e[5]+=t;let r=e,l=e[3];for(;null!==l&&(1===t&&1===r[5]||-1===t&&0===r[5]);)l[5]+=t,r=l,l=l[3]}const dt={lFrame:Za(null),bindingsEnabled:!0};function Ya(){return dt.bindingsEnabled}function xe(){return dt.lFrame.lView}function At(){return dt.lFrame.tView}function Jt(){let e=Rr();for(;null!==e&&64===e.type;)e=e.parent;return e}function Rr(){return dt.lFrame.currentTNode}function _r(e,t){const r=dt.lFrame;r.currentTNode=e,r.isParent=t}function Qs(){return dt.lFrame.isParent}function Kr(){dt.lFrame.isParent=!1}function ur(){const e=dt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ai(){return dt.lFrame.bindingIndex++}function Tn(e){const t=dt.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Th(e,t){const r=dt.lFrame;r.bindingIndex=r.bindingRootIndex=e,lc(t)}function lc(e){dt.lFrame.currentDirectiveIndex=e}function Xl(){return dt.lFrame.currentQueryIndex}function xi(e){dt.lFrame.currentQueryIndex=e}function ss(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Jl(e,t,r){if(r&je.SkipSelf){let d=t,g=e;for(;!(d=d.parent,null!==d||r&je.Host||(d=ss(g),null===d||(g=g[M],10&d.type))););if(null===d)return!1;t=d,e=g}const l=dt.lFrame=Js();return l.currentTNode=t,l.lView=e,!0}function no(e){const t=Js(),r=e[1];dt.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Js(){const e=dt.lFrame,t=null===e?null:e.child;return null===t?Za(e):t}function Za(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ea(){const e=dt.lFrame;return dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Br=ea;function Ka(){const e=ea();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bn(){return dt.lFrame.selectedIndex}function li(e){dt.lFrame.selectedIndex=e}function Gt(){const e=dt.lFrame;return Zl(e.tView,e.selectedIndex)}function ls(e,t){for(let r=t.directiveStart,l=t.directiveEnd;r<l;r++){const g=e.data[r].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:D,ngAfterViewChecked:E,ngOnDestroy:O}=g;m&&(e.contentHooks||(e.contentHooks=[])).push(-r,m),_&&((e.contentHooks||(e.contentHooks=[])).push(r,_),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,_)),D&&(e.viewHooks||(e.viewHooks=[])).push(-r,D),E&&((e.viewHooks||(e.viewHooks=[])).push(r,E),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,E)),null!=O&&(e.destroyHooks||(e.destroyHooks=[])).push(r,O)}}function us(e,t,r){Qr(e,t,3,r)}function na(e,t,r,l){(3&e[2])===r&&Qr(e,t,r,l)}function ra(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function Qr(e,t,r,l){const g=l??-1,m=t.length-1;let _=0;for(let D=void 0!==l?65535&e[18]:0;D<m;D++)if("number"==typeof t[D+1]){if(_=t[D],null!=l&&_>=l)break}else t[D]<0&&(e[18]+=65536),(_<g||-1==g)&&(ro(e,r,t,D),e[18]=(4294901760&e[18])+D+2),D++}function ro(e,t,r,l){const d=r[l]<0,g=r[l+1],_=e[d?-r[l]:r[l]];if(d){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{g.call(_)}finally{}}}else try{g.call(_)}finally{}}class cr{constructor(t,r,l){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=l}}function Ja(e,t,r){let l=0;for(;l<r.length;){const d=r[l];if("number"==typeof d){if(0!==d)break;l++;const g=r[l++],m=r[l++],_=r[l++];e.setAttribute(t,m,_,g)}else{const g=d,m=r[++l];nu(g)?e.setProperty(t,g,m):e.setAttribute(t,g,m),l++}}return l}function el(e){return 3===e||4===e||6===e}function nu(e){return 64===e.charCodeAt(0)}function io(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let l=0;l<t.length;l++){const d=t[l];"number"==typeof d?r=d:0===r||ru(e,r,d,null,-1===r||2===r?t[++l]:null)}}return e}function ru(e,t,r,l,d){let g=0,m=e.length;if(-1===t)m=-1;else for(;g<e.length;){const _=e[g++];if("number"==typeof _){if(_===t){m=-1;break}if(_>t){m=g-1;break}}}for(;g<e.length;){const _=e[g];if("number"==typeof _)break;if(_===r){if(null===l)return void(null!==d&&(e[g+1]=d));if(l===e[g+1])return void(e[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==m&&(e.splice(m,0,t),g=m+1),e.splice(g++,0,r),null!==l&&e.splice(g++,0,l),null!==d&&e.splice(g++,0,d)}function fs(e){return-1!==e}function ci(e){return 32767&e}function Ai(e,t){let r=function Wf(e){return e>>16}(e),l=t;for(;r>0;)l=l[M],r--;return l}let iu=!0;function tl(e){const t=iu;return iu=e,t}let xo=0;const tr={};function To(e,t){const r=ds(e,t);if(-1!==r)return r;const l=t[1];l.firstCreatePass&&(e.injectorIndex=t.length,rl(l.data,e),rl(t,null),rl(l.blueprint,null));const d=aa(e,t),g=e.injectorIndex;if(fs(d)){const m=ci(d),_=Ai(d,t),D=_[1].data;for(let E=0;E<8;E++)t[g+E]=_[m+E]|D[m+E]}return t[g+8]=d,g}function rl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ds(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function aa(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,l=null,d=t;for(;null!==d;){if(l=fr(d),null===l)return-1;if(r++,d=d[M],-1!==l.injectorIndex)return l.injectorIndex|r<<16}return-1}function Xr(e,t,r){!function qf(e,t,r){let l;"string"==typeof r?l=r.charCodeAt(0)||0:r.hasOwnProperty(ii)&&(l=r[ii]),null==l&&(l=r[ii]=xo++);const d=255&l;t.data[e+(d>>5)]|=1<<d}(e,t,r)}function oo(e,t,r){if(r&je.Optional||void 0!==e)return e;R()}function ua(e,t,r,l){if(r&je.Optional&&void 0===l&&(l=null),0==(r&(je.Self|je.Host))){const d=e[9],g=Tt(void 0);try{return d?d.get(t,l,r&je.Optional):Zn(t,l,r&je.Optional)}finally{Tt(g)}}return oo(l,0,r)}function hs(e,t,r,l=je.Default,d){if(null!==e){if(1024&t[2]){const m=function Oh(e,t,r,l,d){let g=e,m=t;for(;null!==g&&null!==m&&1024&m[2]&&!(256&m[2]);){const _=il(g,m,r,l|je.Self,tr);if(_!==tr)return _;let D=g.parent;if(!D){const E=m[21];if(E){const O=E.get(r,tr,l);if(O!==tr)return O}D=fr(m),m=m[M]}g=D}return d}(e,t,r,l,tr);if(m!==tr)return m}const g=il(e,t,r,l,tr);if(g!==tr)return g}return ua(t,r,l,d)}function il(e,t,r,l,d){const g=function Oi(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ii)?e[ii]:void 0;return"number"==typeof t?t>=0?255&t:Ih:t}(r);if("function"==typeof g){if(!Jl(t,e,l))return l&je.Host?oo(d,0,l):ua(t,r,l,d);try{const m=g(l);if(null!=m||l&je.Optional)return m;R()}finally{Br()}}else if("number"==typeof g){let m=null,_=ds(e,t),D=-1,E=l&je.Host?t[U][6]:null;for((-1===_||l&je.SkipSelf)&&(D=-1===_?aa(e,t):t[_+8],-1!==D&&Zf(l,!1)?(m=t[1],_=ci(D),t=Ai(D,t)):_=-1);-1!==_;){const O=t[1];if(Fi(g,_,O.data)){const Y=Ii(_,t,r,m,l,E);if(Y!==tr)return Y}D=t[_+8],-1!==D&&Zf(l,t[1].data[_+8]===E)&&Fi(g,_,t)?(m=O,_=ci(D),t=Ai(D,t)):_=-1}}return d}function Ii(e,t,r,l,d,g){const m=t[1],_=m.data[e+8],O=ca(_,m,r,null==l?Jn(_)&&iu:l!=m&&0!=(3&_.type),d&je.Host&&g===_);return null!==O?fa(t,m,O,_):tr}function ca(e,t,r,l,d){const g=e.providerIndexes,m=t.data,_=1048575&g,D=e.directiveStart,O=g>>20,le=d?_+O:e.directiveEnd;for(let ge=l?_:_+O;ge<le;ge++){const we=m[ge];if(ge<D&&r===we||ge>=D&&we.type===r)return ge}if(d){const ge=m[D];if(ge&&Zr(ge)&&ge.type===r)return D}return null}function fa(e,t,r,l){let d=e[r];const g=t.data;if(function ui(e){return e instanceof cr}(d)){const m=d;m.resolving&&function me(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new I(-200,`Circular dependency in DI detected for ${e}${r}`)}(function de(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ae(e)}(g[r]));const _=tl(m.canSeeViewProviders);m.resolving=!0;const D=m.injectImpl?Tt(m.injectImpl):null;Jl(e,l,je.Default);try{d=e[r]=m.factory(void 0,g,e,l),t.firstCreatePass&&r>=l.directiveStart&&function Mo(e,t,r){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=t.type.prototype;if(l){const m=Xu(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,m),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,m)}d&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,d),g&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,g),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,g))}(r,g[r],t)}finally{null!==D&&Tt(D),tl(_),m.resolving=!1,Br()}}return d}function Fi(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function Zf(e,t){return!(e&je.Self||e&je.Host&&t)}class da{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,l){return hs(this._tNode,this._lView,t,l,r)}}function Ih(){return new da(Jt(),xe())}function dc(e){return Ut(()=>{const t=e.prototype.constructor,r=t[Qn]||hc(t),l=Object.prototype;let d=Object.getPrototypeOf(e.prototype).constructor;for(;d&&d!==l;){const g=d[Qn]||hc(d);if(g&&g!==r)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function hc(e){return W(e)?()=>{const t=hc(G(e));return t&&t()}:Xi(e)}function fr(e){const t=e[1],r=t.type;return 2===r?t.declTNode:1===r?e[6]:null}function pn(e){return function la(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const l=r.length;let d=0;for(;d<l;){const g=r[d];if(el(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof r[d];)d++;else{if(g===t)return r[d+1];d+=2}}}return null}(Jt(),e)}const qt="__parameters__";function pa(e,t,r){return Ut(()=>{const l=function ha(e){return function(...r){if(e){const l=e(...r);for(const d in l)this[d]=l[d]}}}(t);function d(...g){if(this instanceof d)return l.apply(this,g),this;const m=new d(...g);return _.annotation=m,_;function _(D,E,O){const Y=D.hasOwnProperty(qt)?D[qt]:Object.defineProperty(D,qt,{value:[]})[qt];for(;Y.length<=O;)Y.push(null);return(Y[O]=Y[O]||[]).push(m),D}}return r&&(d.prototype=Object.create(r.prototype)),d.prototype.ngMetadataName=e,d.annotationCls=d,d})}class Lt{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=rn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function dr(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let l=e[r];Array.isArray(l)?(t===e&&(t=e.slice(0,r)),dr(l,t)):t!==e&&t.push(l)}return t}function Wt(e,t){e.forEach(r=>Array.isArray(r)?Wt(r,t):t(r))}function We(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function hr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Hr(e,t){const r=[];for(let l=0;l<e;l++)r.push(t);return r}function An(e,t,r){let l=ao(e,t);return l>=0?e[1|l]=r:(l=~l,function Rn(e,t,r,l){let d=e.length;if(d==t)e.push(r,l);else if(1===d)e.push(l,e[0]),e[0]=r;else{for(d--,e.push(e[d-1],e[d]);d>t;)e[d]=e[d-2],d--;e[t]=r,e[t+1]=l}}(e,l,t,r)),l}function so(e,t){const r=ao(e,t);if(r>=0)return e[1|r]}function ao(e,t){return function gs(e,t,r){let l=0,d=e.length>>r;for(;d!==l;){const g=l+(d-l>>1),m=e[g<<r];if(t===m)return g<<r;m>t?d=g:l=g+1}return~(d<<r)}(e,t,1)}const Dr={},br="__NG_DI_FLAG__",uo="ngTempTokenPath",Ni=/\n/gm,Fo="__source";let Ri;function ko(e){const t=Ri;return Ri=e,t}function di(e,t=je.Default){if(void 0===Ri)throw new I(-203,!1);return null===Ri?Zn(e,void 0,t):Ri.get(e,t&je.Optional?null:void 0,t)}function Nt(e,t=je.Default){return(function st(){return Je}()||di)(G(e),t)}function hi(e,t=je.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Nt(e,t)}function En(e){const t=[];for(let r=0;r<e.length;r++){const l=G(e[r]);if(Array.isArray(l)){if(0===l.length)throw new I(900,!1);let d,g=je.Default;for(let m=0;m<l.length;m++){const _=l[m],D=al(_);"number"==typeof D?-1===D?d=_.token:g|=D:d=_}t.push(Nt(d,g))}else t.push(Nt(l))}return t}function Vi(e,t){return e[br]=t,e.prototype[br]=t,e}function al(e){return e[br]}const pi=Vi(pa("Optional"),8),gi=Vi(pa("SkipSelf"),4);let Ro;function id(e){Ro=e}class Vo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Sr(e){return e instanceof Vo?e.changingThisBreaksApplicationSecurity:e}const ld=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ln=(()=>((ln=ln||{})[ln.NONE=0]="NONE",ln[ln.HTML=1]="HTML",ln[ln.STYLE=2]="STYLE",ln[ln.SCRIPT=3]="SCRIPT",ln[ln.URL=4]="URL",ln[ln.RESOURCE_URL=5]="RESOURCE_URL",ln))();function _l(e){const t=function xs(){const e=xe();return e&&e[12]}();return t?t.sanitize(ln.URL,e)||"":function Ss(e,t){const r=function wc(e){return e instanceof Vo&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}(e,"URL")?Sr(e):function hl(e){return(e=String(e)).match(ld)?e:"unsafe:"+e}(ae(e))}const vu=new Lt("ENVIRONMENT_INITIALIZER"),Rt=new Lt("INJECTOR",-1),wl=new Lt("INJECTOR_DEF_TYPES");class Ts{get(t,r=Dr){if(r===Dr){const l=new Error(`NullInjectorError: No provider for ${z(t)}!`);throw l.name="NullInjectorError",l}return r}}function Er(...e){return{\u0275providers:Hn(0,e)}}function Hn(e,...t){const r=[],l=new Set;let d;return Wt(t,g=>{const m=g;Is(m,r,[],l)&&(d||(d=[]),d.push(m))}),void 0!==d&&As(d,r),r}function As(e,t){for(let r=0;r<e.length;r++){const{providers:d}=e[r];Wt(d,g=>{t.push(g)})}}function Is(e,t,r,l){if(!(e=G(e)))return!1;let d=null,g=ts(e);const m=!g&&bt(e);if(g||m){if(m&&!m.standalone)return!1;d=e}else{const D=e.ngModule;if(g=ts(D),!g)return!1;d=D}const _=l.has(d);if(m){if(_)return!1;if(l.add(d),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const E of D)Is(E,t,r,l)}}else{if(!g)return!1;{if(null!=g.imports&&!_){let E;l.add(d);try{Wt(g.imports,O=>{Is(O,t,r,l)&&(E||(E=[]),E.push(O))})}finally{}void 0!==E&&As(E,t)}if(!_){const E=Xi(d)||(()=>new d);t.push({provide:d,useFactory:E,deps:_t},{provide:wl,useValue:d,multi:!0},{provide:vu,useValue:()=>Nt(d),multi:!0})}const D=g.providers;null==D||_||Wt(D,O=>{t.push(O)})}}return d!==e&&void 0!==e.providers}const go=B({provide:String,useValue:B});function Ea(e){return null!==e&&"object"==typeof e&&go in e}function vo(e){return"function"==typeof e}const xa=new Lt("Set Injector scope."),xt={},Dl={};let yu;function Mr(){return void 0===yu&&(yu=new Ts),yu}class zo{}class Ta extends zo{constructor(t,r,l,d){super(),this.parent=r,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c(t,m=>this.processProvider(m)),this.records.set(Rt,$o(void 0,this)),d.has("environment")&&this.records.set(zo,$o(void 0,this));const g=this.records.get(xa);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(wl.multi,_t,je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const r=ko(this),l=Tt(void 0);try{return t()}finally{ko(r),Tt(l)}}get(t,r=Dr,l=je.Default){this.assertNotDestroyed();const d=ko(this),g=Tt(void 0);try{if(!(l&je.SkipSelf)){let _=this.records.get(t);if(void 0===_){const D=function o(e){return"function"==typeof e||"object"==typeof e&&e instanceof Lt}(t)&&ir(t);_=D&&this.injectableDefInScope(D)?$o(Aa(t),xt):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(l&je.Self?Mr():this.parent).get(t,r=l&je.Optional&&r===Dr?null:r)}catch(m){if("NullInjectorError"===m.name){if((m[uo]=m[uo]||[]).unshift(z(t)),d)throw m;return function au(e,t,r,l){const d=e[uo];throw t[Fo]&&d.unshift(t[Fo]),e.message=function mc(e,t,r,l=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let d=z(t);if(Array.isArray(t))d=t.map(z).join(" -> ");else if("object"==typeof t){let g=[];for(let m in t)if(t.hasOwnProperty(m)){let _=t[m];g.push(m+":"+("string"==typeof _?JSON.stringify(_):z(_)))}d=`{${g.join(", ")}}`}return`${r}${l?"("+l+")":""}[${d}]: ${e.replace(Ni,"\n  ")}`}("\n"+e.message,d,r,l),e.ngTokenPath=d,e[uo]=null,e}(m,t,"R3InjectorError",this.source)}throw m}finally{Tt(g),ko(d)}}resolveInjectorInitializers(){const t=ko(this),r=Tt(void 0);try{const l=this.get(vu.multi,_t,je.Self);for(const d of l)d()}finally{ko(t),Tt(r)}}toString(){const t=[],r=this.records;for(const l of r.keys())t.push(z(l));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){let r=vo(t=G(t))?t:G(t&&t.provide);const l=function Ic(e){return Ea(e)?$o(void 0,e.useValue):$o(_u(e),xt)}(t);if(vo(t)||!0!==t.multi)this.records.get(r);else{let d=this.records.get(r);d||(d=$o(void 0,xt,!0),d.factory=()=>En(d.multi),this.records.set(r,d)),r=t,d.multi.push(t)}this.records.set(r,l)}hydrate(t,r){return r.value===xt&&(r.value=Dl,r.value=r.factory()),"object"==typeof r.value&&r.value&&function n(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=G(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}}function Aa(e){const t=ir(e),r=null!==t?t.factory:Xi(e);if(null!==r)return r;if(e instanceof Lt)throw new I(204,!1);if(e instanceof Function)return function en(e){const t=e.length;if(t>0)throw Hr(t,"?"),new I(204,!1);const r=function So(e){const t=e&&(e[_i]||e[Ki]);if(t){const r=function Ba(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new I(204,!1)}function _u(e,t,r){let l;if(vo(e)){const d=G(e);return Xi(d)||Aa(d)}if(Ea(e))l=()=>G(e.useValue);else if(function Os(e){return!(!e||!e.useFactory)}(e))l=()=>e.useFactory(...En(e.deps||[]));else if(function mu(e){return!(!e||!e.useExisting)}(e))l=()=>Nt(G(e.useExisting));else{const d=G(e&&(e.useClass||e.provide));if(!function bl(e){return!!e.deps}(e))return Xi(d)||Aa(d);l=()=>new d(...En(e.deps))}return l}function $o(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function f(e){return!!e.\u0275providers}function c(e,t){for(const r of e)Array.isArray(r)?c(r,t):f(r)?c(r.\u0275providers,t):t(r)}class y{}class T{resolveComponentFactory(t){throw function C(e){const t=Error(`No component factory found for ${z(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let $=(()=>{class e{}return e.NULL=new T,e})();function J(){return he(Jt(),xe())}function he(e,t){return new ce(Nr(e,t))}let ce=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=J,e})();function ye(e){return e instanceof ce?e.nativeElement:e}class Me{}let ke=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Ne(){const e=xe(),r=er(Jt().index,e);return($n(r)?r:e)[11]}(),e})(),Le=(()=>{class e{}return e.\u0275prov=rn({token:e,providedIn:"root",factory:()=>null}),e})();class He{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Xe=new He("14.2.7"),Ye={};function Jr(e){return e.ngOriginalError}class ei{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Jr(t);for(;r&&Jr(r);)r=Jr(r);return r||null}}const pd=new Map;let gd=0;const Oc="__ngContext__";function nr(e,t){$n(t)?(e[Oc]=t[20],function vd(e){pd.set(e[20],e)}(t)):e[Oc]=t}function Hh(e){return e.ownerDocument.defaultView}function Wo(e){return e instanceof Function?e():e}var $i=(()=>(($i=$i||{})[$i.Important=1]="Important",$i[$i.DashCase=2]="DashCase",$i))();function Lc(e,t){return undefined(e,t)}function Su(e){const t=e[3];return kr(t)?t[3]:t}function Pc(e){return Cd(e[13])}function Eu(e){return Cd(e[4])}function Cd(e){for(;null!==e&&!kr(e);)e=e[4];return e}function Mu(e,t,r,l,d){if(null!=l){let g,m=!1;kr(l)?g=l:$n(l)&&(m=!0,l=l[0]);const _=Mt(l);0===e&&null!==r?null==d?Td(t,r,_):Ia(t,r,_,d||null,!0):1===e&&null!==r?Ia(t,r,_,d||null,!0):2===e?function Hc(e,t,r){const l=Bc(e,t);l&&function Vc(e,t,r,l){e.removeChild(t,r,l)}(e,l,t,r)}(t,_,m):3===e&&t.destroyNode(_),null!=g&&function jg(e,t,r,l,d){const g=r[7];g!==Mt(r)&&Mu(t,e,l,g,d);for(let _=10;_<r.length;_++){const D=r[_];Ml(D[1],D,e,t,l,g)}}(t,e,g,r,d)}}function Dd(e,t,r){return e.createElement(t,r)}function xu(e,t){const r=e[9],l=r.indexOf(t),d=t[3];512&t[2]&&(t[2]&=-513,fn(d,-1)),r.splice(l,1)}function Ed(e,t){if(e.length<=10)return;const r=10+t,l=e[r];if(l){const d=l[17];null!==d&&d!==e&&xu(d,l),t>0&&(e[r-1][4]=l[4]);const g=hr(e,10+t);!function Nc(e,t){Ml(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(l[1],l);const m=g[19];null!==m&&m.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function $h(e,t){if(!(128&t[2])){const r=t[11];r.destroyNode&&Ml(e,t,r,3,null,null),function Sd(e){let t=e[13];if(!t)return Md(e[1],e);for(;t;){let r=null;if($n(t))r=t[13];else{const l=t[10];l&&(r=l)}if(!r){for(;t&&!t[4]&&t!==e;)$n(t)&&Md(t[1],t),t=t[3];null===t&&(t=e),$n(t)&&Md(t[1],t),r=t&&t[4]}t=r}}(t)}}function Md(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Bg(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let l=0;l<r.length;l+=2){const d=t[r[l]];if(!(d instanceof cr)){const g=r[l+1];if(Array.isArray(g))for(let m=0;m<g.length;m+=2){const _=d[g[m]],D=g[m+1];try{D.call(_)}finally{}}else try{g.call(d)}finally{}}}}(e,t),function Vg(e,t){const r=e.cleanup,l=t[7];let d=-1;if(null!==r)for(let g=0;g<r.length-1;g+=2)if("string"==typeof r[g]){const m=r[g+1],_="function"==typeof m?m(t):Mt(t[m]),D=l[d=r[g+2]],E=r[g+3];"boolean"==typeof E?_.removeEventListener(r[g],D,E):E>=0?l[d=E]():l[d=-E].unsubscribe(),g+=2}else{const m=l[d=r[g+1]];r[g].call(m)}if(null!==l){for(let g=d+1;g<l.length;g++)(0,l[g])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const r=t[17];if(null!==r&&kr(t[3])){r!==t[3]&&xu(r,t);const l=t[19];null!==l&&l.detachView(e)}!function _g(e){pd.delete(e[20])}(t)}}function xd(e,t,r){return function qn(e,t,r){let l=t;for(;null!==l&&40&l.type;)l=(t=l).parent;if(null===l)return r[0];if(2&l.flags){const d=e.data[l.directiveStart].encapsulation;if(d===it.None||d===it.Emulated)return null}return Nr(l,r)}(e,t.parent,r)}function Ia(e,t,r,l,d){e.insertBefore(t,r,l,d)}function Td(e,t,r){e.appendChild(t,r)}function Rc(e,t,r,l,d){null!==l?Ia(e,t,r,l,d):Td(e,t,r)}function Bc(e,t){return e.parentNode(t)}function Hg(e,t,r){return Wh(e,t,r)}let Wh=function Ug(e,t,r){return 40&e.type?Nr(e,r):null};function Oa(e,t,r,l){const d=xd(e,l,t),g=t[11],_=Hg(l.parent||t[6],l,t);if(null!=d)if(Array.isArray(r))for(let D=0;D<r.length;D++)Rc(g,d,r[D],_,!1);else Rc(g,d,r,_,!1)}function Id(e,t){if(null!==t){const r=t.type;if(3&r)return Nr(t,e);if(4&r)return Ls(-1,e[t.index]);if(8&r){const l=t.child;if(null!==l)return Id(e,l);{const d=e[t.index];return kr(d)?Ls(-1,d):Mt(d)}}if(32&r)return Lc(t,e)()||Mt(e[t.index]);{const l=Od(e,t);return null!==l?Array.isArray(l)?l[0]:Id(Su(e[U]),l):Id(e,t.next)}}return null}function Od(e,t){return null!==t?e[U][6].projection[t.projection]:null}function Ls(e,t){const r=10+e+1;if(r<t.length){const l=t[r],d=l[1].firstChild;if(null!==d)return Id(l,d)}return t[7]}function Yh(e,t,r,l,d,g,m){for(;null!=r;){const _=l[r.index],D=r.type;if(m&&0===t&&(_&&nr(Mt(_),l),r.flags|=4),64!=(64&r.flags))if(8&D)Yh(e,t,r.child,l,d,g,!1),Mu(t,e,d,_,g);else if(32&D){const E=Lc(r,l);let O;for(;O=E();)Mu(t,e,d,O,g);Mu(t,e,d,_,g)}else 16&D?Uc(e,t,l,r,d,g):Mu(t,e,d,_,g);r=m?r.projectionNext:r.next}}function Ml(e,t,r,l,d,g){Yh(r,l,e.firstChild,t,d,g,!1)}function Uc(e,t,r,l,d,g){const m=r[U],D=m[6].projection[l.projection];if(Array.isArray(D))for(let E=0;E<D.length;E++)Mu(t,e,d,D[E],g);else Yh(e,t,D,m[3],d,g,!0)}function Zh(e,t,r){e.setAttribute(t,"style",r)}function jc(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Kh(e,t,r){let l=e.length;for(;;){const d=e.indexOf(t,r);if(-1===d)return d;if(0===d||e.charCodeAt(d-1)<=32){const g=t.length;if(d+g===l||e.charCodeAt(d+g)<=32)return d}r=d+1}}const Au="ng-template";function zm(e,t,r){let l=0;for(;l<e.length;){let d=e[l++];if(r&&"class"===d){if(d=e[l],-1!==Kh(d.toLowerCase(),t,0))return!0}else if(1===d){for(;l<e.length&&"string"==typeof(d=e[l++]);)if(d.toLowerCase()===t)return!0;return!1}}return!1}function Fd(e){return 4===e.type&&e.value!==Au}function $g(e,t,r){return t===(4!==e.type||r?e.value:Au)}function Gg(e,t,r){let l=4;const d=e.attrs||[],g=function qg(e){for(let t=0;t<e.length;t++)if(el(e[t]))return t;return e.length}(d);let m=!1;for(let _=0;_<t.length;_++){const D=t[_];if("number"!=typeof D){if(!m)if(4&l){if(l=2|1&l,""!==D&&!$g(e,D,r)||""===D&&1===t.length){if(mi(l))return!1;m=!0}}else{const E=8&l?D:t[++_];if(8&l&&null!==e.attrs){if(!zm(e.attrs,E,r)){if(mi(l))return!1;m=!0}continue}const Y=Wg(8&l?"class":D,d,Fd(e),r);if(-1===Y){if(mi(l))return!1;m=!0;continue}if(""!==E){let le;le=Y>g?"":d[Y+1].toLowerCase();const ge=8&l?le:null;if(ge&&-1!==Kh(ge,E,0)||2&l&&E!==le){if(mi(l))return!1;m=!0}}}}else{if(!m&&!mi(l)&&!mi(D))return!1;if(m&&mi(D))continue;m=!1,l=D|1&l}}return mi(l)||m}function mi(e){return 0==(1&e)}function Wg(e,t,r,l){if(null===t)return-1;let d=0;if(l||!r){let g=!1;for(;d<t.length;){const m=t[d];if(m===e)return d;if(3===m||6===m)g=!0;else{if(1===m||2===m){let _=t[++d];for(;"string"==typeof _;)_=t[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=g?1:2}return-1}return function Zg(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const l=e[r];if("number"==typeof l)return-1;if(l===t)return r;r++}return-1}(t,e)}function Qh(e,t,r=!1){for(let l=0;l<t.length;l++)if(Gg(e,t[l],r))return!0;return!1}function Xh(e,t){e:for(let r=0;r<t.length;r++){const l=t[r];if(e.length===l.length){for(let d=0;d<e.length;d++)if(e[d]!==l[d])continue e;return!0}}return!1}function Jh(e,t){return e?":not("+t.trim()+")":t}function $m(e){let t=e[0],r=1,l=2,d="",g=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&l){const _=e[++r];d+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!mi(m)&&(t+=Jh(g,d),d=""),l=m,g=g||!mi(l);r++}return""!==d&&(t+=Jh(g,d)),t}const vt={};function tp(e){$c(At(),xe(),bn()+e,!1)}function $c(e,t,r,l){if(!l)if(3==(3&t[2])){const g=e.preOrderCheckHooks;null!==g&&us(t,g,r)}else{const g=e.preOrderHooks;null!==g&&na(t,g,0,r)}li(r)}function op(e,t=null,r=null,l){const d=sp(e,t,r,l);return d.resolveInjectorInitializers(),d}function sp(e,t=null,r=null,l,d=new Set){const g=[r||_t,Er(e)];return l=l||("object"==typeof e?void 0:z(e)),new Ta(g,t||Mr(),l||null,d)}let Ps=(()=>{class e{static create(r,l){if(Array.isArray(r))return op({name:""},l,r,"");{const d=r.name??"";return op({name:d},r.parent,r.providers,d)}}}return e.THROW_IF_NOT_FOUND=Dr,e.NULL=new Ts,e.\u0275prov=rn({token:e,providedIn:"any",factory:()=>Nt(Rt)}),e.__NG_ELEMENT_ID__=-1,e})();function Fa(e,t=je.Default){const r=xe();return null===r?Nt(e,t):hs(Jt(),r,G(e),t)}function Rd(){throw new Error("invalid")}function Xc(e,t){return e<<17|t<<2}function yi(e){return e>>17&32767}function Jc(e){return 2|e}function Wi(e){return(131068&e)>>2}function ef(e,t){return-131069&e|t<<2}function tf(e){return 1|e}function gv(e,t){const r=e.contentQueries;if(null!==r)for(let l=0;l<r.length;l+=2){const d=r[l],g=r[l+1];if(-1!==g){const m=e.data[g];xi(d),m.contentQueries(2,t[g],g)}}}function Wd(e,t,r,l,d,g,m,_,D,E,O){const Y=t.blueprint.slice();return Y[0]=d,Y[2]=76|l,(null!==O||e&&1024&e[2])&&(Y[2]|=1024),Ei(Y),Y[3]=Y[M]=e,Y[8]=r,Y[10]=m||e&&e[10],Y[11]=_||e&&e[11],Y[12]=D||e&&e[12]||null,Y[9]=E||e&&e[9]||null,Y[6]=g,Y[20]=function Nh(){return gd++}(),Y[21]=O,Y[U]=2==t.type?e[U]:Y,Y}function qo(e,t,r,l,d){let g=e.data[t];if(null===g)g=function ka(e,t,r,l,d){const g=Rr(),m=Qs(),D=e.data[t]=function mp(e,t,r,l,d,g){return{type:r,index:l,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?g:g&&g.parent,r,t,l,d);return null===e.firstChild&&(e.firstChild=D),null!==g&&(m?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(e,t,r,l,d),function sc(){return dt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=r,g.value=l,g.attrs=d;const m=function Vr(){const e=dt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();g.injectorIndex=null===m?-1:m.injectorIndex}return _r(g,!0),g}function Zo(e,t,r,l){if(0===r)return-1;const d=t.length;for(let g=0;g<r;g++)t.push(l),e.blueprint.push(l),e.data.push(null);return d}function Al(e,t,r){no(t);try{const l=e.viewQuery;null!==l&&_f(1,l,r);const d=e.template;null!==d&&df(e,t,d,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gv(e,t),e.staticViewQueries&&_f(2,e.viewQuery,r);const g=e.components;null!==g&&function vv(e,t){for(let r=0;r<t.length;r++)xv(e,t[r])}(t,g)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[2]&=-5,Ka()}}function ff(e,t,r,l){const d=t[2];if(128!=(128&d)){no(t);try{Ei(t),function qa(e){return dt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&df(e,t,r,2,l);const m=3==(3&d);if(m){const E=e.preOrderCheckHooks;null!==E&&us(t,E,null)}else{const E=e.preOrderHooks;null!==E&&na(t,E,0,null),ra(t,0)}if(function Mv(e){for(let t=Pc(e);null!==t;t=Eu(t)){if(!t[2])continue;const r=t[9];for(let l=0;l<r.length;l++){const d=r[l],g=d[3];0==(512&d[2])&&fn(g,1),d[2]|=512}}}(t),function bp(e){for(let t=Pc(e);null!==t;t=Eu(t))for(let r=10;r<t.length;r++){const l=t[r],d=l[1];Ga(l)&&ff(d,l,d.template,l[8])}}(t),null!==e.contentQueries&&gv(e,t),m){const E=e.contentCheckHooks;null!==E&&us(t,E)}else{const E=e.contentHooks;null!==E&&na(t,E,1),ra(t,1)}!function Gd(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let l=0;l<r.length;l++){const d=r[l];if(d<0)li(~d);else{const g=d,m=r[++l],_=r[++l];Th(m,g),_(2,t[g])}}}finally{li(-1)}}(e,t);const _=e.components;null!==_&&function ny(e,t){for(let r=0;r<t.length;r++)ly(e,t[r])}(t,_);const D=e.viewQuery;if(null!==D&&_f(2,D,l),m){const E=e.viewCheckHooks;null!==E&&us(t,E)}else{const E=e.viewHooks;null!==E&&na(t,E,2),ra(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,fn(t[3],-1))}finally{Ka()}}}function df(e,t,r,l,d){const g=bn(),m=2&l;try{li(-1),m&&t.length>22&&$c(e,t,22,!1),r(l,d)}finally{li(g)}}function Yd(e,t,r){!Ya()||(function _p(e,t,r,l){const d=r.directiveStart,g=r.directiveEnd;e.firstCreatePass||To(r,t),nr(l,t);const m=r.initialInputs;for(let _=d;_<g;_++){const D=e.data[_],E=Zr(D);E&&Ev(t,r,D);const O=fa(t,e,_,r);nr(O,t),null!==m&&wp(0,_-d,O,D,0,m),E&&(er(r.index,t)[8]=O)}}(e,t,r,Nr(r,t)),128==(128&r.flags)&&function Cp(e,t,r){const l=r.directiveStart,d=r.directiveEnd,g=r.index,m=function Ah(){return dt.lFrame.currentDirectiveIndex}();try{li(g);for(let _=l;_<d;_++){const D=e.data[_],E=t[_];lc(_),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&wv(D,E)}}finally{li(-1),lc(m)}}(e,t,r))}function qd(e,t,r=Nr){const l=t.localNames;if(null!==l){let d=t.index+1;for(let g=0;g<l.length;g+=2){const m=l[g+1],_=-1===m?r(t,e):e[m];e[d++]=_}}}function Zd(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Kd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Kd(e,t,r,l,d,g,m,_,D,E){const O=22+l,Y=O+d,le=function gp(e,t){const r=[];for(let l=0;l<t;l++)r.push(l<e?null:vt);return r}(O,Y),ge="function"==typeof E?E():E;return le[1]={type:e,blueprint:le,template:r,queries:null,viewQuery:_,declTNode:t,data:le.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:ge,incompleteFirstPass:!1}}function vp(e,t,r,l){const d=Cf(t);null===r?d.push(l):(d.push(r),e.firstCreatePass&&Ep(e).push(l,d.length-1))}function mv(e,t,r){for(let l in e)if(e.hasOwnProperty(l)){const d=e[l];(r=null===r?{}:r).hasOwnProperty(l)?r[l].push(t,d):r[l]=[t,d]}return r}function hf(e,t){const l=t.directiveEnd,d=e.data,g=t.attrs,m=[];let _=null,D=null;for(let E=t.directiveStart;E<l;E++){const O=d[E],Y=O.inputs,le=null===g||Fd(t)?null:Jd(Y,g);m.push(le),_=mv(Y,E,_),D=mv(O.outputs,E,D)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=16),_.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=m,t.inputs=_,t.outputs=D}function pf(e,t){const r=er(t,e);16&r[2]||(r[2]|=32)}function La(e,t,r,l){let d=!1;if(Ya()){const g=function Dv(e,t,r){const l=e.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const m=l[g];Qh(r,m.selectors,!1)&&(d||(d=[]),Xr(To(r,t),e,m.type),Zr(m)?(Qd(e,r),d.unshift(m)):d.push(m))}return d}(e,t,r),m=null===l?null:{"":-1};if(null!==g){d=!0,bv(r,e.data.length,g.length);for(let O=0;O<g.length;O++){const Y=g[O];Y.providersResolver&&Y.providersResolver(Y)}let _=!1,D=!1,E=Zo(e,t,g.length,null);for(let O=0;O<g.length;O++){const Y=g[O];r.mergedAttrs=io(r.mergedAttrs,Y.hostAttrs),Sv(e,r,t,E,Y),sy(E,Y,m),null!==Y.contentQueries&&(r.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(r.flags|=128);const le=Y.type.prototype;!_&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),_=!0),!D&&(le.ngOnChanges||le.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),D=!0),E++}hf(e,r)}m&&function oy(e,t,r){if(t){const l=e.localNames=[];for(let d=0;d<t.length;d+=2){const g=r[t[d+1]];if(null==g)throw new I(-301,!1);l.push(t[d],g)}}}(r,l,m)}return r.mergedAttrs=io(r.mergedAttrs,r.attrs),d}function gf(e,t,r,l,d,g){const m=g.hostBindings;if(m){let _=e.hostBindingOpCodes;null===_&&(_=e.hostBindingOpCodes=[]);const D=~t.index;(function yp(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(_)!=D&&_.push(D),_.push(l,d,m)}}function wv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Qd(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function sy(e,t,r){if(r){if(t.exportAs)for(let l=0;l<t.exportAs.length;l++)r[t.exportAs[l]]=e;Zr(t)&&(r[""]=e)}}function bv(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function Sv(e,t,r,l,d){e.data[l]=d;const g=d.factory||(d.factory=Xi(d.type)),m=new cr(g,Zr(d),Fa);e.blueprint[l]=m,r[l]=m,gf(e,t,0,l,Zo(e,r,d.hostVars,vt),d)}function Ev(e,t,r){const l=Nr(t,e),d=Zd(r),g=e[10],m=mf(e,Wd(e,d,null,r.onPush?32:16,l,t,g,g.createRenderer(l,r),null,null,null));e[t.index]=m}function qi(e,t,r,l,d,g){const m=Nr(e,t);!function Xd(e,t,r,l,d,g,m){if(null==g)e.removeAttribute(t,d,r);else{const _=null==m?ae(g):m(g,l||"",d);e.setAttribute(t,d,_,r)}}(t[11],m,g,e.value,r,l,d)}function wp(e,t,r,l,d,g){const m=g[t];if(null!==m){const _=l.setInput;for(let D=0;D<m.length;){const E=m[D++],O=m[D++],Y=m[D++];null!==_?l.setInput(r,Y,E,O):r[O]=Y}}}function Jd(e,t){let r=null,l=0;for(;l<t.length;){const d=t[l];if(0!==d)if(5!==d){if("number"==typeof d)break;e.hasOwnProperty(d)&&(null===r&&(r=[]),r.push(d,e[d],t[l+1])),l+=2}else l+=2;else l+=4}return r}function Dp(e,t,r,l){return new Array(e,!0,!1,t,null,0,l,r,null,null)}function ly(e,t){const r=er(t,e);if(Ga(r)){const l=r[1];48&r[2]?ff(l,r,l.template,r[8]):r[5]>0&&vf(r)}}function vf(e){for(let l=Pc(e);null!==l;l=Eu(l))for(let d=10;d<l.length;d++){const g=l[d];if(Ga(g))if(512&g[2]){const m=g[1];ff(m,g,m.template,g[8])}else g[5]>0&&vf(g)}const r=e[1].components;if(null!==r)for(let l=0;l<r.length;l++){const d=er(r[l],e);Ga(d)&&d[5]>0&&vf(d)}}function xv(e,t){const r=er(t,e),l=r[1];(function Sp(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(l,r),Al(l,r,r[8])}function mf(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function yf(e){for(;e;){e[2]|=32;const t=Su(e);if(Lf(e)&&!t)return e;e=t}return null}function Nu(e,t,r,l=!0){const d=t[10];d.begin&&d.begin();try{ff(e,t,e.template,r)}catch(m){throw l&&Mp(t,m),m}finally{d.end&&d.end()}}function _f(e,t,r){xi(0),t(e,r)}function Cf(e){return e[7]||(e[7]=[])}function Ep(e){return e.cleanup||(e.cleanup=[])}function Mp(e,t){const r=e[9],l=r?r.get(ei,null):null;l&&l.handleError(t)}function Ru(e,t,r,l,d){for(let g=0;g<r.length;){const m=r[g++],_=r[g++],D=t[m],E=e.data[m];null!==E.setInput?E.setInput(D,d,l,_):D[_]=d}}function wo(e,t,r){const l=ql(t,e);!function jh(e,t,r){e.setValue(t,r)}(e[11],l,r)}function Df(e,t,r){let l=r?e.styles:null,d=r?e.classes:null,g=0;if(null!==t)for(let m=0;m<t.length;m++){const _=t[m];"number"==typeof _?g=_:1==g?d=H(d,_):2==g&&(l=H(l,_+": "+t[++m]+";"))}r?e.styles=l:e.stylesWithoutHost=l,r?e.classes=d:e.classesWithoutHost=d}function Vu(e,t,r,l,d=!1){for(;null!==r;){const g=t[r.index];if(null!==g&&l.push(Mt(g)),kr(g))for(let _=10;_<g.length;_++){const D=g[_],E=D[1].firstChild;null!==E&&Vu(D[1],D,E,l)}const m=r.type;if(8&m)Vu(e,t,r.child,l);else if(32&m){const _=Lc(r,t);let D;for(;D=_();)l.push(D)}else if(16&m){const _=Od(t,r);if(Array.isArray(_))l.push(..._);else{const D=Su(t[U]);Vu(D[1],D,_,l,!0)}}r=d?r.projectionNext:r.next}return l}class Bu{constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,r=t[1];return Vu(r,t,r.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(kr(t)){const r=t[8],l=r?r.indexOf(this):-1;l>-1&&(Ed(t,l),hr(r,l))}this._attachedToViewContainer=!1}$h(this._lView[1],this._lView)}onDestroy(t){vp(this._lView[1],this._lView,null,t)}markForCheck(){yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Nu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bd(e,t){Ml(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t}}class xp extends Bu{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Nu(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class eh extends ${constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=bt(t);return new Il(r,this.ngModule)}}function bf(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class Av{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,l){const d=this.injector.get(t,Ye,l);return d!==Ye||r===Ye?d:this.parentInjector.get(t,r,l)}}class Il extends y{constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function zc(e){return e.map($m).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return bf(this.componentDef.inputs)}get outputs(){return bf(this.componentDef.outputs)}create(t,r,l,d){let g=(d=d||this.ngModule)instanceof zo?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const m=g?new Av(t,g):t,_=m.get(Me,null);if(null===_)throw new I(407,!1);const D=m.get(Le,null),E=_.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",Y=l?function iy(e,t,r){return e.selectRootElement(t,r===it.ShadowDom)}(E,l,this.componentDef.encapsulation):Dd(_.createRenderer(null,this.componentDef),O,function Tv(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(O)),le=this.componentDef.onPush?288:272,ge=Kd(0,null,null,1,0,null,null,null,null,null),we=Wd(null,ge,null,le,null,null,_,E,D,m,null);let Ie,Re;no(we);try{const qe=function Tp(e,t,r,l,d,g){const m=r[1];r[22]=e;const D=qo(m,22,2,"#host",null),E=D.mergedAttrs=t.hostAttrs;null!==E&&(Df(D,E,!0),null!==e&&(Ja(d,e,E),null!==D.classes&&jc(d,e,D.classes),null!==D.styles&&Zh(d,e,D.styles)));const O=l.createRenderer(e,t),Y=Wd(r,Zd(t),null,t.onPush?32:16,r[22],D,l,O,g||null,null,null);return m.firstCreatePass&&(Xr(To(D,r),m,t.type),Qd(m,D),bv(D,r.length,1)),mf(r,Y),r[22]=Y}(Y,this.componentDef,we,_,E);if(Y)if(l)Ja(E,Y,["ng-version",Xe.full]);else{const{attrs:tt,classes:Te}=function ep(e){const t=[],r=[];let l=1,d=2;for(;l<e.length;){let g=e[l];if("string"==typeof g)2===d?""!==g&&t.push(g,e[++l]):8===d&&r.push(g);else{if(!mi(d))break;d=g}l++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);tt&&Ja(E,Y,tt),Te&&Te.length>0&&jc(E,Y,Te.join(" "))}if(Re=Zl(ge,22),void 0!==r){const tt=Re.projection=[];for(let Te=0;Te<this.ngContentSelectors.length;Te++){const ct=r[Te];tt.push(null!=ct?Array.from(ct):null)}}Ie=function Ap(e,t,r,l){const d=r[1],g=function Cv(e,t,r){const l=Jt();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Sv(e,l,t,Zo(e,t,1,null),r),hf(e,l));const d=fa(t,e,l.directiveStart,l);nr(d,t);const g=Nr(l,t);return g&&nr(g,t),d}(d,r,t);if(e[8]=r[8]=g,null!==l)for(const _ of l)_(g,t);if(t.contentQueries){const _=Jt();t.contentQueries(1,g,_.directiveStart)}const m=Jt();return!d.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(li(m.index),gf(r[1],m,0,m.directiveStart,m.directiveEnd,t),wv(t,g)),g}(qe,this.componentDef,we,[Pa]),Al(ge,we,null)}finally{Ka()}return new th(this.componentType,Ie,he(Re,we),we,Re)}}class th extends class h{}{constructor(t,r,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=r,this.hostView=this.changeDetectorRef=new xp(d),this.componentType=t}setInput(t,r){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[t])){const g=this._rootLView;Ru(g[1],g,d,t,r),pf(g,this._tNode.index)}}get injector(){return new da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Pa(){const e=Jt();ls(xe()[1],e)}function Sf(e){let t=function Ip(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const l=[e];for(;t;){let d;if(Zr(e))d=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);d=t.\u0275dir}if(d){if(r){l.push(d);const m=e;m.inputs=Ef(e.inputs),m.declaredInputs=Ef(e.declaredInputs),m.outputs=Ef(e.outputs);const _=d.hostBindings;_&&nh(e,_);const D=d.viewQuery,E=d.contentQueries;if(D&&Fv(e,D),E&&kv(e,E),se(e.inputs,d.inputs),se(e.declaredInputs,d.declaredInputs),se(e.outputs,d.outputs),Zr(d)&&d.data.animation){const O=e.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let m=0;m<g.length;m++){const _=g[m];_&&_.ngInherit&&_(e),_===Sf&&(r=!1)}}t=Object.getPrototypeOf(t)}!function Ov(e){let t=0,r=null;for(let l=e.length-1;l>=0;l--){const d=e[l];d.hostVars=t+=d.hostVars,d.hostAttrs=io(d.hostAttrs,r=io(r,d.hostAttrs))}}(l)}function Ef(e){return e===un?{}:e===_t?[]:e}function Fv(e,t){const r=e.viewQuery;e.viewQuery=r?(l,d)=>{t(l,d),r(l,d)}:t}function kv(e,t){const r=e.contentQueries;e.contentQueries=r?(l,d,g)=>{t(l,d,g),r(l,d,g)}:t}function nh(e,t){const r=e.hostBindings;e.hostBindings=r?(l,d)=>{t(l,d),r(l,d)}:t}let Mf=null;function Bs(){if(!Mf){const e=Ge.Symbol;if(e&&e.iterator)Mf=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<t.length;++r){const l=t[r];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Mf=l)}}}return Mf}function Ol(e){return!!Lp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Bs()in e)}function Lp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ko(e,t,r){return e[t]=r}function gr(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Fl(e,t,r,l){const d=gr(e,t,r);return gr(e,t+1,l)||d}function Pp(e,t,r,l){const d=xe();return gr(d,ai(),t)&&(At(),qi(Gt(),d,e,t,r,l)),Pp}function ju(e,t,r,l){return gr(e,ai(),r)?t+ae(r)+l:vt}function zu(e,t,r,l,d,g){const _=Fl(e,function Mi(){return dt.lFrame.bindingIndex}(),r,d);return Tn(2),_?t+ae(r)+l+ae(d)+g:vt}function $p(e,t,r,l,d,g,m,_){const D=xe(),E=At(),O=e+22,Y=E.firstCreatePass?function Vv(e,t,r,l,d,g,m,_,D){const E=t.consts,O=qo(t,e,4,m||null,to(E,_));La(t,r,O,to(E,D)),ls(t,O);const Y=O.tViews=Kd(2,O,l,d,g,t.directiveRegistry,t.pipeRegistry,null,t.schemas,E);return null!==t.queries&&(t.queries.template(t,O),Y.queries=t.queries.embeddedTView(O)),O}(O,E,D,t,r,l,d,g,m):E.data[O];_r(Y,!1);const le=D[11].createComment("");Oa(E,D,le,Y),nr(le,D),mf(D,D[O]=Dp(le,D,le,Y)),qs(Y)&&Yd(E,D,Y),null!=m&&qd(D,Y,_)}function rh(e,t,r){const l=xe();return gr(l,ai(),t)&&function Wr(e,t,r,l,d,g,m,_){const D=Nr(t,r);let O,E=t.inputs;!_&&null!=E&&(O=E[l])?(Ru(e,r,O,l,d),Jn(t)&&pf(r,t.index)):3&t.type&&(l=function yv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(l),d=null!=m?m(d,t.value||"",l):d,g.setProperty(D,l,d))}(At(),Gt(),l,e,t,l[11],r,!1),rh}function ih(e,t,r,l,d){const m=d?"class":"style";Ru(e,r,t.inputs[m],m,l)}function oh(e,t,r,l){const d=xe(),g=At(),m=22+e,_=d[11],D=d[m]=Dd(_,t,function Eo(){return dt.lFrame.currentNamespace}()),E=g.firstCreatePass?function py(e,t,r,l,d,g,m){const _=t.consts,E=qo(t,e,2,d,to(_,g));return La(t,r,E,to(_,m)),null!==E.attrs&&Df(E,E.attrs,!1),null!==E.mergedAttrs&&Df(E,E.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,E),E}(m,g,d,0,t,r,l):g.data[m];_r(E,!0);const O=E.mergedAttrs;null!==O&&Ja(_,D,O);const Y=E.classes;null!==Y&&jc(_,D,Y);const le=E.styles;return null!==le&&Zh(_,D,le),64!=(64&E.flags)&&Oa(g,d,D,E),0===function Mh(){return dt.lFrame.elementDepthCount}()&&nr(D,d),function rc(){dt.lFrame.elementDepthCount++}(),qs(E)&&(Yd(g,d,E),function Pu(e,t,r){if(Vl(t)){const d=t.directiveEnd;for(let g=t.directiveStart;g<d;g++){const m=e.data[g];m.contentQueries&&m.contentQueries(1,r[g],g)}}}(g,E,d)),null!==l&&qd(d,E),oh}function sh(){let e=Jt();Qs()?Kr():(e=e.parent,_r(e,!1));const t=e;!function xh(){dt.lFrame.elementDepthCount--}();const r=At();return r.firstCreatePass&&(ls(r,e),Vl(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function oa(e){return 0!=(16&e.flags)}(t)&&ih(r,t,xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function cc(e){return 0!=(32&e.flags)}(t)&&ih(r,t,xe(),t.stylesWithoutHost,!1),sh}function Gp(e,t,r,l){return oh(e,t,r,l),sh(),Gp}function qp(e){return!!e&&"function"==typeof e.then}function jv(e){return!!e&&"function"==typeof e.subscribe}const zv=jv;function Zp(e,t,r,l){const d=xe(),g=At(),m=Jt();return function Gv(e,t,r,l,d,g,m,_){const D=qs(l),O=e.firstCreatePass&&Ep(e),Y=t[8],le=Cf(t);let ge=!0;if(3&l.type||_){const Re=Nr(l,t),qe=_?_(Re):Re,tt=le.length,Te=_?Bt=>_(Mt(Bt[l.index])):l.index;let ct=null;if(!_&&D&&(ct=function my(e,t,r,l){const d=e.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const m=d[g];if(m===r&&d[g+1]===l){const _=t[7],D=d[g+2];return _.length>D?_[D]:null}"string"==typeof m&&(g+=2)}return null}(e,t,d,l.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=g,ct.__ngLastListenerFn__=g,ge=!1;else{g=s(l,t,Y,g,!1);const Bt=r.listen(qe,d,g);le.push(g,Bt),O&&O.push(d,Te,tt,tt+1)}}else g=s(l,t,Y,g,!1);const we=l.outputs;let Ie;if(ge&&null!==we&&(Ie=we[d])){const Re=Ie.length;if(Re)for(let qe=0;qe<Re;qe+=2){const Cn=t[Ie[qe]][Ie[qe+1]].subscribe(g),qu=le.length;le.push(g,Cn),O&&O.push(d,l.index,qu,-(qu+1))}}}(g,d,d[11],m,e,t,0,l),Zp}function Wv(e,t,r,l){try{return!1!==r(l)}catch(d){return Mp(e,d),!1}}function s(e,t,r,l,d){return function g(m){if(m===Function)return l;yf(2&e.flags?er(e.index,t):t);let D=Wv(t,0,l,m),E=g.__ngNextListenerFn__;for(;E;)D=Wv(t,0,E,m)&&D,E=E.__ngNextListenerFn__;return d&&!1===D&&(m.preventDefault(),m.returnValue=!1),D}}function a(e=1){return function eu(e){return(dt.lFrame.contextLView=function as(e,t){for(;e>0;)t=t[M],e--;return t}(e,dt.lFrame.contextLView))[8]}(e)}function i(e,t){let r=null;const l=function Yg(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(0==(1&r))return t[r+1]}return null}(e);for(let d=0;d<t.length;d++){const g=t[d];if("*"!==g){if(null===l?Qh(e,g,!0):Xh(l,g))return d}else r=d}return r}function u(e){const t=xe()[U][6];if(!t.projection){const l=t.projection=Hr(e?e.length:1,null),d=l.slice();let g=t.child;for(;null!==g;){const m=e?i(g,e):0;null!==m&&(d[m]?d[m].projectionNext=g:l[m]=g,d[m]=g),g=g.next}}}function v(e,t=0,r){const l=xe(),d=At(),g=qo(d,22+e,16,null,r||null);null===g.projection&&(g.projection=t),Kr(),64!=(64&g.flags)&&function qh(e,t,r){Uc(t[11],0,t,r,xd(e,r,t),Hg(r.parent||t[6],r,t))}(d,l,g)}function Ir(e,t,r,l,d){const g=e[r+1],m=null===t;let _=l?yi(g):Wi(g),D=!1;for(;0!==_&&(!1===D||m);){const O=e[_+1];Pl(e[_],t)&&(D=!0,e[_+1]=l?tf(O):Jc(O)),_=l?yi(O):Wi(O)}D&&(e[r+1]=l?Jc(g):tf(g))}function Pl(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ao(e,t)>=0}const xn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ah(e){return e.substring(xn.key,xn.keyEnd)}function yy(e,t){const r=xn.textEnd;return r===t?-1:(t=xn.keyEnd=function fC(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,xn.key=t,r),Tf(e,t,r))}function Tf(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function Yv(e,t){return function Qo(e,t,r,l){const d=xe(),g=At(),m=Tn(2);g.firstUpdatePass&&My(g,e,m,l),t!==vt&&gr(d,m,t)&&Ty(g,g.data[bn()],d,d[11],e,d[m+1]=function wC(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=z(Sr(e)))),e}(t,r),l,m)}(e,t,null,!0),Yv}function Sy(e){Xo(An,Us,e,!0)}function Us(e,t){for(let r=function uC(e){return function Cy(e){xn.key=0,xn.keyEnd=0,xn.value=0,xn.valueEnd=0,xn.textEnd=e.length}(e),yy(e,Tf(e,0,xn.textEnd))}(t);r>=0;r=yy(t,r))An(e,ah(t),!0)}function Xo(e,t,r,l){const d=At(),g=Tn(2);d.firstUpdatePass&&My(d,null,g,l);const m=xe();if(r!==vt&&gr(m,g,r)){const _=d.data[bn()];if(Iy(_,l)&&!Ey(d,g)){let D=l?_.classesWithoutHost:_.stylesWithoutHost;null!==D&&(r=H(D,r||"")),ih(d,_,m,r,l)}else!function CC(e,t,r,l,d,g,m,_){d===vt&&(d=_t);let D=0,E=0,O=0<d.length?d[0]:null,Y=0<g.length?g[0]:null;for(;null!==O||null!==Y;){const le=D<d.length?d[D+1]:void 0,ge=E<g.length?g[E+1]:void 0;let Ie,we=null;O===Y?(D+=2,E+=2,le!==ge&&(we=Y,Ie=ge)):null===Y||null!==O&&O<Y?(D+=2,we=O):(E+=2,we=Y,Ie=ge),null!==we&&Ty(e,t,r,l,we,Ie,m,_),O=D<d.length?d[D]:null,Y=E<g.length?g[E]:null}}(d,_,m,m[11],m[g+1],m[g+1]=function _C(e,t,r){if(null==r||""===r)return _t;const l=[],d=Sr(r);if(Array.isArray(d))for(let g=0;g<d.length;g++)e(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&e(l,g,d[g]);else"string"==typeof d&&t(l,d);return l}(e,t,r),l,g)}}function Ey(e,t){return t>=e.expandoStartIndex}function My(e,t,r,l){const d=e.data;if(null===d[r+1]){const g=d[bn()],m=Ey(e,r);Iy(g,l)&&null===t&&!m&&(t=!1),t=function gC(e,t,r,l){const d=function Ql(e){const t=dt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let g=l?t.residualClasses:t.residualStyles;if(null===d)0===(l?t.classBindings:t.styleBindings)&&(r=lh(r=qv(null,e,t,r,l),t.attrs,l),g=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==d)if(r=qv(d,e,t,r,l),null===g){let D=function vC(e,t,r){const l=r?t.classBindings:t.styleBindings;if(0!==Wi(l))return e[yi(l)]}(e,t,l);void 0!==D&&Array.isArray(D)&&(D=qv(null,e,t,D[1],l),D=lh(D,t.attrs,l),function mC(e,t,r,l){e[yi(r?t.classBindings:t.styleBindings)]=l}(e,t,l,D))}else g=function yC(e,t,r){let l;const d=t.directiveEnd;for(let g=1+t.directiveStylingLast;g<d;g++)l=lh(l,e[g].hostAttrs,r);return lh(l,t.attrs,r)}(e,t,l)}return void 0!==g&&(l?t.residualClasses=g:t.residualStyles=g),r}(d,g,t,l),function _n(e,t,r,l,d,g){let m=g?t.classBindings:t.styleBindings,_=yi(m),D=Wi(m);e[l]=r;let O,E=!1;if(Array.isArray(r)){const Y=r;O=Y[1],(null===O||ao(Y,O)>0)&&(E=!0)}else O=r;if(d)if(0!==D){const le=yi(e[_+1]);e[l+1]=Xc(le,_),0!==le&&(e[le+1]=ef(e[le+1],l)),e[_+1]=function Hd(e,t){return 131071&e|t<<17}(e[_+1],l)}else e[l+1]=Xc(_,0),0!==_&&(e[_+1]=ef(e[_+1],l)),_=l;else e[l+1]=Xc(D,0),0===_?_=l:e[D+1]=ef(e[D+1],l),D=l;E&&(e[l+1]=Jc(e[l+1])),Ir(e,O,l,!0),Ir(e,O,l,!1),function Do(e,t,r,l,d){const g=d?e.residualClasses:e.residualStyles;null!=g&&"string"==typeof t&&ao(g,t)>=0&&(r[l+1]=tf(r[l+1]))}(t,O,e,l,g),m=Xc(_,D),g?t.classBindings=m:t.styleBindings=m}(d,g,t,r,m,l)}}function qv(e,t,r,l,d){let g=null;const m=r.directiveEnd;let _=r.directiveStylingLast;for(-1===_?_=r.directiveStart:_++;_<m&&(g=t[_],l=lh(l,g.hostAttrs,d),g!==e);)_++;return null!==e&&(r.directiveStylingLast=_),l}function lh(e,t,r){const l=r?1:2;let d=-1;if(null!==t)for(let g=0;g<t.length;g++){const m=t[g];"number"==typeof m?d=m:d===l&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),An(e,m,!!r||t[++g]))}return void 0===e?null:e}function Ty(e,t,r,l,d,g,m,_){if(!(3&t.type))return;const D=e.data,E=D[_+1];Kp(function Ud(e){return 1==(1&e)}(E)?Ay(D,t,r,d,Wi(E),m):void 0)||(Kp(g)||function Bd(e){return 2==(2&e)}(E)&&(g=Ay(D,null,r,d,_,m)),function zg(e,t,r,l,d){if(t)d?e.addClass(r,l):e.removeClass(r,l);else{let g=-1===l.indexOf("-")?void 0:$i.DashCase;null==d?e.removeStyle(r,l,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=$i.Important),e.setStyle(r,l,d,g))}}(l,m,ql(bn(),r),d,g))}function Ay(e,t,r,l,d,g){const m=null===t;let _;for(;d>0;){const D=e[d],E=Array.isArray(D),O=E?D[1]:D,Y=null===O;let le=r[d+1];le===vt&&(le=Y?_t:void 0);let ge=Y?so(le,l):O===l?le:void 0;if(E&&!Kp(ge)&&(ge=so(D,l)),Kp(ge)&&(_=ge,m))return _;const we=e[d+1];d=m?yi(we):Wi(we)}if(null!==t){let D=g?t.residualClasses:t.residualStyles;null!=D&&(_=so(D,l))}return _}function Kp(e){return void 0!==e}function Iy(e,t){return 0!=(e.flags&(t?16:32))}function Oy(e,t=""){const r=xe(),l=At(),d=e+22,g=l.firstCreatePass?qo(l,d,1,t,null):l.data[d],m=r[d]=function wd(e,t){return e.createText(t)}(r[11],t);Oa(l,r,m,g),_r(g,!1)}function Zv(e){return Qp("",e,""),Zv}function Qp(e,t,r){const l=xe(),d=ju(l,e,t,r);return d!==vt&&wo(l,bn(),d),Qp}function Kv(e,t,r,l,d){const g=xe(),m=zu(g,e,t,r,l,d);return m!==vt&&wo(g,bn(),m),Kv}function By(e,t,r){Xo(An,Us,ju(xe(),e,t,r),!0)}const Wu=void 0;var HC=["en",[["a","p"],["AM","PM"],Wu],[["AM","PM"],Wu,Wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wu,"{1} 'at' {0}",Wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BC(e){const r=Math.floor(Math.abs(e)),l=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===l?1:5}];let Af={};function Qv(e){const t=function UC(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Xy(t);if(r)return r;const l=t.split("-")[0];if(r=Xy(l),r)return r;if("en"===l)return HC;throw new I(701,!1)}function Qy(e){return Qv(e)[ut.PluralCase]}function Xy(e){return e in Af||(Af[e]=Ge.ng&&Ge.ng.common&&Ge.ng.common.locales&&Ge.ng.common.locales[e]),Af[e]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const If="en-US";let Jy=If;function em(e,t,r,l,d){if(e=G(e),Array.isArray(e))for(let g=0;g<e.length;g++)em(e[g],t,r,l,d);else{const g=At(),m=xe();let _=vo(e)?e:G(e.provide),D=_u(e);const E=Jt(),O=1048575&E.providerIndexes,Y=E.directiveStart,le=E.providerIndexes>>20;if(vo(e)||!e.multi){const ge=new cr(D,d,Fa),we=nm(_,t,d?O:O+le,Y);-1===we?(Xr(To(E,m),g,_),tm(g,e,t.length),t.push(_),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),r.push(ge),m.push(ge)):(r[we]=ge,m[we]=ge)}else{const ge=nm(_,t,O+le,Y),we=nm(_,t,O,O+le),Ie=ge>=0&&r[ge],Re=we>=0&&r[we];if(d&&!Re||!d&&!Ie){Xr(To(E,m),g,_);const qe=function Vw(e,t,r,l,d){const g=new cr(e,r,Fa);return g.multi=[],g.index=t,g.componentProviders=0,E0(g,d,l&&!r),g}(d?Rw:Nw,r.length,d,l,D);!d&&Re&&(r[we].providerFactory=qe),tm(g,e,t.length,0),t.push(_),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),r.push(qe),m.push(qe)}else tm(g,e,ge>-1?ge:we,E0(r[d?we:ge],D,!d&&l));!d&&l&&Re&&r[we].componentProviders++}}}function tm(e,t,r,l){const d=vo(t),g=function Ma(e){return!!e.useClass}(t);if(d||g){const D=(g?G(t.useClass):t).prototype.ngOnDestroy;if(D){const E=e.destroyHooks||(e.destroyHooks=[]);if(!d&&t.multi){const O=E.indexOf(r);-1===O?E.push(r,[l,D]):E[O+1].push(l,D)}else E.push(r,D)}}}function E0(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function nm(e,t,r,l){for(let d=r;d<l;d++)if(t[d]===e)return d;return-1}function Nw(e,t,r,l){return rm(this.multi,[])}function Rw(e,t,r,l){const d=this.multi;let g;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=fa(r,r[1],this.providerFactory.index,l);g=_.slice(0,m),rm(d,g);for(let D=m;D<_.length;D++)g.push(_[D])}else g=[],rm(d,g);return g}function rm(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function M0(e,t=[]){return r=>{r.providersResolver=(l,d)=>function Pw(e,t,r){const l=At();if(l.firstCreatePass){const d=Zr(e);em(r,l.data,l.blueprint,d,!0),em(t,l.data,l.blueprint,d,!1)}}(l,d?d(e):e,t)}}class Of{}class x0{}function Bw(e,t){return new T0(e,t??null)}class T0 extends Of{constructor(t,r){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eh(this);const l=wn(t);this._bootstrapComponents=Wo(l.bootstrap),this._r3Injector=sp(t,r,[{provide:Of,useValue:this},{provide:$,useValue:this.componentFactoryResolver}],z(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class im extends x0{constructor(t){super(),this.moduleType=t}create(t){return new T0(this.moduleType,t)}}class Hw extends Of{constructor(t,r,l){super(),this.componentFactoryResolver=new eh(this),this.instance=null;const d=new Ta([...t,{provide:Of,useValue:this},{provide:$,useValue:this.componentFactoryResolver}],r||Mr(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function om(e,t,r=null){return new Hw(e,t,r).injector}let Uw=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r.id)){const l=Hn(0,r.type),d=l.length>0?om([l],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r.id,d)}return this.cachedInjectors.get(r.id)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=rn({token:e,providedIn:"environment",factory:()=>new e(Nt(zo))}),e})();function A0(e){e.getStandaloneInjector=t=>t.get(Uw).getOrCreateStandaloneInjector(e)}function N0(e,t,r){const l=ur()+e,d=xe();return d[l]===vt?Ko(d,l,r?t.call(r):t()):function Hu(e,t){return e[t]}(d,l)}function R0(e,t,r,l){return B0(xe(),ur(),e,t,r,l)}function V0(e,t,r,l,d,g){return function U0(e,t,r,l,d,g,m,_){const D=t+r;return function xf(e,t,r,l,d){const g=Fl(e,t,r,l);return gr(e,t+2,d)||g}(e,D,d,g,m)?Ko(e,D+3,_?l.call(_,d,g,m):l(d,g,m)):ph(e,D+3)}(xe(),ur(),e,t,r,l,d,g)}function ph(e,t){const r=e[t];return r===vt?void 0:r}function B0(e,t,r,l,d,g){const m=t+r;return gr(e,m,d)?Ko(e,m+1,g?l.call(g,d):l(d)):ph(e,m+1)}function $0(e,t){const r=At();let l;const d=e+22;r.firstCreatePass?(l=function rD(e,t){if(t)for(let r=t.length-1;r>=0;r--){const l=t[r];if(e===l.name)return l}}(t,r.pipeRegistry),r.data[d]=l,l.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(d,l.onDestroy)):l=r.data[d];const g=l.factory||(l.factory=Xi(l.type)),m=Tt(Fa);try{const _=tl(!1),D=g();return tl(_),function Bv(e,t,r,l){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=l}(r,xe(),d,D),D}finally{Tt(m)}}function G0(e,t,r){const l=e+22,d=xe(),g=function os(e,t){return e[t]}(d,l);return function gh(e,t){return e[1].data[t].pure}(d,l)?B0(d,ur(),t,g.transform,r,g):g.transform(r)}function am(e){return t=>{setTimeout(e,void 0,t)}}const js=class lD extends p.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,l){let d=t,g=r||(()=>null),m=l;if(t&&"object"==typeof t){const D=t;d=D.next?.bind(D),g=D.error?.bind(D),m=D.complete?.bind(D)}this.__isAsync&&(g=am(g),d&&(d=am(d)),m&&(m=am(m)));const _=super.subscribe({next:d,error:g,complete:m});return t instanceof ue.w0&&t.add(_),_}};function uD(){return this._results[Bs()]()}class lm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Bs(),l=lm.prototype;l[r]||(l[r]=uD)}get changes(){return this._changes||(this._changes=new js)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const l=this;l.dirty=!1;const d=dr(t);(this._changesDetected=!function gc(e,t,r){if(e.length!==t.length)return!1;for(let l=0;l<e.length;l++){let d=e[l],g=t[l];if(r&&(d=r(d),g=r(g)),g!==d)return!1}return!0}(l._results,d,r))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vh=(()=>{class e{}return e.__NG_ELEMENT_ID__=dD,e})();const cD=vh,fD=class extends cD{constructor(t,r,l){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=l}createEmbeddedView(t,r){const l=this._declarationTContainer.tViews,d=Wd(this._declarationLView,l,t,16,null,l.declTNode,null,null,null,null,r||null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(l)),Al(l,d,t),new Bu(d)}};function dD(){return ng(Jt(),xe())}function ng(e,t){return 4&e.type?new fD(t,e,he(e,t)):null}let rg=(()=>{class e{}return e.__NG_ELEMENT_ID__=hD,e})();function hD(){return q0(Jt(),xe())}const pD=rg,W0=class extends pD{constructor(t,r,l){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=l}get element(){return he(this._hostTNode,this._hostLView)}get injector(){return new da(this._hostTNode,this._hostLView)}get parentInjector(){const t=aa(this._hostTNode,this._hostLView);if(fs(t)){const r=Ai(t,this._hostLView),l=ci(t);return new da(r[1].data[l+8],r)}return new da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=Y0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,r,l){let d,g;"number"==typeof l?d=l:null!=l&&(d=l.index,g=l.injector);const m=t.createEmbeddedView(r||{},g);return this.insert(m,d),m}createComponent(t,r,l,d,g){const m=t&&!function wr(e){return"function"==typeof e}(t);let _;if(m)_=r;else{const Y=r||{};_=Y.index,l=Y.injector,d=Y.projectableNodes,g=Y.environmentInjector||Y.ngModuleRef}const D=m?t:new Il(bt(t)),E=l||this.parentInjector;if(!g&&null==D.ngModule){const le=(m?E:this.parentInjector).get(zo,null);le&&(g=le)}const O=D.create(E,d,void 0,g);return this.insert(O.hostView,_),O}insert(t,r){const l=t._lView,d=l[1];if(function jf(e){return kr(e[3])}(l)){const O=this.indexOf(t);if(-1!==O)this.detach(O);else{const Y=l[3],le=new W0(Y,Y[6],Y[3]);le.detach(le.indexOf(t))}}const g=this._adjustIndex(r),m=this._lContainer;!function Ng(e,t,r,l){const d=10+l,g=r.length;l>0&&(r[d-1][4]=t),l<g-10?(t[4]=r[d],We(r,10+l,t)):(r.push(t),t[4]=null),t[3]=r;const m=t[17];null!==m&&r!==m&&function Rg(e,t){const r=e[9];t[U]!==t[3][3][U]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(m,t);const _=t[19];null!==_&&_.insertView(e),t[2]|=64}(d,l,m,g);const _=Ls(g,m),D=l[11],E=Bc(D,m[7]);return null!==E&&function zh(e,t,r,l,d,g){l[0]=d,l[6]=t,Ml(e,l,r,1,d,g)}(d,m[6],D,l,E,_),t.attachToViewContainerRef(),We(um(m),g,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=Y0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),l=Ed(this._lContainer,r);l&&(hr(um(this._lContainer),r),$h(l[1],l))}detach(t){const r=this._adjustIndex(t,-1),l=Ed(this._lContainer,r);return l&&null!=hr(um(this._lContainer),r)?new Bu(l):null}_adjustIndex(t,r=0){return t??this.length+r}};function Y0(e){return e[8]}function um(e){return e[8]||(e[8]=[])}function q0(e,t){let r;const l=t[e.index];if(kr(l))r=l;else{let d;if(8&e.type)d=Mt(l);else{const g=t[11];d=g.createComment("");const m=Nr(e,t);Ia(g,Bc(g,m),d,function Gh(e,t){return e.nextSibling(t)}(g,m),!1)}t[e.index]=r=Dp(l,t,d,e),mf(t,r)}return new W0(r,e,t)}class cm{constructor(t){this.queryList=t,this.matches=null}clone(){return new cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class fm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const l=null!==t.contentQueries?t.contentQueries[0]:r.length,d=[];for(let g=0;g<l;g++){const m=r.getByIndex(g);d.push(this.queries[m.indexInDeclarationView].clone())}return new fm(d)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==r_(t,r).matches&&this.queries[r].setDirty()}}class Z0{constructor(t,r,l=null){this.predicate=t,this.flags=r,this.read=l}}class dm{constructor(t=[]){this.queries=t}elementStart(t,r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let l=0;l<this.length;l++){const d=null!==r?r.length:0,g=this.getByIndex(l).embeddedTView(t,d);g&&(g.indexInDeclarationView=l,null!==r?r.push(g):r=[g])}return null!==r?new dm(r):null}template(t,r){for(let l=0;l<this.queries.length;l++)this.queries[l].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class hm{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new hm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let l=t.parent;for(;null!==l&&8&l.type&&l.index!==r;)l=l.parent;return r===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(t,r,mD(r,g)),this.matchTNodeWithReadOption(t,r,ca(r,t,g,!1,!1))}else l===vh?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,ca(r,t,l,!1,!1))}matchTNodeWithReadOption(t,r,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===ce||d===rg||d===vh&&4&r.type)this.addMatch(r.index,-2);else{const g=ca(r,t,d,!1,!1);null!==g&&this.addMatch(r.index,g)}else this.addMatch(r.index,l)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function mD(e,t){const r=e.localNames;if(null!==r)for(let l=0;l<r.length;l+=2)if(r[l]===t)return r[l+1];return null}function _D(e,t,r,l){return-1===r?function yD(e,t){return 11&e.type?he(e,t):4&e.type?ng(e,t):null}(t,e):-2===r?function CD(e,t,r){return r===ce?he(t,e):r===vh?ng(t,e):r===rg?q0(t,e):void 0}(e,t,l):fa(e,e[1],r,t)}function K0(e,t,r,l){const d=t[19].queries[l];if(null===d.matches){const g=e.data,m=r.matches,_=[];for(let D=0;D<m.length;D+=2){const E=m[D];_.push(E<0?null:_D(t,g[E],m[D+1],r.metadata.read))}d.matches=_}return d.matches}function pm(e,t,r,l){const d=e.queries.getByIndex(r),g=d.matches;if(null!==g){const m=K0(e,t,d,r);for(let _=0;_<g.length;_+=2){const D=g[_];if(D>0)l.push(m[_/2]);else{const E=g[_+1],O=t[-D];for(let Y=10;Y<O.length;Y++){const le=O[Y];le[17]===le[3]&&pm(le[1],le,E,l)}if(null!==O[9]){const Y=O[9];for(let le=0;le<Y.length;le++){const ge=Y[le];pm(ge[1],ge,E,l)}}}}}return l}function Q0(e){const t=xe(),r=At(),l=Xl();xi(l+1);const d=r_(r,l);if(e.dirty&&function Ks(e){return 4==(4&e[2])}(t)===(2==(2&d.metadata.flags))){if(null===d.matches)e.reset([]);else{const g=d.crossesNgTemplate?pm(r,t,l,[]):K0(r,t,d,l);e.reset(g,ye),e.notifyOnChanges()}return!0}return!1}function X0(e,t,r){const l=At();l.firstCreatePass&&(n_(l,new Z0(e,t,r),-1),2==(2&t)&&(l.staticViewQueries=!0)),t_(l,xe(),t)}function J0(e,t,r,l){const d=At();if(d.firstCreatePass){const g=Jt();n_(d,new Z0(t,r,l),g.index),function DD(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(d,e),2==(2&r)&&(d.staticContentQueries=!0)}t_(d,xe(),r)}function e_(){return function wD(e,t){return e[19].queries[t].queryList}(xe(),Xl())}function t_(e,t,r){const l=new lm(4==(4&r));vp(e,t,l,l.destroy),null===t[19]&&(t[19]=new fm),t[19].queries.push(new cm(l))}function n_(e,t,r){null===e.queries&&(e.queries=new dm),e.queries.track(new hm(t,r))}function r_(e,t){return e.queries.getByIndex(t)}function og(...e){}const D_=new Lt("Application Initializer");let sg=(()=>{class e{constructor(r){this.appInits=r,this.resolve=og,this.reject=og,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const r=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(qp(g))r.push(g);else if(zv(g)){const m=new Promise((_,D)=>{g.subscribe({complete:_,error:D})});r.push(m)}}Promise.all(r).then(()=>{l()}).catch(d=>{this.reject(d)}),0===r.length&&l(),this.initialized=!0}}return e.\u0275fac=function(r){return new(r||e)(Nt(D_,8))},e.\u0275prov=rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const b_=new Lt("AppId",{providedIn:"root",factory:function S_(){return`${_m()}${_m()}${_m()}`}});function _m(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const E_=new Lt("Platform Initializer"),zD=new Lt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),M_=new Lt("appBootstrapListener");let $D=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const ag=new Lt("LocaleId",{providedIn:"root",factory:()=>hi(ag,je.Optional|je.SkipSelf)||function GD(){return typeof $localize<"u"&&$localize.locale||If}()}),WD=new Lt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class YD{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let qD=(()=>{class e{compileModuleSync(r){return new im(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const l=this.compileModuleSync(r),g=Wo(wn(r).declarations).reduce((m,_)=>{const D=bt(_);return D&&m.push(new Il(D)),m},[]);return new YD(l,g)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const QD=(()=>Promise.resolve(0))();function Cm(e){typeof Zone>"u"?QD.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class bo{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new js(!1),this.onMicrotaskEmpty=new js(!1),this.onStable=new js(!1),this.onError=new js(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&r,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function XD(){let e=Ge.requestAnimationFrame,t=Ge.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const l=t[Zone.__symbol__("OriginalDelegate")];l&&(t=l)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function tb(e){const t=()=>{!function eb(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ge,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Dm(e),e.isCheckStableRunning=!0,wm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Dm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,l,d,g,m,_)=>{try{return A_(e),r.invokeTask(d,g,m,_)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),I_(e)}},onInvoke:(r,l,d,g,m,_,D)=>{try{return A_(e),r.invoke(d,g,m,_,D)}finally{e.shouldCoalesceRunChangeDetection&&t(),I_(e)}},onHasTask:(r,l,d,g)=>{r.hasTask(d,g),l===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,Dm(e),wm(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(r,l,d,g)=>(r.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new I(909,!1)}run(t,r,l){return this._inner.run(t,r,l)}runTask(t,r,l,d){const g=this._inner,m=g.scheduleEventTask("NgZoneEvent: "+d,t,JD,og,og);try{return g.runTask(m,r,l)}finally{g.cancelTask(m)}}runGuarded(t,r,l){return this._inner.runGuarded(t,r,l)}runOutsideAngular(t){return this._outer.run(t)}}const JD={};function wm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Dm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function A_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function I_(e){e._nesting--,wm(e)}class nb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new js,this.onMicrotaskEmpty=new js,this.onStable=new js,this.onError=new js}run(t,r,l){return t.apply(r,l)}runGuarded(t,r,l){return t.apply(r,l)}runOutsideAngular(t){return t()}runTask(t,r,l,d){return t.apply(r,l)}}const O_=new Lt(""),F_=new Lt("");let bm,rb=(()=>{class e{constructor(r,l,d){this._ngZone=r,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bm||(function ib(e){bm=e}(d),d.addToWindow(l)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),Cm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cm(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(r)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==g),r(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:r,timeoutId:g,updateCb:d})}whenStable(r,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,l,d){return[]}}return e.\u0275fac=function(r){return new(r||e)(Nt(bo),Nt(k_),Nt(F_))},e.\u0275prov=rn({token:e,factory:e.\u0275fac}),e})(),k_=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,l){this._applications.set(r,l)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,l=!0){return bm?.findTestabilityInTree(this,r,l)??null}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Nl=null;const L_=new Lt("AllowMultipleToken"),Sm=new Lt("PlatformDestroyListeners");class ab{constructor(t,r){this.name=t,this.token=r}}function N_(e,t,r=[]){const l=`Platform: ${t}`,d=new Lt(l);return(g=[])=>{let m=Em();if(!m||m.injector.get(L_,!1)){const _=[...r,...g,{provide:d,useValue:!0}];e?e(_):function lb(e){if(Nl&&!Nl.get(L_,!1))throw new I(400,!1);Nl=e;const t=e.get(V_);(function P_(e){const t=e.get(E_,null);t&&t.forEach(r=>r())})(e)}(function R_(e=[],t){return Ps.create({name:t,providers:[{provide:xa,useValue:"platform"},{provide:Sm,useValue:new Set([()=>Nl=null])},...e]})}(_,l))}return function cb(e){const t=Em();if(!t)throw new I(401,!1);return t}()}}function Em(){return Nl?.get(V_)??null}let V_=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,l){const d=function H_(e,t){let r;return r="noop"===e?new nb:("zone.js"===e?void 0:e)||new bo(t),r}(l?.ngZone,function B_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:bo,useValue:d}];return d.run(()=>{const m=Ps.create({providers:g,parent:this.injector,name:r.moduleType.name}),_=r.create(m),D=_.injector.get(ei,null);if(!D)throw new I(402,!1);return d.runOutsideAngular(()=>{const E=d.onError.subscribe({next:O=>{D.handleError(O)}});_.onDestroy(()=>{ug(this._modules,_),E.unsubscribe()})}),function U_(e,t,r){try{const l=r();return qp(l)?l.catch(d=>{throw t.runOutsideAngular(()=>e.handleError(d)),d}):l}catch(l){throw t.runOutsideAngular(()=>e.handleError(l)),l}}(D,d,()=>{const E=_.injector.get(sg);return E.runInitializers(),E.donePromise.then(()=>(function e0(e){St(e,"Expected localeId to be defined"),"string"==typeof e&&(Jy=e.toLowerCase().replace(/_/g,"-"))}(_.injector.get(ag,If)||If),this._moduleDoBootstrap(_),_))})})}bootstrapModule(r,l=[]){const d=j_({},l);return function ob(e,t,r){const l=new im(r);return Promise.resolve(l)}(0,0,r).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(r){const l=r.injector.get(lg);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!r.instance.ngDoBootstrap)throw new I(403,!1);r.instance.ngDoBootstrap(l)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const r=this._injector.get(Sm,null);r&&(r.forEach(l=>l()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(r){return new(r||e)(Nt(Ps))},e.\u0275prov=rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function j_(e,t){return Array.isArray(t)?t.reduce(j_,e):{...e,...t}}let lg=(()=>{class e{constructor(r,l,d){this._zone=r,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new re.y(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),m=new re.y(_=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{bo.assertNotInAngularZone(),Cm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{D.unsubscribe(),E.unsubscribe()}});this.isStable=function A(...e){const t=(0,q.yG)(e),r=(0,q._6)(e,1/0),l=e;return l.length?1===l.length?(0,L.Xf)(l[0]):(0,j.J)(r)((0,ie.D)(l,t)):V.E}(g,m.pipe(function Z(e={}){const{connector:t=(()=>new p.x),resetOnError:r=!0,resetOnComplete:l=!0,resetOnRefCountZero:d=!0}=e;return g=>{let m,_,D,E=0,O=!1,Y=!1;const le=()=>{_?.unsubscribe(),_=void 0},ge=()=>{le(),m=D=void 0,O=Y=!1},we=()=>{const Ie=m;ge(),Ie?.unsubscribe()};return(0,N.e)((Ie,Re)=>{E++,!Y&&!O&&le();const qe=D=D??t();Re.add(()=>{E--,0===E&&!Y&&!O&&(_=Q(we,d))}),qe.subscribe(Re),!m&&E>0&&(m=new k.Hp({next:tt=>qe.next(tt),error:tt=>{Y=!0,le(),_=Q(ge,r,tt),qe.error(tt)},complete:()=>{O=!0,le(),_=Q(ge,l),qe.complete()}}),(0,L.Xf)(Ie).subscribe(m))})(g)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,l){const d=r instanceof y;if(!this._injector.get(sg).done)throw!d&&Di(r),new I(405,false);let m;m=d?r:this._injector.get($).resolveComponentFactory(r),this.componentTypes.push(m.componentType);const _=function sb(e){return e.isBoundToModule}(m)?void 0:this._injector.get(Of),E=m.create(Ps.NULL,[],l||m.selector,_),O=E.location.nativeElement,Y=E.injector.get(O_,null);return Y?.registerApplication(O),E.onDestroy(()=>{this.detachView(E.hostView),ug(this.components,E),Y?.unregisterApplication(O)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const l=r;this._views.push(l),l.attachToAppRef(this)}detachView(r){const l=r;ug(this._views,l),l.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(M_,[]).concat(this._bootstrapListeners).forEach(d=>d(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ug(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new I(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(r){return new(r||e)(Nt(bo),Nt(zo),Nt(ei))},e.\u0275prov=rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ug(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let $_=!0;function db(){$_=!1}let hb=(()=>{class e{}return e.__NG_ELEMENT_ID__=pb,e})();function pb(e){return function gb(e,t,r){if(Jn(e)&&!r){const l=er(e.index,t);return new Bu(l,l)}return 47&e.type?new Bu(t[U],t):null}(Jt(),xe(),16==(16&e))}class Z_{constructor(){}supports(t){return Ol(t)}create(t){return new wb(t)}}const Cb=(e,t)=>t;class wb{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Cb}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,l=this._removalsHead,d=0,g=null;for(;r||l;){const m=!l||r&&r.currentIndex<Q_(l,d,g)?r:l,_=Q_(m,d,g),D=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(r=r._next,null==m.previousIndex)d++;else{g||(g=[]);const E=_-d,O=D-d;if(E!=O){for(let le=0;le<E;le++){const ge=le<g.length?g[le]:g[le]=0,we=ge+le;O<=we&&we<E&&(g[le]=ge+1)}g[m.previousIndex]=O-E}}_!==D&&t(m,_,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Ol(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let d,g,m,r=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(let _=0;_<this.length;_++)g=t[_],m=this._trackByFn(_,g),null!==r&&Object.is(r.trackById,m)?(l&&(r=this._verifyReinsertion(r,g,m,_)),Object.is(r.item,g)||this._addIdentityChange(r,g)):(r=this._mismatch(r,g,m,_),l=!0),r=r._next}else d=0,function kp(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Bs()]();let l;for(;!(l=r.next()).done;)t(l.value)}}(t,_=>{m=this._trackByFn(d,_),null!==r&&Object.is(r.trackById,m)?(l&&(r=this._verifyReinsertion(r,_,m,d)),Object.is(r.item,_)||this._addIdentityChange(r,_)):(r=this._mismatch(r,_,m,d),l=!0),r=r._next,d++}),this.length=d;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,l,d){let g;return null===t?g=this._itTail:(g=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,g,d)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,g,d)):t=this._addAfter(new Db(r,l),g,d),t}_verifyReinsertion(t,r,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?t=this._reinsertAfter(g,t._prev,d):t.currentIndex!=d&&(t.currentIndex=d,this._addToMoves(t,d)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const d=t._prevRemoved,g=t._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(t,r,l),this._addToMoves(t,l),t}_moveAfter(t,r,l){return this._unlink(t),this._insertAfter(t,r,l),this._addToMoves(t,l),t}_addAfter(t,r,l){return this._insertAfter(t,r,l),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,l){const d=null===r?this._itHead:r._next;return t._next=d,t._prev=r,null===d?this._itTail=t:d._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new K_),this._linkedRecords.put(t),t.currentIndex=l,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,l=t._next;return null===r?this._itHead=l:r._next=l,null===l?this._itTail=r:l._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new K_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Db{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bb{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===r||r<=l.currentIndex)&&Object.is(l.trackById,t))return l;return null}remove(t){const r=t._prevDup,l=t._nextDup;return null===r?this._head=l:r._nextDup=l,null===l?this._tail=r:l._prevDup=r,null===this._head}}class K_{constructor(){this.map=new Map}put(t){const r=t.trackById;let l=this.map.get(r);l||(l=new bb,this.map.set(r,l)),l.add(t)}get(t,r){const d=this.map.get(t);return d?d.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Q_(e,t,r){const l=e.previousIndex;if(null===l)return l;let d=0;return r&&l<r.length&&(d=r[l]),l+t+d}class X_{constructor(){}supports(t){return t instanceof Map||Lp(t)}create(){return new Sb}}class Sb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||Lp(t)))throw new I(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(l,d)=>{if(r&&r.key===d)this._maybeAddToChanges(r,l),this._appendAfter=r,r=r._next;else{const g=this._getOrCreateRecordForKey(d,l);r=this._insertBeforeOrAppend(r,g)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let l=r;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const l=t._prev;return r._next=t,r._prev=l,t._prev=r,l&&(l._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const d=this._records.get(t);this._maybeAddToChanges(d,r);const g=d._prev,m=d._next;return g&&(g._next=m),m&&(m._prev=g),d._next=null,d._prev=null,d}const l=new Eb(t);return this._records.set(t,l),l.currentValue=r,this._addToAdditions(l),l}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(l=>r(t[l],l))}}class Eb{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function J_(){return new Im([new Z_])}let Im=(()=>{class e{constructor(r){this.factories=r}static create(r,l){if(null!=l){const d=l.factories.slice();r=r.concat(d)}return new e(r)}static extend(r){return{provide:e,useFactory:l=>e.create(r,l||J_()),deps:[[e,new gi,new pi]]}}find(r){const l=this.factories.find(d=>d.supports(r));if(null!=l)return l;throw new I(901,!1)}}return e.\u0275prov=rn({token:e,providedIn:"root",factory:J_}),e})();function eC(){return new Om([new X_])}let Om=(()=>{class e{constructor(r){this.factories=r}static create(r,l){if(l){const d=l.factories.slice();r=r.concat(d)}return new e(r)}static extend(r){return{provide:e,useFactory:l=>e.create(r,l||eC()),deps:[[e,new gi,new pi]]}}find(r){const l=this.factories.find(d=>d.supports(r));if(l)return l;throw new I(901,!1)}}return e.\u0275prov=rn({token:e,providedIn:"root",factory:eC}),e})();const Tb=N_(null,"core",[]);let Ab=(()=>{class e{constructor(r){}}return e.\u0275fac=function(r){return new(r||e)(Nt(lg))},e.\u0275mod=wi({type:e}),e.\u0275inj=mt({}),e})();function Ib(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}}},Ve=>{Ve(Ve.s=8893)}]);